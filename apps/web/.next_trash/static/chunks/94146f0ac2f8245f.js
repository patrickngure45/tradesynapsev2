(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,439138,e=>{"use strict";var r=e.i(843476),a=e.i(271645);function t(e){let r=e?.variant??"secondary",a=e?.size??"sm";return["inline-flex select-none items-center justify-center gap-2 whitespace-nowrap rounded-lg transition focus:outline-none focus:ring-2 focus:ring-[var(--ring)] disabled:pointer-events-none disabled:opacity-60","xs"===a?"h-8 px-3 text-[12px]":"md"===a?"h-11 px-5 text-sm":"h-10 px-4 text-sm","primary"===r?"bg-[var(--accent)] text-white font-semibold shadow-[var(--shadow)] hover:brightness-105":"ghost"===r?"bg-transparent text-[var(--foreground)] font-semibold hover:bg-[var(--card-2)]/60":"danger"===r?"bg-[var(--down)] text-white font-semibold shadow-[var(--shadow)] hover:brightness-105":"warning"===r?"bg-[var(--warn)] text-white font-semibold shadow-[var(--shadow)] hover:brightness-105":"success"===r?"bg-[var(--up)] text-white font-semibold shadow-[var(--shadow)] hover:brightness-105":"border border-[var(--border)] bg-[var(--card)] text-[var(--foreground)] font-semibold shadow-[var(--shadow)] hover:bg-[var(--card-2)]",e?.fullWidth?"w-full":"",e?.className??""].filter(Boolean).join(" ")}var s=e.i(261238);async function i(e){let r=new TextEncoder().encode(e);return Array.from(new Uint8Array(await crypto.subtle.digest("SHA-256",r))).map(e=>e.toString(16).padStart(2,"0")).join("")}function l(){let e=new Uint8Array(32);return crypto.getRandomValues(e),Array.from(e).map(e=>e.toString(16).padStart(2,"0")).join("")}function n(){let[e,n]=(0,a.useState)("low"),[d,o]=(0,a.useState)(!1),[c,x]=(0,a.useState)(null),[m,u]=(0,a.useState)(null),[v,h]=(0,a.useState)([]),[p,b]=(0,a.useState)(""),[g,f]=(0,a.useState)(""),[j,N]=(0,a.useState)(24),[y,w]=(0,a.useState)("low"),[k,_]=(0,a.useState)([]),[S,O]=(0,a.useState)(!1),[C,T]=(0,a.useState)(null),[J,E]=(0,a.useState)(null),[P,$]=(0,a.useState)(null),[A,R]=(0,a.useState)(null),[I,z]=(0,a.useState)(null),[M,L]=(0,a.useState)(null),[H,D]=(0,a.useState)(null),[U,F]=(0,a.useState)("low"),[V,B]=(0,a.useState)(!1),[q,K]=(0,a.useState)(null),[W,G]=(0,a.useState)(null),[X,Q]=(0,a.useState)(null),[Y,Z]=(0,a.useState)("low"),[ee,er]=(0,a.useState)(!1),[ea,et]=(0,a.useState)(null),[es,ei]=(0,a.useState)(null),[el,en]=(0,a.useState)([]),[ed,eo]=(0,a.useState)(null),[ec,ex]=(0,a.useState)(null),[em,eu]=(0,a.useState)("low"),[ev,eh]=(0,a.useState)(!1),[ep,eb]=(0,a.useState)(null),[eg,ef]=(0,a.useState)(null),[ej,eN]=(0,a.useState)("low"),[ey,ew]=(0,a.useState)(!1),[ek,e_]=(0,a.useState)(null),[eS,eO]=(0,a.useState)([]),[eC,eT]=(0,a.useState)(null),[eJ,eE]=(0,a.useState)(null),[eP,e$]=(0,a.useState)(null),[eA,eR]=(0,a.useState)("low"),[eI,ez]=(0,a.useState)(""),[eM,eL]=(0,a.useState)(!1),[eH,eD]=(0,a.useState)(null),[eU,eF]=(0,a.useState)(null),[eV,eB]=(0,a.useState)("low"),[eq,eK]=(0,a.useState)(""),[eW,eG]=(0,a.useState)(""),[eX,eQ]=(0,a.useState)(!1),[eY,eZ]=(0,a.useState)(null),[e0,e2]=(0,a.useState)(null),[e1,e5]=(0,a.useState)(!1),[e4,e3]=(0,a.useState)(null),[e6,e8]=(0,a.useState)(null),[e7,e9]=(0,a.useState)(!1),[re,rr]=(0,a.useState)("low"),[ra,rt]=(0,a.useState)(!1),[rs,ri]=(0,a.useState)(null),[rl,rn]=(0,a.useState)(null),[rd,ro]=(0,a.useState)(null),[rc,rx]=(0,a.useState)("low"),[rm,ru]=(0,a.useState)(!1),[rv,rh]=(0,a.useState)(null),[rp,rb]=(0,a.useState)(null),[rg,rf]=(0,a.useState)("low"),[rj,rN]=(0,a.useState)(!1),[ry,rw]=(0,a.useState)(null),[rk,r_]=(0,a.useState)(null),[rS,rO]=(0,a.useState)("low"),[rC,rT]=(0,a.useState)(""),[rJ,rE]=(0,a.useState)(!1),[rP,r$]=(0,a.useState)(null),[rA,rR]=(0,a.useState)(null),[rI,rz]=(0,a.useState)("low"),[rM,rL]=(0,a.useState)(!1),[rH,rD]=(0,a.useState)(null),[rU,rF]=(0,a.useState)(null),[rV,rB]=(0,a.useState)(null),[rq,rK]=(0,a.useState)(null),[rW,rG]=(0,a.useState)(!1),[rX,rQ]=(0,a.useState)(null),[rY,rZ]=(0,a.useState)(null),[r0,r2]=(0,a.useState)(!1),[r1,r5]=(0,a.useState)(!1),[r4,r3]=(0,a.useState)(null),[r6,r8]=(0,a.useState)(null),[r7,r9]=(0,a.useState)(0),[ae,ar]=(0,a.useState)(""),[aa,at]=(0,a.useState)(""),[as,ai]=(0,a.useState)(!1),[al,an]=(0,a.useState)(null),[ad,ao]=(0,a.useState)([]),[ac,ax]=(0,a.useState)(0),[am,au]=(0,a.useState)(null),[av,ah]=(0,a.useState)("low"),[ap,ab]=(0,a.useState)(!1),[ag,af]=(0,a.useState)(null),[aj,aN]=(0,a.useState)(null),[ay,aw]=(0,a.useState)(null),[ak,a_]=(0,a.useState)(""),[aS,aO]=(0,a.useState)(1),[aC,aT]=(0,a.useState)(!1),[aJ,aE]=(0,a.useState)(null),aP=(0,a.useMemo)(()=>"high"===e?"High variance: rarer outcomes are more likely, but still not guaranteed.":"medium"===e?"Medium variance: balanced distribution.":"Low variance: mostly common outcomes with a long tail.",[e]),a$=(0,a.useMemo)(()=>{let e=ad.find(e=>"perk"===e.kind&&"streak_protector"===String(e.code??""));return Number(e?.quantity??0)||0},[ad]),aA=(0,a.useMemo)(()=>{let e=ad.find(e=>"key"===e.kind&&"gate_key"===String(e.code??""));return Number(e?.quantity??0)||0},[ad]),aR=(0,a.useMemo)(()=>ad.filter(e=>"key"===e.kind&&/^season_\d{4}-\d{2}-\d{2}_set_(starter|collector)_key$/.test(String(e.code??""))).reduce((e,r)=>e+(Number(r.quantity??0)||0),0),[ad]),aI=(0,a.useMemo)(()=>ad.filter(e=>"cosmetic"===e.kind),[ad]);async function az(){try{let e=await (0,s.fetchJsonOrThrow)("/api/arcade/actions?module=time_vault&limit=20",{cache:"no-store"});_(e.actions??[])}catch{}}async function aM(){try{let e=await (0,s.fetchJsonOrThrow)("/api/arcade/actions?module=blind_creation&limit=20",{cache:"no-store"});eO(e.actions??[])}catch{}}async function aL(){try{let e=await (0,s.fetchJsonOrThrow)("/api/arcade/calendar/status",{cache:"no-store"});G(e)}catch{}}async function aH(){rD(null),rL(!0);try{let e=await (0,s.fetchJsonOrThrow)("/api/arcade/missions/status",{cache:"no-store"});rF(e)}catch(e){e instanceof s.ApiError?rD(e.code):rD("Network error")}finally{rL(!1)}}async function aD(){rQ(null),rG(!0);try{let e=await (0,s.fetchJsonOrThrow)("/api/arcade/progression",{cache:"no-store"});rZ(e.progression)}catch(e){e instanceof s.ApiError?rQ(e.code):rQ("Network error")}finally{rG(!1)}}async function aU(){r3(null),r5(!0);try{let e=await (0,s.fetchJsonOrThrow)("/api/arcade/safety",{cache:"no-store"});r8(e.limits),ar("number"==typeof e.limits.daily_action_limit?String(e.limits.daily_action_limit):""),at("number"==typeof e.limits.daily_shard_spend_limit?String(e.limits.daily_shard_spend_limit):"")}catch(e){e instanceof s.ApiError?r3(e.code):r3("Network error")}finally{r5(!1)}}async function aF(){e3(null),e5(!0);try{let e=await (0,s.fetchJsonOrThrow)("/api/arcade/community/status",{cache:"no-store"});e8(e)}catch(e){e instanceof s.ApiError?e3(e.code):e3("Network error")}finally{e5(!1)}}async function aV(){e3(null),e9(!0);try{await (0,s.fetchJsonOrThrow)("/api/arcade/community/claim",{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({})}),await Promise.all([aF(),aQ()])}catch(e){e instanceof s.ApiError?e3(e.code):e3("Network error")}finally{e9(!1)}}async function aB(){rh(null),rb(null),ru(!0);try{let e=l(),r=await i(e),a=await (0,s.fetchJsonOrThrow)("/api/arcade/insight/commit",{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({profile:rc,client_commit_hash:r})});try{localStorage.setItem(`arcade_seed:${a.action_id}`,e)}catch{}let t=await (0,s.fetchJsonOrThrow)("/api/arcade/insight/reveal",{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({action_id:a.action_id,client_seed:e})});rb(t.result),await aQ()}catch(e){e instanceof s.ApiError?rh(e.code):rh("Network error")}finally{ru(!1)}}async function aq(){r3(null),r5(!0);try{let e=ae.trim()?Number(ae.trim()):null,r=aa.trim()?Number(aa.trim()):null,a=await (0,s.fetchJsonOrThrow)("/api/arcade/safety",{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({self_exclude_hours:Number(r7||0),daily_action_limit:Number.isFinite(e)?e:null,daily_shard_spend_limit:Number.isFinite(r)?r:null})});r8(a.limits),r9(0)}catch(e){e instanceof s.ApiError?r3(e.code):r3("Network error")}finally{r5(!1)}}async function aK(){rQ(null),r2(!0);try{await (0,s.fetchJsonOrThrow)("/api/arcade/progression/prestige-reset",{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({})}),await Promise.all([aD(),aQ()])}catch(e){e instanceof s.ApiError?rQ(e.code):rQ("Network error")}finally{r2(!1)}}async function aW(){ri(null),rt(!0);try{let e=await (0,s.fetchJsonOrThrow)("/api/arcade/shared-pool/status",{cache:"no-store"});rn(e),ro(e.outcome??null)}catch(e){e instanceof s.ApiError?ri(e.code):ri("Network error"),rn(null)}finally{rt(!1)}}async function aG(e){ri(null),rt(!0);try{let r=null;try{r=localStorage.getItem(`arcade_seed:${e}`)}catch{r=null}if(!r)return void ri("missing_client_seed");let a=await (0,s.fetchJsonOrThrow)("/api/arcade/shared-pool/reveal",{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({action_id:e,client_seed:r})});ro(a.result),await Promise.all([aW(),aQ()])}catch(e){e instanceof s.ApiError?ri(e.code):ri("Network error")}finally{rt(!1)}}async function aX(){ri(null),ro(null),rt(!0);try{let e=l(),r=await i(e),a=await (0,s.fetchJsonOrThrow)("/api/arcade/shared-pool/commit",{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({profile:re,client_commit_hash:r})});try{localStorage.setItem(`arcade_seed:${a.action_id}`,e)}catch{}let t=await (0,s.fetchJsonOrThrow)("/api/arcade/shared-pool/reveal",{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({action_id:a.action_id,client_seed:e})});ro(t.result),await Promise.all([aW(),aQ()])}catch(e){e instanceof s.ApiError?ri(e.code):ri("Network error")}finally{rt(!1)}}async function aQ(){an(null),ai(!0);try{let e=await (0,s.fetchJsonOrThrow)("/api/arcade/inventory",{cache:"no-store"});if(ao(e.items??[]),ax(Number(e.shards??0)),!ak){let r=(e.items??[]).find(e=>"shard"!==e.kind);r&&a_(`${r.kind}::${r.code}::${r.rarity}`)}}catch(e){e instanceof s.ApiError?an(e.code):an("Network error")}finally{ai(!1)}}async function aY(e){af(null);try{let r=e?`?season_key=${encodeURIComponent(e)}`:"",a=await (0,s.fetchJsonOrThrow)(`/api/arcade/badge-pools/status${r}`,{cache:"no-store"});aN(a)}catch(e){e instanceof s.ApiError?af(e.code):af("Network error"),aN(null)}}async function aZ(){af(null),aw(null),ab(!0);try{let e=l(),r=await i(e),a=await (0,s.fetchJsonOrThrow)("/api/arcade/daily/commit",{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({module:"seasonal_badges",profile:av,client_commit_hash:r})}),t=await (0,s.fetchJsonOrThrow)("/api/arcade/daily/reveal",{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({action_id:a.action_id,client_seed:e})});aw(t.result),await Promise.all([aY(),aQ()])}catch(e){e instanceof s.ApiError?af(e.code):af("Network error")}finally{ab(!1)}}async function a0(){K(null),Q(null),B(!0);try{let e=l(),r=await i(e),a=await (0,s.fetchJsonOrThrow)("/api/arcade/calendar/daily/commit",{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({profile:U,client_commit_hash:r})});try{localStorage.setItem(`arcade_seed:${a.action_id}`,e)}catch{}let t=await (0,s.fetchJsonOrThrow)("/api/arcade/calendar/daily/reveal",{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({action_id:a.action_id,client_seed:e})});Q(t.result),await aL()}catch(e){e instanceof s.ApiError?K(e.code):K("Network error")}finally{B(!1)}}async function a2(){et(null),eo(null),en([]),ei(null),er(!0);try{let e=l(),r=await i(e),a=await (0,s.fetchJsonOrThrow)("/api/arcade/draft/commit",{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({profile:Y,client_commit_hash:r})});ei(a.action_id);try{localStorage.setItem(`arcade_seed:${a.action_id}`,e)}catch{}let t=await (0,s.fetchJsonOrThrow)("/api/arcade/draft/reveal",{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({action_id:a.action_id,client_seed:e})});en(t.options??[])}catch(e){e instanceof s.ApiError?et(e.code):et("Network error")}finally{er(!1)}}async function a1(e){if(es){et(null),ex(e);try{let r=await (0,s.fetchJsonOrThrow)("/api/arcade/draft/pick",{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({action_id:es,option_code:e})});eo(r.result?.picked??r.result)}catch(e){e instanceof s.ApiError?et(e.code):et("Network error")}finally{ex(null)}}}async function a5(){if(!ak)return;let[e,r,a]=ak.split("::");if(e&&r&&a){an(null),aT(!0);try{await (0,s.fetchJsonOrThrow)("/api/arcade/crafting/salvage",{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({kind:e,code:r,rarity:a,quantity:Number(aS)})}),await aQ()}catch(e){e instanceof s.ApiError?an(e.code):an("Network error")}finally{aT(!1)}}}async function a4(e){an(null),aE(e);try{await (0,s.fetchJsonOrThrow)("/api/arcade/crafting/craft",{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({recipe_code:e})}),await aQ()}catch(e){e instanceof s.ApiError?an(e.code):an("Network error")}finally{aE(null)}}async function a3(){T(null),R(null),O(!0);try{let e=l(),r=await i(e),a=await (0,s.fetchJsonOrThrow)("/api/arcade/vaults/create",{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({asset_id:p,amount:g,duration_hours:j,profile:y,client_commit_hash:r})});try{localStorage.setItem(`arcade_seed:${a.action_id}`,e)}catch{}await az()}catch(e){e instanceof s.ApiError?T(e.code):T("Network error")}finally{O(!1)}}async function a6(e){$(null),R(null),E(e);try{let r=null;try{r=localStorage.getItem(`arcade_seed:${e}`)}catch{r=null}if(!r)return void $("missing_client_seed");let a=await (0,s.fetchJsonOrThrow)("/api/arcade/vaults/reveal",{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({action_id:e,client_seed:r})});R(a.result),await az()}catch(e){e instanceof s.ApiError?$(e.code):$("Network error")}finally{E(null)}}async function a8(e){L(null),D(null),z(e);try{let r=null;try{r=localStorage.getItem(`arcade_seed:${e}`)}catch{r=null}if(!r)return void L("missing_client_seed");let a=await (0,s.fetchJsonOrThrow)("/api/arcade/vaults/hint",{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({action_id:e,client_seed:r})});D(a.hint),await az()}catch(e){e instanceof s.ApiError?L(e.code):L("Network error")}finally{z(null)}}async function a7(){x(null),u(null),o(!0);try{let r=l(),a=await i(r),t=await (0,s.fetchJsonOrThrow)("/api/arcade/daily/commit",{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({module:"daily_drop",profile:e,client_commit_hash:a})}),n=await (0,s.fetchJsonOrThrow)("/api/arcade/daily/reveal",{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({action_id:t.action_id,client_seed:r})});u(n.result)}catch(e){e instanceof s.ApiError?x(e.code):x("Network error")}finally{o(!1)}}async function a9(){eb(null),ef(null),eh(!0);try{let e=l(),r=await i(e),a=await (0,s.fetchJsonOrThrow)("/api/arcade/wheel/commit",{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({profile:em,client_commit_hash:r})});try{localStorage.setItem(`arcade_seed:${a.action_id}`,e)}catch{}let t=await (0,s.fetchJsonOrThrow)("/api/arcade/wheel/reveal",{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({action_id:a.action_id,client_seed:e})});ef(t.result),await aQ()}catch(e){e instanceof s.ApiError?eb(e.code):eb("Network error")}finally{eh(!1)}}async function te(){r$(null),rR(null),rE(!0);try{let e=String(rC??"").trim();if(e.length<10)return void r$("invalid_input");let r=l(),a=await i(r),t=await (0,s.fetchJsonOrThrow)("/api/arcade/ai/commit",{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({profile:rS,client_commit_hash:a,prompt:e})});try{localStorage.setItem(`arcade_seed:${t.action_id}`,r)}catch{}let n=await (0,s.fetchJsonOrThrow)("/api/arcade/ai/reveal",{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({action_id:t.action_id,client_seed:r,prompt:e})});rR(n.result),await aQ()}catch(e){e instanceof s.ApiError?r$(e.code):r$("Network error")}finally{rE(!1)}}async function tr(){e_(null),e$(null),ew(!0);try{let e=l(),r=await i(e),a=await (0,s.fetchJsonOrThrow)("/api/arcade/creation/create",{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({profile:ej,client_commit_hash:r})});try{localStorage.setItem(`arcade_seed:${a.action_id}`,e)}catch{}await Promise.all([aM(),aQ()])}catch(e){e instanceof s.ApiError?e_(e.code):e_("Network error")}finally{ew(!1)}}async function ta(e){eE(null),e$(null),eT(e);try{let r=null;try{r=localStorage.getItem(`arcade_seed:${e}`)}catch{r=null}if(!r)return void eE("missing_client_seed");let a=await (0,s.fetchJsonOrThrow)("/api/arcade/creation/reveal",{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({action_id:e,client_seed:r})});e$(a.result),await Promise.all([aM(),aQ()])}catch(e){e instanceof s.ApiError?eE(e.code):eE("Network error")}finally{eT(null)}}async function tt(){if(!eI)return;let[e,r,a]=eI.split("::");if(e&&r&&a){eD(null),eF(null),eL(!0);try{let t=l(),n=await i(t),d=await (0,s.fetchJsonOrThrow)("/api/arcade/mutation/commit",{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({profile:eA,client_commit_hash:n,item:{kind:e,code:r,rarity:a}})});try{localStorage.setItem(`arcade_seed:${d.action_id}`,t)}catch{}let o=await (0,s.fetchJsonOrThrow)("/api/arcade/mutation/reveal",{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({action_id:d.action_id,client_seed:t})});eF(o.result),await aQ()}catch(e){e instanceof s.ApiError?eD(e.code):eD("Network error")}finally{eL(!1)}}}async function ts(){if(!eq||!eW)return;let[e,r,a]=eq.split("::"),[t,n,d]=eW.split("::");if(e&&r&&a&&t&&n&&d){if(eq===eW)return void eZ("must_choose_two_distinct_items");eZ(null),e2(null),eQ(!0);try{let o=l(),c=await i(o),x=await (0,s.fetchJsonOrThrow)("/api/arcade/fusion/commit",{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({profile:eV,client_commit_hash:c,item_a:{kind:e,code:r,rarity:a},item_b:{kind:t,code:n,rarity:d}})});try{localStorage.setItem(`arcade_seed:${x.action_id}`,o)}catch{}let m=await (0,s.fetchJsonOrThrow)("/api/arcade/fusion/reveal",{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({action_id:x.action_id,client_seed:o})});e2(m.result),await aQ()}catch(e){e instanceof s.ApiError?eZ(e.code):eZ("Network error")}finally{eQ(!1)}}}async function ti(){rw(null),r_(null),rN(!0);try{let e=l(),r=await i(e),a=await (0,s.fetchJsonOrThrow)("/api/arcade/streak/commit",{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({profile:rg,client_commit_hash:r})});try{localStorage.setItem(`arcade_seed:${a.action_id}`,e)}catch{}let t=await (0,s.fetchJsonOrThrow)("/api/arcade/streak/reveal",{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({action_id:a.action_id,client_seed:e})});r_(t.result),await aQ()}catch(e){e instanceof s.ApiError?rw(e.code):rw("Network error")}finally{rN(!1)}}async function tl(e){rK(null),rD(null),rB(e);try{let r=l(),a=await i(r),t=await (0,s.fetchJsonOrThrow)("/api/arcade/missions/commit",{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({mission_code:e,profile:rI,client_commit_hash:a})}),n=await (0,s.fetchJsonOrThrow)("/api/arcade/missions/reveal",{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({action_id:t.action_id,client_seed:r})});rK(n.result),await Promise.all([aH(),aQ()])}catch(e){e instanceof s.ApiError?rD(e.code):rD("Network error")}finally{rB(null)}}return(0,a.useEffect)(()=>{if(!eI&&aI.length>0){let e=aI[0];ez(`${e.kind}::${e.code}::${e.rarity}`)}if(!eq&&aI.length>0){let e=aI[0];eK(`${e.kind}::${e.code}::${e.rarity}`)}if(!eW&&aI.length>1){let e=aI[1];eG(`${e.kind}::${e.code}::${e.rarity}`)}},[aI,eI,eq,eW]),(0,a.useEffect)(()=>{let e=!1;return(async()=>{try{let r=await (0,s.fetchJsonOrThrow)("/api/exchange/assets",{cache:"no-store"});if(e)return;let a=(r.assets??[]).slice();if(h(a),!p&&a.length>0){let e=a.find(e=>"USDT"===e.symbol)??a[0];e&&b(e.id)}}catch{}})(),()=>{e=!0}},[]),(0,a.useEffect)(()=>{az()},[]),(0,a.useEffect)(()=>{aM()},[]),(0,a.useEffect)(()=>{aL()},[]),(0,a.useEffect)(()=>{aH()},[]),(0,a.useEffect)(()=>{aD()},[]),(0,a.useEffect)(()=>{aU()},[]),(0,a.useEffect)(()=>{aF()},[]),(0,a.useEffect)(()=>{aW()},[]),(0,a.useEffect)(()=>{aQ()},[]),(0,a.useEffect)(()=>{let e=!1;(async()=>{try{let r=await (0,s.fetchJsonOrThrow)("/api/arcade/season",{cache:"no-store"});e||au(r.season??null)}catch{e||au(null)}})();let r=setInterval(()=>void(async()=>{try{let r=await (0,s.fetchJsonOrThrow)("/api/arcade/season",{cache:"no-store"});e||au(r.season??null)}catch{}})(),6e4);return()=>{e=!0,clearInterval(r)}},[]),(0,a.useEffect)(()=>{aY()},[]),(0,r.jsxs)("div",{className:"grid gap-6",children:[(0,r.jsxs)("section",{className:"relative overflow-hidden rounded-2xl border border-[var(--border)] bg-[var(--card)] shadow-[var(--shadow)]",children:[(0,r.jsx)("div",{className:"pointer-events-none absolute inset-0 opacity-60","aria-hidden":!0,style:{backgroundImage:"radial-gradient(circle at 18% 28%, var(--ring) 0, transparent 55%), radial-gradient(circle at 82% 72%, var(--ring) 0, transparent 55%)"}}),(0,r.jsxs)("div",{className:"relative p-5 md:p-6",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsxs)("span",{className:"relative inline-flex h-2.5 w-2.5 shrink-0 items-center justify-center",children:[(0,r.jsx)("span",{className:"absolute inline-flex h-2.5 w-2.5 rounded-full bg-[var(--accent)]"}),(0,r.jsx)("span",{className:"absolute inline-flex h-4.5 w-4.5 rounded-full bg-[var(--ring)]"})]}),(0,r.jsx)("div",{className:"text-[11px] font-bold uppercase tracking-widest text-[var(--muted)]",children:"Progression"}),(0,r.jsx)("div",{className:"h-px flex-1 bg-[var(--border)]"}),(0,r.jsx)("button",{className:t({variant:"ghost",size:"xs"}),onClick:aD,disabled:rW,children:rW?"Refreshing…":"Refresh"})]}),(0,r.jsxs)("div",{className:"mt-4 grid gap-3 sm:grid-cols-3",children:[(0,r.jsxs)("div",{className:"rounded-2xl border border-[var(--border)] bg-[var(--bg)] p-4",children:[(0,r.jsx)("div",{className:"text-[11px] font-bold uppercase tracking-widest text-[var(--muted)]",children:"XP"}),(0,r.jsx)("div",{className:"mt-2 text-2xl font-extrabold tracking-tight text-[var(--foreground)]",children:rY?rY.xp:"—"}),(0,r.jsxs)("div",{className:"mt-1 text-xs text-[var(--muted)]",children:["Next tier at ",(0,r.jsx)("span",{className:"font-mono text-[var(--foreground)]",children:rY?.next_tier_xp??"—"})]})]}),(0,r.jsxs)("div",{className:"rounded-2xl border border-[var(--border)] bg-[var(--bg)] p-4",children:[(0,r.jsx)("div",{className:"text-[11px] font-bold uppercase tracking-widest text-[var(--muted)]",children:"Tier"}),(0,r.jsx)("div",{className:"mt-2 text-2xl font-extrabold tracking-tight text-[var(--foreground)]",children:rY?rY.tier:"—"}),(0,r.jsx)("div",{className:"mt-1 text-xs text-[var(--muted)]",children:"Tier-ups can grant a small bounded bonus XP."})]}),(0,r.jsxs)("div",{className:"rounded-2xl border border-[var(--border)] bg-[var(--bg)] p-4",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between gap-3",children:[(0,r.jsx)("div",{className:"text-[11px] font-bold uppercase tracking-widest text-[var(--muted)]",children:"Prestige"}),(0,r.jsx)("button",{className:t({variant:"secondary",size:"xs"}),onClick:aK,disabled:r0||!rY||rY.tier<3,title:rY&&rY.tier<3?"Reach Tier 3 to prestige":"",children:r0?"Resetting…":"Prestige"})]}),(0,r.jsx)("div",{className:"mt-2 text-2xl font-extrabold tracking-tight text-[var(--foreground)]",children:rY?rY.prestige:"—"}),(0,r.jsx)("div",{className:"mt-1 text-xs text-[var(--muted)]",children:"Optional reset for long-term cosmetics."})]})]}),rX?(0,r.jsxs)("div",{className:"mt-4 rounded-xl border border-[var(--border)] bg-[var(--warn-bg)] px-4 py-3 text-xs text-[var(--foreground)]",children:["Error: ",(0,r.jsx)("span",{className:"font-semibold",children:rX})]}):null]})]}),(0,r.jsxs)("section",{className:"relative overflow-hidden rounded-2xl border border-[var(--border)] bg-[var(--card)] shadow-[var(--shadow)]",children:[(0,r.jsx)("div",{className:"pointer-events-none absolute inset-0 opacity-60","aria-hidden":!0,style:{backgroundImage:"radial-gradient(circle at 16% 26%, var(--ring) 0, transparent 55%), radial-gradient(circle at 86% 76%, var(--ring) 0, transparent 55%)"}}),(0,r.jsxs)("div",{className:"relative p-5 md:p-6",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsxs)("span",{className:"relative inline-flex h-2.5 w-2.5 shrink-0 items-center justify-center",children:[(0,r.jsx)("span",{className:"absolute inline-flex h-2.5 w-2.5 rounded-full bg-[var(--accent-2)]"}),(0,r.jsx)("span",{className:"absolute inline-flex h-4.5 w-4.5 rounded-full bg-[var(--ring)]"})]}),(0,r.jsx)("div",{className:"text-[11px] font-bold uppercase tracking-widest text-[var(--muted)]",children:"AI Oracle"}),(0,r.jsx)("div",{className:"h-px flex-1 bg-[var(--border)]"})]}),(0,r.jsxs)("div",{className:"mt-4 flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[(0,r.jsxs)("div",{className:"min-w-0",children:[(0,r.jsx)("div",{className:"text-xl font-extrabold tracking-tight text-[var(--foreground)]",children:"Tiered answers"}),(0,r.jsx)("div",{className:"mt-1 text-sm text-[var(--muted)]",children:"Same prompt → different tiers · rare tiers become collectible templates"}),(0,r.jsxs)("div",{className:"mt-2 text-xs text-[var(--muted)]",children:["Cost: ",(0,r.jsx)("span",{className:"font-mono text-[var(--foreground)]",children:"5"})," shards · Not financial advice"]})]}),(0,r.jsxs)("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-center",children:[(0,r.jsxs)("div",{className:"inline-flex items-center gap-2 rounded-xl border border-[var(--border)] bg-[var(--bg)] px-3 py-2",children:[(0,r.jsx)("span",{className:"text-[11px] font-bold uppercase tracking-wider text-[var(--muted)]",children:"Volatility"}),(0,r.jsxs)("select",{value:rS,onChange:e=>rO(e.target.value),className:"rounded-lg border border-[var(--border)] bg-[var(--card)] px-2 py-1 text-xs font-semibold text-[var(--foreground)]","aria-label":"Oracle volatility profile",children:[(0,r.jsx)("option",{value:"low",children:"Low"}),(0,r.jsx)("option",{value:"medium",children:"Medium"}),(0,r.jsxs)("option",{value:"high",disabled:aA+aR<=0,children:["High",aA+aR<=0?" (Key)":""]})]})]}),(0,r.jsxs)("div",{className:"inline-flex items-center gap-2 rounded-xl border border-[var(--border)] bg-[var(--bg)] px-3 py-2",children:[(0,r.jsx)("span",{className:"text-[11px] font-bold uppercase tracking-wider text-[var(--muted)]",children:"Shards"}),(0,r.jsx)("span",{className:"font-mono text-xs font-semibold text-[var(--foreground)]",children:as?"…":ac})]}),(0,r.jsx)("button",{className:t({variant:"primary",size:"sm"}),onClick:te,disabled:rJ||as||ac<5||String(rC??"").trim().length<10,children:rJ?"Asking…":"Ask"})]})]}),(0,r.jsxs)("div",{className:"mt-4 rounded-2xl border border-[var(--border)] bg-[var(--bg)] p-4",children:[(0,r.jsx)("div",{className:"text-[11px] font-bold uppercase tracking-widest text-[var(--muted)]",children:"Prompt"}),(0,r.jsx)("textarea",{value:rC,onChange:e=>rT(e.target.value),rows:4,placeholder:"Ask a question (e.g. 'How do I verify a token contract and avoid scams?')",className:"mt-2 w-full rounded-xl border border-[var(--border)] bg-[var(--card)] px-3 py-2 text-sm text-[var(--foreground)] outline-none focus:ring-2 focus:ring-[var(--ring)]"}),(0,r.jsx)("div",{className:"mt-2 text-xs text-[var(--muted)]",children:"Tip: be specific; avoid sharing private keys or sensitive data."})]}),rP&&(0,r.jsxs)("div",{className:"mt-4 rounded-xl border border-[var(--border)] bg-[var(--warn-bg)] px-4 py-3 text-xs text-[var(--foreground)]",children:["Error: ",(0,r.jsx)("span",{className:"font-semibold",children:rP})]}),rA?.response_text?(0,r.jsxs)("div",{className:"mt-4 grid gap-3",children:[(0,r.jsxs)("div",{className:"rounded-2xl border border-[var(--border)] bg-[var(--card-2)] p-4",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between gap-3",children:[(0,r.jsx)("div",{className:"text-sm font-extrabold tracking-tight text-[var(--foreground)]",children:"Oracle response"}),(0,r.jsx)("div",{className:"text-[11px] font-bold uppercase tracking-widest text-[var(--muted)]",children:String(rA?.tier??"common")})]}),(0,r.jsx)("pre",{className:"mt-3 whitespace-pre-wrap text-xs text-[var(--foreground)]",children:String(rA.response_text)}),rA?.collectible?.code?(0,r.jsxs)("div",{className:"mt-3 text-xs text-[var(--muted)]",children:["Collected template: ",(0,r.jsx)("span",{className:"font-mono text-[var(--foreground)]",children:rA.collectible.code})]}):null]}),rA?.audit?(0,r.jsxs)("details",{className:"rounded-2xl border border-[var(--border)] bg-[var(--bg)] p-4",children:[(0,r.jsx)("summary",{className:"cursor-pointer text-xs font-bold uppercase tracking-widest text-[var(--muted)]",children:"Fairness proof"}),(0,r.jsxs)("div",{className:"mt-3 grid gap-2 text-xs text-[var(--muted)]",children:[(0,r.jsxs)("div",{children:["client_commit_hash: ",(0,r.jsx)("span",{className:"font-mono text-[var(--foreground)]",children:rA.audit.client_commit_hash})]}),(0,r.jsxs)("div",{children:["server_commit_hash: ",(0,r.jsx)("span",{className:"font-mono text-[var(--foreground)]",children:rA.audit.server_commit_hash})]}),(0,r.jsxs)("div",{children:["server_seed_b64: ",(0,r.jsx)("span",{className:"font-mono text-[var(--foreground)]",children:rA.audit.server_seed_b64})]}),(0,r.jsxs)("div",{children:["random_hash: ",(0,r.jsx)("span",{className:"font-mono text-[var(--foreground)]",children:rA.audit.random_hash})]}),(0,r.jsxs)("div",{children:["roll: ",(0,r.jsx)("span",{className:"font-semibold text-[var(--foreground)]",children:rA.audit.roll})," / ",rA.audit.total]})]})]}):null]}):null]})]}),(0,r.jsxs)("section",{className:"relative overflow-hidden rounded-2xl border border-[var(--border)] bg-[var(--card)] shadow-[var(--shadow)]",children:[(0,r.jsx)("div",{className:"pointer-events-none absolute inset-0 opacity-60","aria-hidden":!0,style:{backgroundImage:"radial-gradient(circle at 18% 22%, var(--ring) 0, transparent 55%), radial-gradient(circle at 84% 70%, var(--ring) 0, transparent 55%)"}}),(0,r.jsxs)("div",{className:"relative p-5 md:p-6",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsxs)("span",{className:"relative inline-flex h-2.5 w-2.5 shrink-0 items-center justify-center",children:[(0,r.jsx)("span",{className:"absolute inline-flex h-2.5 w-2.5 rounded-full bg-[var(--accent)]"}),(0,r.jsx)("span",{className:"absolute inline-flex h-4.5 w-4.5 rounded-full bg-[var(--ring)]"})]}),(0,r.jsx)("div",{className:"text-[11px] font-bold uppercase tracking-widest text-[var(--muted)]",children:"Shared pool"}),(0,r.jsx)("div",{className:"h-px flex-1 bg-[var(--border)]"}),(0,r.jsx)("button",{className:t({variant:"ghost",size:"xs"}),onClick:aW,disabled:ra,children:ra?"Refreshing…":"Refresh"})]}),(0,r.jsxs)("div",{className:"mt-4 flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[(0,r.jsxs)("div",{className:"min-w-0",children:[(0,r.jsx)("div",{className:"text-xl font-extrabold tracking-tight text-[var(--foreground)]",children:"Weekly pool claim"}),(0,r.jsx)("div",{className:"mt-1 text-sm text-[var(--muted)]",children:"Everyone gets a baseline badge. Some get a boosted cosmetic or a key."}),(0,r.jsxs)("div",{className:"mt-2 text-xs text-[var(--muted)]",children:["Week start: ",(0,r.jsx)("span",{className:"font-mono",children:rl?.week_start??"…"}),(0,r.jsx)("span",{className:"mx-2 text-[var(--border)]",children:"•"}),"Cost: ",(0,r.jsx)("span",{className:"font-mono text-[var(--foreground)]",children:"10"})," shards"]})]}),(0,r.jsxs)("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-center",children:[(0,r.jsxs)("div",{className:"inline-flex items-center gap-2 rounded-xl border border-[var(--border)] bg-[var(--bg)] px-3 py-2",children:[(0,r.jsx)("span",{className:"text-[11px] font-bold uppercase tracking-wider text-[var(--muted)]",children:"Volatility"}),(0,r.jsxs)("select",{value:re,onChange:e=>rr(e.target.value),className:"rounded-lg border border-[var(--border)] bg-[var(--card)] px-2 py-1 text-xs font-semibold text-[var(--foreground)]","aria-label":"Shared pool volatility profile",children:[(0,r.jsx)("option",{value:"low",children:"Low"}),(0,r.jsx)("option",{value:"medium",children:"Medium"}),(0,r.jsx)("option",{value:"high",children:"High"})]})]}),rl?.participated&&rl?.action_status==="committed"&&rl?.action_id?(0,r.jsx)("button",{className:t({variant:"primary",size:"sm"}),onClick:()=>aG(rl.action_id),disabled:ra,children:ra?"Revealing…":"Reveal"}):(0,r.jsx)("button",{className:t({variant:"primary",size:"sm"}),onClick:aX,disabled:ra||!!rl?.participated,children:rl?.participated?"Joined":ra?"Joining…":"Join"})]})]}),rs&&(0,r.jsxs)("div",{className:"mt-4 rounded-xl border border-[var(--border)] bg-[var(--warn-bg)] px-4 py-3 text-xs text-[var(--foreground)]",children:["Error: ",(0,r.jsx)("span",{className:"font-semibold",children:rs})]}),rd?.outcome?(0,r.jsxs)("div",{className:"mt-4 grid gap-3 md:grid-cols-2",children:[(0,r.jsxs)("div",{className:"rounded-2xl border border-[var(--border)] bg-[var(--bg)] p-4",children:[(0,r.jsx)("div",{className:"text-[11px] font-bold uppercase tracking-widest text-[var(--muted)]",children:"Baseline"}),(0,r.jsx)("div",{className:"mt-2 text-sm font-extrabold tracking-tight text-[var(--foreground)]",children:rd.outcome.baseline?.label??"—"}),(0,r.jsxs)("div",{className:"mt-1 text-xs text-[var(--muted)]",children:["Rarity: ",rd.outcome.baseline?.rarity??"—"]})]}),(0,r.jsxs)("div",{className:"rounded-2xl border border-[var(--border)] bg-[var(--bg)] p-4",children:[(0,r.jsx)("div",{className:"text-[11px] font-bold uppercase tracking-widest text-[var(--muted)]",children:"Boost"}),(0,r.jsx)("div",{className:"mt-2 text-sm font-extrabold tracking-tight text-[var(--foreground)]",children:rd.outcome.boost?.label??"No boost"}),(0,r.jsxs)("div",{className:"mt-1 text-xs text-[var(--muted)]",children:["Rarity: ",rd.outcome.boost?.rarity??"—"]})]})]}):null]})]}),(0,r.jsxs)("section",{className:"relative overflow-hidden rounded-2xl border border-[var(--border)] bg-[var(--card)] shadow-[var(--shadow)]",children:[(0,r.jsx)("div",{className:"pointer-events-none absolute inset-0 opacity-60","aria-hidden":!0,style:{backgroundImage:"radial-gradient(circle at 14% 22%, var(--ring) 0, transparent 55%), radial-gradient(circle at 88% 70%, var(--ring) 0, transparent 55%)"}}),(0,r.jsxs)("div",{className:"relative p-5 md:p-6",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsxs)("span",{className:"relative inline-flex h-2.5 w-2.5 shrink-0 items-center justify-center",children:[(0,r.jsx)("span",{className:"absolute inline-flex h-2.5 w-2.5 rounded-full bg-[var(--accent-2)]"}),(0,r.jsx)("span",{className:"absolute inline-flex h-4.5 w-4.5 rounded-full bg-[var(--ring)]"})]}),(0,r.jsx)("div",{className:"text-[11px] font-bold uppercase tracking-widest text-[var(--muted)]",children:"Badge pools"}),(0,r.jsx)("div",{className:"h-px flex-1 bg-[var(--border)]"})]}),(0,r.jsxs)("div",{className:"mt-4 flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[(0,r.jsxs)("div",{className:"min-w-0",children:[(0,r.jsx)("div",{className:"text-xl font-extrabold tracking-tight text-[var(--foreground)]",children:"Seasonal badge drops"}),(0,r.jsx)("div",{className:"mt-1 text-sm text-[var(--muted)]",children:"One claim per day · seasonal pool rotates weekly · complete sets to unlock keys"}),(0,r.jsxs)("div",{className:"mt-2 text-xs text-[var(--muted)]",children:["Pool: ",(0,r.jsx)("span",{className:"font-semibold text-[var(--foreground)]",children:aj?.pool?.label??"—"}),aj?.season?.key?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("span",{className:"mx-2 text-[var(--border)]",children:"•"}),"Season: ",(0,r.jsx)("span",{className:"font-mono text-[var(--foreground)]",children:aj.season.key})]}):null]})]}),(0,r.jsxs)("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-center",children:[(0,r.jsxs)("div",{className:"inline-flex items-center gap-2 rounded-xl border border-[var(--border)] bg-[var(--bg)] px-3 py-2",children:[(0,r.jsx)("span",{className:"text-[11px] font-bold uppercase tracking-wider text-[var(--muted)]",children:"Volatility"}),(0,r.jsxs)("select",{value:av,onChange:e=>ah(e.target.value),className:"rounded-lg border border-[var(--border)] bg-[var(--card)] px-2 py-1 text-xs font-semibold text-[var(--foreground)]","aria-label":"Volatility profile",children:[(0,r.jsx)("option",{value:"low",children:"Low"}),(0,r.jsx)("option",{value:"medium",children:"Medium"}),(0,r.jsx)("option",{value:"high",children:"High"})]})]}),(0,r.jsx)("button",{className:t({variant:"primary",size:"sm"}),onClick:aZ,disabled:ap,children:ap?"Claiming…":"Claim"}),(0,r.jsx)("button",{onClick:()=>aY(),className:t({variant:"ghost",size:"xs"}),disabled:ap,children:"Refresh"})]})]}),(0,r.jsx)("div",{className:"mt-3 text-xs text-[var(--muted)]",children:"high"===av?"High variance: rarer seasonal badges are more likely.":"medium"===av?"Medium variance: balanced seasonal drops.":"Low variance: mostly common seasonal badges."}),(0,r.jsx)("div",{className:"mt-4 grid gap-3 md:grid-cols-2",children:(aj?.sets??[]).map(e=>{let a=(e.have??0)>=(e.required??0)&&(e.required??0)>0;return(0,r.jsxs)("div",{className:"rounded-2xl border border-[var(--border)] bg-[var(--bg)] p-4",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between gap-3",children:[(0,r.jsx)("div",{className:"text-sm font-extrabold tracking-tight text-[var(--foreground)]",children:e.label}),(0,r.jsx)("div",{className:"text-[11px] font-bold uppercase tracking-widest "+(e.unlocked?"text-[var(--up)]":a?"text-[var(--warn)]":"text-[var(--muted)]"),children:e.unlocked?"Unlocked":a?"Ready":"In progress"})]}),(0,r.jsxs)("div",{className:"mt-2 text-xs text-[var(--muted)]",children:["Progress: ",(0,r.jsx)("span",{className:"font-semibold text-[var(--foreground)]",children:e.have})," / ",e.required]}),(0,r.jsxs)("div",{className:"mt-2 text-xs text-[var(--muted)]",children:["Unlock key: ",(0,r.jsx)("span",{className:"font-mono text-[var(--foreground)]",children:e.unlock_key?.code??"—"})]})]},e.id)})}),ag&&(0,r.jsxs)("div",{className:"mt-4 rounded-xl border border-[var(--border)] bg-[var(--warn-bg)] px-4 py-3 text-xs text-[var(--foreground)]",children:["Error: ",(0,r.jsx)("span",{className:"font-semibold",children:ag})]}),ay&&(0,r.jsxs)("div",{className:"mt-4 rounded-2xl border border-[var(--border)] bg-[var(--card-2)] p-4",children:[(0,r.jsx)("div",{className:"text-[11px] font-bold uppercase tracking-widest text-[var(--muted)]",children:"Last drop"}),(0,r.jsx)("div",{className:"mt-2 text-sm font-extrabold tracking-tight text-[var(--foreground)]",children:ay?.outcome?.label??"—"}),(0,r.jsxs)("div",{className:"mt-1 text-xs text-[var(--muted)]",children:["Rarity: ",ay?.outcome?.rarity??"—"]}),Array.isArray(ay?.unlocks?.keys)&&ay.unlocks.keys.length?(0,r.jsxs)("div",{className:"mt-2 text-xs text-[var(--muted)]",children:["Unlocks: ",(0,r.jsx)("span",{className:"font-semibold text-[var(--foreground)]",children:ay.unlocks.keys.length})," key(s)"]}):null]})]})]}),(0,r.jsxs)("section",{className:"relative overflow-hidden rounded-2xl border border-[var(--border)] bg-[var(--card)] shadow-[var(--shadow)]",children:[(0,r.jsx)("div",{className:"pointer-events-none absolute inset-0 opacity-60","aria-hidden":!0,style:{backgroundImage:"radial-gradient(circle at 16% 26%, var(--ring) 0, transparent 55%), radial-gradient(circle at 86% 76%, var(--ring) 0, transparent 55%)"}}),(0,r.jsxs)("div",{className:"relative p-5 md:p-6",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsxs)("span",{className:"relative inline-flex h-2.5 w-2.5 shrink-0 items-center justify-center",children:[(0,r.jsx)("span",{className:"absolute inline-flex h-2.5 w-2.5 rounded-full bg-[var(--accent-2)]"}),(0,r.jsx)("span",{className:"absolute inline-flex h-4.5 w-4.5 rounded-full bg-[var(--ring)]"})]}),(0,r.jsx)("div",{className:"text-[11px] font-bold uppercase tracking-widest text-[var(--muted)]",children:"Community event"}),(0,r.jsx)("div",{className:"h-px flex-1 bg-[var(--border)]"}),(0,r.jsx)("button",{className:t({variant:"ghost",size:"xs"}),onClick:aF,disabled:e1,children:e1?"Refreshing…":"Refresh"})]}),(0,r.jsxs)("div",{className:"mt-4 flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[(0,r.jsxs)("div",{className:"min-w-0",children:[(0,r.jsx)("div",{className:"text-xl font-extrabold tracking-tight text-[var(--foreground)]",children:"Weekly unlock"}),(0,r.jsx)("div",{className:"mt-1 text-sm text-[var(--muted)]",children:"Global arcade actions unlock a one-time claim for everyone."}),(0,r.jsxs)("div",{className:"mt-2 text-xs text-[var(--muted)]",children:["Week start: ",(0,r.jsx)("span",{className:"font-mono",children:e6?.week_start??"…"})]})]}),(0,r.jsxs)("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-center",children:[(0,r.jsxs)("div",{className:"inline-flex items-center gap-2 rounded-xl border border-[var(--border)] bg-[var(--bg)] px-3 py-2",children:[(0,r.jsx)("span",{className:"text-[11px] font-bold uppercase tracking-wider text-[var(--muted)]",children:"Progress"}),(0,r.jsx)("span",{className:"font-mono text-xs font-semibold text-[var(--foreground)]",children:"number"==typeof e6?.progress?e6.progress:"…"}),(0,r.jsx)("span",{className:"text-xs text-[var(--muted)]",children:"/"}),(0,r.jsx)("span",{className:"font-mono text-xs font-semibold text-[var(--foreground)]",children:"number"==typeof e6?.threshold?e6.threshold:"…"})]}),(0,r.jsx)("button",{className:t({variant:"primary",size:"sm"}),onClick:aV,disabled:e7||e1||!e6?.unlocked||!!e6?.claimed,children:e6?.claimed?"Claimed":e7?"Claiming…":e6?.unlocked?"Claim (40 shards)":"Locked"})]})]}),e4&&(0,r.jsxs)("div",{className:"mt-4 rounded-xl border border-[var(--border)] bg-[var(--warn-bg)] px-4 py-3 text-xs text-[var(--foreground)]",children:["Error: ",(0,r.jsx)("span",{className:"font-semibold",children:e4})]}),e6?.unlocked?(0,r.jsx)("div",{className:"mt-4 text-xs text-[var(--muted)]",children:"Unlocked: yes · Claim is per-user (tracked in your arcade state)."}):(0,r.jsx)("div",{className:"mt-4 text-xs text-[var(--muted)]",children:"Unlocked: no · Keep playing any arcade module to advance progress."})]})]}),(0,r.jsxs)("section",{className:"relative overflow-hidden rounded-2xl border border-[var(--border)] bg-[var(--card)] shadow-[var(--shadow)]",children:[(0,r.jsx)("div",{className:"pointer-events-none absolute inset-0 opacity-60","aria-hidden":!0,style:{backgroundImage:"radial-gradient(circle at 18% 22%, var(--ring) 0, transparent 55%), radial-gradient(circle at 84% 70%, var(--ring) 0, transparent 55%)"}}),(0,r.jsxs)("div",{className:"relative p-5 md:p-6",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsxs)("span",{className:"relative inline-flex h-2.5 w-2.5 shrink-0 items-center justify-center",children:[(0,r.jsx)("span",{className:"absolute inline-flex h-2.5 w-2.5 rounded-full bg-[var(--accent)]"}),(0,r.jsx)("span",{className:"absolute inline-flex h-4.5 w-4.5 rounded-full bg-[var(--ring)]"})]}),(0,r.jsx)("div",{className:"text-[11px] font-bold uppercase tracking-widest text-[var(--muted)]",children:"Blind insight packs"}),(0,r.jsx)("div",{className:"h-px flex-1 bg-[var(--border)]"})]}),(0,r.jsxs)("div",{className:"mt-4 flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[(0,r.jsxs)("div",{className:"min-w-0",children:[(0,r.jsx)("div",{className:"text-xl font-extrabold tracking-tight text-[var(--foreground)]",children:"Open a blind pack"}),(0,r.jsx)("div",{className:"mt-1 text-sm text-[var(--muted)]",children:"Reveals a checklist, playbook, or reusable template · not financial advice"})]}),(0,r.jsxs)("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-center",children:[(0,r.jsxs)("div",{className:"inline-flex items-center gap-2 rounded-xl border border-[var(--border)] bg-[var(--bg)] px-3 py-2",children:[(0,r.jsx)("span",{className:"text-[11px] font-bold uppercase tracking-wider text-[var(--muted)]",children:"Volatility"}),(0,r.jsxs)("select",{value:rc,onChange:e=>rx(e.target.value),className:"rounded-lg border border-[var(--border)] bg-[var(--card)] px-2 py-1 text-xs font-semibold text-[var(--foreground)]","aria-label":"Insight pack volatility profile",children:[(0,r.jsx)("option",{value:"low",children:"Low"}),(0,r.jsx)("option",{value:"medium",children:"Medium"}),(0,r.jsxs)("option",{value:"high",disabled:aA+aR<=0,children:["High",aA+aR<=0?" (Key)":""]})]})]}),(0,r.jsxs)("div",{className:"inline-flex items-center gap-2 rounded-xl border border-[var(--border)] bg-[var(--bg)] px-3 py-2",children:[(0,r.jsx)("span",{className:"text-[11px] font-bold uppercase tracking-wider text-[var(--muted)]",children:"Shards"}),(0,r.jsx)("span",{className:"font-mono text-xs font-semibold text-[var(--foreground)]",children:as?"…":ac})]}),(0,r.jsx)("button",{className:t({variant:"primary",size:"sm"}),onClick:aB,disabled:rm||as||ac<20,children:rm?"Opening…":"Open (20)"})]})]}),rv&&(0,r.jsxs)("div",{className:"mt-4 rounded-xl border border-[var(--border)] bg-[var(--warn-bg)] px-4 py-3 text-xs text-[var(--foreground)]",children:["Error: ",(0,r.jsx)("span",{className:"font-semibold",children:rv})]}),rp?.outcome?(0,r.jsxs)("div",{className:"mt-5 rounded-2xl border border-[var(--border)] bg-[var(--card-2)] p-4",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between gap-3",children:[(0,r.jsx)("div",{className:"text-sm font-extrabold tracking-tight text-[var(--foreground)]",children:rp.outcome.label}),(0,r.jsx)("div",{className:"text-[11px] font-bold uppercase tracking-widest text-[var(--muted)]",children:rp.outcome.rarity})]}),(0,r.jsxs)("div",{className:"mt-2 text-xs text-[var(--muted)]",children:[rp.outcome.metadata?.kind?(0,r.jsxs)(r.Fragment,{children:["Type: ",(0,r.jsx)("span",{className:"font-semibold text-[var(--foreground)]",children:String(rp.outcome.metadata.kind)}),(0,r.jsx)("span",{className:"mx-2 text-[var(--border)]",children:"•"})]}):null,rp.outcome.metadata?.text??""]}),String(rp.outcome.metadata?.content_md??"").trim()?(0,r.jsx)("pre",{className:"mt-3 whitespace-pre-wrap text-xs text-[var(--foreground)]",children:String(rp.outcome.metadata.content_md)}):null,(0,r.jsx)("div",{className:"mt-3 text-[11px] text-[var(--muted)]",children:rp.outcome.metadata?.disclaimer??""})]}):null,(0,r.jsxs)("div",{className:"mt-4 grid gap-2 md:grid-cols-2",children:[(0,r.jsxs)("div",{className:"rounded-2xl border border-[var(--border)] bg-[var(--bg)] p-4",children:[(0,r.jsx)("div",{className:"text-[11px] font-bold uppercase tracking-widest text-[var(--muted)]",children:"Keys & Gates"}),(0,r.jsx)("div",{className:"mt-2 text-sm font-extrabold tracking-tight text-[var(--foreground)]",children:"Gate Key"}),(0,r.jsxs)("div",{className:"mt-1 text-xs text-[var(--muted)]",children:["In inventory: ",(0,r.jsx)("span",{className:"font-mono text-[var(--foreground)]",children:as?"…":aA})]}),(0,r.jsx)("div",{className:"mt-2 text-xs text-[var(--muted)]",children:"High volatility Insight Packs require a Gate Key or a Seasonal Set Key."})]}),(0,r.jsxs)("div",{className:"rounded-2xl border border-[var(--border)] bg-[var(--bg)] p-4",children:[(0,r.jsx)("div",{className:"text-[11px] font-bold uppercase tracking-widest text-[var(--muted)]",children:"Season"}),(0,r.jsx)("div",{className:"mt-2 text-sm font-extrabold tracking-tight text-[var(--foreground)]",children:am?.key??"—"}),(0,r.jsxs)("div",{className:"mt-1 text-xs text-[var(--muted)]",children:["Next shift: ",am?.next_shift_at?new Date(am.next_shift_at).toUTCString():"—"]}),Array.isArray(am?.rules)&&am.rules.length?(0,r.jsx)("div",{className:"mt-2 text-xs text-[var(--muted)]",children:am.rules[0]}):null]})]})]})]}),(0,r.jsxs)("section",{className:"relative overflow-hidden rounded-2xl border border-[var(--border)] bg-[var(--card)] shadow-[var(--shadow)]",children:[(0,r.jsx)("div",{className:"pointer-events-none absolute inset-0 opacity-60","aria-hidden":!0,style:{backgroundImage:"radial-gradient(circle at 20% 25%, var(--ring) 0, transparent 55%), radial-gradient(circle at 85% 70%, var(--ring) 0, transparent 55%)"}}),(0,r.jsxs)("div",{className:"relative p-5 md:p-6",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsxs)("span",{className:"relative inline-flex h-2.5 w-2.5 shrink-0 items-center justify-center",children:[(0,r.jsx)("span",{className:"absolute inline-flex h-2.5 w-2.5 rounded-full bg-[var(--accent)]"}),(0,r.jsx)("span",{className:"absolute inline-flex h-4.5 w-4.5 rounded-full bg-[var(--ring)]"})]}),(0,r.jsx)("div",{className:"text-[11px] font-bold uppercase tracking-widest text-[var(--muted)]",children:"Blind creation"}),(0,r.jsx)("div",{className:"h-px flex-1 bg-[var(--border)]"})]}),(0,r.jsxs)("div",{className:"mt-4 flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[(0,r.jsxs)("div",{className:"min-w-0",children:[(0,r.jsx)("div",{className:"text-xl font-extrabold tracking-tight text-[var(--foreground)]",children:"Forge now · reveal later"}),(0,r.jsx)("div",{className:"mt-1 text-sm text-[var(--muted)]",children:"Costs 25 shards now · reveals ~30 minutes later · commit→reveal proof"})]}),(0,r.jsxs)("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-center",children:[(0,r.jsxs)("div",{className:"inline-flex items-center gap-2 rounded-xl border border-[var(--border)] bg-[var(--bg)] px-3 py-2",children:[(0,r.jsx)("span",{className:"text-[11px] font-bold uppercase tracking-wider text-[var(--muted)]",children:"Volatility"}),(0,r.jsxs)("select",{value:ej,onChange:e=>eN(e.target.value),className:"rounded-lg border border-[var(--border)] bg-[var(--card)] px-2 py-1 text-xs font-semibold text-[var(--foreground)]","aria-label":"Blind creation volatility profile",children:[(0,r.jsx)("option",{value:"low",children:"Low"}),(0,r.jsx)("option",{value:"medium",children:"Medium"}),(0,r.jsx)("option",{value:"high",children:"High"})]})]}),(0,r.jsxs)("div",{className:"inline-flex items-center gap-2 rounded-xl border border-[var(--border)] bg-[var(--bg)] px-3 py-2",children:[(0,r.jsx)("span",{className:"text-[11px] font-bold uppercase tracking-wider text-[var(--muted)]",children:"Shards"}),(0,r.jsx)("span",{className:"font-mono text-xs font-semibold text-[var(--foreground)]",children:as?"…":ac})]}),(0,r.jsx)("button",{className:t({variant:"primary",size:"sm"}),onClick:tr,disabled:ey||as||ac<25,children:ey?"Forging…":"Forge"})]})]}),ek&&(0,r.jsxs)("div",{className:"mt-4 rounded-xl border border-[var(--border)] bg-[var(--warn-bg)] px-4 py-3 text-xs text-[var(--foreground)]",children:["Error: ",(0,r.jsx)("span",{className:"font-semibold",children:ek})]}),eJ&&(0,r.jsxs)("div",{className:"mt-4 rounded-xl border border-[var(--border)] bg-[var(--warn-bg)] px-4 py-3 text-xs text-[var(--foreground)]",children:["Reveal error: ",(0,r.jsx)("span",{className:"font-semibold",children:eJ})]}),eS.length>0?(0,r.jsxs)("div",{className:"mt-5 grid gap-3",children:[(0,r.jsxs)("div",{className:"rounded-2xl border border-[var(--border)] bg-[var(--bg)] p-4",children:[(0,r.jsx)("div",{className:"text-[11px] font-bold uppercase tracking-widest text-[var(--muted)]",children:"Recent forges"}),(0,r.jsx)("div",{className:"mt-3 grid gap-2",children:eS.slice(0,8).map(e=>{let a="ready"===e.status,s=e.outcome_json?.outcome?.label??null;return(0,r.jsxs)("div",{className:"flex flex-col gap-2 rounded-xl border border-[var(--border)] bg-[var(--card)] p-3 sm:flex-row sm:items-center sm:justify-between",children:[(0,r.jsxs)("div",{className:"min-w-0",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsxs)("span",{className:"text-xs font-bold text-[var(--foreground)]",children:[e.id.slice(0,8),"…"]}),(0,r.jsx)("span",{className:"text-[11px] font-bold uppercase tracking-widest text-[var(--muted)]",children:e.status})]}),e.resolves_at?(0,r.jsxs)("div",{className:"mt-1 text-xs text-[var(--muted)]",children:["Resolves at: ",(0,r.jsx)("span",{className:"font-mono",children:String(e.resolves_at)})]}):null,s?(0,r.jsxs)("div",{className:"mt-1 text-xs text-[var(--muted)]",children:["Outcome: ",(0,r.jsx)("span",{className:"font-semibold text-[var(--foreground)]",children:s})]}):null]}),(0,r.jsx)("div",{className:"shrink-0",children:"resolved"===e.status?(0,r.jsx)("span",{className:"text-xs font-semibold text-[var(--muted)]",children:"Revealed"}):(0,r.jsx)("button",{className:t({variant:"secondary",size:"sm"}),onClick:()=>ta(e.id),disabled:!a||eC===e.id,children:eC===e.id?"Revealing…":a?"Reveal":"Not ready"})})]},e.id)})})]}),eP?.outcome?(0,r.jsxs)("div",{className:"rounded-2xl border border-[var(--border)] bg-[var(--card-2)] p-4",children:[(0,r.jsx)("div",{className:"text-[11px] font-bold uppercase tracking-widest text-[var(--muted)]",children:"Latest reveal"}),(0,r.jsx)("div",{className:"mt-2 text-sm font-extrabold tracking-tight text-[var(--foreground)]",children:eP.outcome.label}),(0,r.jsxs)("div",{className:"mt-1 text-xs text-[var(--muted)]",children:["Rarity: ",eP.outcome.rarity]})]}):null]}):null]})]}),(0,r.jsxs)("section",{className:"relative overflow-hidden rounded-2xl border border-[var(--border)] bg-[var(--card)] shadow-[var(--shadow)]",children:[(0,r.jsx)("div",{className:"pointer-events-none absolute inset-0 opacity-60","aria-hidden":!0,style:{backgroundImage:"radial-gradient(circle at 14% 22%, var(--ring) 0, transparent 55%), radial-gradient(circle at 90% 72%, var(--ring) 0, transparent 55%)"}}),(0,r.jsxs)("div",{className:"relative p-5 md:p-6",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsxs)("span",{className:"relative inline-flex h-2.5 w-2.5 shrink-0 items-center justify-center",children:[(0,r.jsx)("span",{className:"absolute inline-flex h-2.5 w-2.5 rounded-full bg-[var(--accent)]"}),(0,r.jsx)("span",{className:"absolute inline-flex h-4.5 w-4.5 rounded-full bg-[var(--ring)]"})]}),(0,r.jsx)("div",{className:"text-[11px] font-bold uppercase tracking-widest text-[var(--muted)]",children:"Mutation"}),(0,r.jsx)("div",{className:"h-px flex-1 bg-[var(--border)]"})]}),(0,r.jsxs)("div",{className:"mt-4 flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[(0,r.jsxs)("div",{className:"min-w-0",children:[(0,r.jsx)("div",{className:"text-xl font-extrabold tracking-tight text-[var(--foreground)]",children:"Transform one cosmetic"}),(0,r.jsx)("div",{className:"mt-1 text-sm text-[var(--muted)]",children:"Costs 15 shards · commit→reveal proof · bounded upgrade chance"})]}),(0,r.jsxs)("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-center",children:[(0,r.jsxs)("div",{className:"inline-flex items-center gap-2 rounded-xl border border-[var(--border)] bg-[var(--bg)] px-3 py-2",children:[(0,r.jsx)("span",{className:"text-[11px] font-bold uppercase tracking-wider text-[var(--muted)]",children:"Item"}),(0,r.jsxs)("select",{value:eI,onChange:e=>ez(e.target.value),className:"max-w-[260px] rounded-lg border border-[var(--border)] bg-[var(--card)] px-2 py-1 text-xs font-semibold text-[var(--foreground)]","aria-label":"Mutation item",children:[0===aI.length?(0,r.jsx)("option",{value:"",children:"No cosmetics"}):null,aI.map(e=>(0,r.jsx)("option",{value:`${e.kind}::${e.code}::${e.rarity}`,children:(e.metadata_json?.label??e.code)+` (${e.rarity}) x${e.quantity}`},`${e.kind}::${e.code}::${e.rarity}`))]})]}),(0,r.jsxs)("div",{className:"inline-flex items-center gap-2 rounded-xl border border-[var(--border)] bg-[var(--bg)] px-3 py-2",children:[(0,r.jsx)("span",{className:"text-[11px] font-bold uppercase tracking-wider text-[var(--muted)]",children:"Volatility"}),(0,r.jsxs)("select",{value:eA,onChange:e=>eR(e.target.value),className:"rounded-lg border border-[var(--border)] bg-[var(--card)] px-2 py-1 text-xs font-semibold text-[var(--foreground)]","aria-label":"Mutation volatility profile",children:[(0,r.jsx)("option",{value:"low",children:"Low"}),(0,r.jsx)("option",{value:"medium",children:"Medium"}),(0,r.jsx)("option",{value:"high",children:"High"})]})]}),(0,r.jsx)("button",{className:t({variant:"primary",size:"sm"}),onClick:tt,disabled:eM||as||ac<15||0===aI.length||!eI,children:eM?"Mutating…":"Mutate"})]})]}),eH&&(0,r.jsxs)("div",{className:"mt-4 rounded-xl border border-[var(--border)] bg-[var(--warn-bg)] px-4 py-3 text-xs text-[var(--foreground)]",children:["Error: ",(0,r.jsx)("span",{className:"font-semibold",children:eH})]}),eU?.outcome?(0,r.jsxs)("div",{className:"mt-5 rounded-2xl border border-[var(--border)] bg-[var(--card-2)] p-4",children:[(0,r.jsx)("div",{className:"text-[11px] font-bold uppercase tracking-widest text-[var(--muted)]",children:"Result"}),(0,r.jsx)("div",{className:"mt-2 text-sm font-extrabold tracking-tight text-[var(--foreground)]",children:eU.outcome.label}),(0,r.jsxs)("div",{className:"mt-1 text-xs text-[var(--muted)]",children:["Rarity: ",eU.outcome.rarity]})]}):null]})]}),(0,r.jsxs)("section",{className:"relative overflow-hidden rounded-2xl border border-[var(--border)] bg-[var(--card)] shadow-[var(--shadow)]",children:[(0,r.jsx)("div",{className:"pointer-events-none absolute inset-0 opacity-60","aria-hidden":!0,style:{backgroundImage:"radial-gradient(circle at 18% 28%, var(--ring) 0, transparent 55%), radial-gradient(circle at 86% 78%, var(--ring) 0, transparent 55%)"}}),(0,r.jsxs)("div",{className:"relative p-5 md:p-6",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsxs)("span",{className:"relative inline-flex h-2.5 w-2.5 shrink-0 items-center justify-center",children:[(0,r.jsx)("span",{className:"absolute inline-flex h-2.5 w-2.5 rounded-full bg-[var(--accent)]"}),(0,r.jsx)("span",{className:"absolute inline-flex h-4.5 w-4.5 rounded-full bg-[var(--ring)]"})]}),(0,r.jsx)("div",{className:"text-[11px] font-bold uppercase tracking-widest text-[var(--muted)]",children:"Fusion"}),(0,r.jsx)("div",{className:"h-px flex-1 bg-[var(--border)]"})]}),(0,r.jsxs)("div",{className:"mt-4 flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[(0,r.jsxs)("div",{className:"min-w-0",children:[(0,r.jsx)("div",{className:"text-xl font-extrabold tracking-tight text-[var(--foreground)]",children:"Combine two cosmetics"}),(0,r.jsx)("div",{className:"mt-1 text-sm text-[var(--muted)]",children:"Costs 25 shards · commit→reveal proof · bounded upgrade chance"})]}),(0,r.jsxs)("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-center",children:[(0,r.jsxs)("div",{className:"inline-flex items-center gap-2 rounded-xl border border-[var(--border)] bg-[var(--bg)] px-3 py-2",children:[(0,r.jsx)("span",{className:"text-[11px] font-bold uppercase tracking-wider text-[var(--muted)]",children:"A"}),(0,r.jsxs)("select",{value:eq,onChange:e=>eK(e.target.value),className:"max-w-[220px] rounded-lg border border-[var(--border)] bg-[var(--card)] px-2 py-1 text-xs font-semibold text-[var(--foreground)]","aria-label":"Fusion item A",children:[0===aI.length?(0,r.jsx)("option",{value:"",children:"No cosmetics"}):null,aI.map(e=>(0,r.jsx)("option",{value:`${e.kind}::${e.code}::${e.rarity}`,children:(e.metadata_json?.label??e.code)+` (${e.rarity})`},`a:${e.kind}::${e.code}::${e.rarity}`))]})]}),(0,r.jsxs)("div",{className:"inline-flex items-center gap-2 rounded-xl border border-[var(--border)] bg-[var(--bg)] px-3 py-2",children:[(0,r.jsx)("span",{className:"text-[11px] font-bold uppercase tracking-wider text-[var(--muted)]",children:"B"}),(0,r.jsxs)("select",{value:eW,onChange:e=>eG(e.target.value),className:"max-w-[220px] rounded-lg border border-[var(--border)] bg-[var(--card)] px-2 py-1 text-xs font-semibold text-[var(--foreground)]","aria-label":"Fusion item B",children:[0===aI.length?(0,r.jsx)("option",{value:"",children:"No cosmetics"}):null,aI.map(e=>(0,r.jsx)("option",{value:`${e.kind}::${e.code}::${e.rarity}`,children:(e.metadata_json?.label??e.code)+` (${e.rarity})`},`b:${e.kind}::${e.code}::${e.rarity}`))]})]}),(0,r.jsxs)("div",{className:"inline-flex items-center gap-2 rounded-xl border border-[var(--border)] bg-[var(--bg)] px-3 py-2",children:[(0,r.jsx)("span",{className:"text-[11px] font-bold uppercase tracking-wider text-[var(--muted)]",children:"Volatility"}),(0,r.jsxs)("select",{value:eV,onChange:e=>eB(e.target.value),className:"rounded-lg border border-[var(--border)] bg-[var(--card)] px-2 py-1 text-xs font-semibold text-[var(--foreground)]","aria-label":"Fusion volatility profile",children:[(0,r.jsx)("option",{value:"low",children:"Low"}),(0,r.jsx)("option",{value:"medium",children:"Medium"}),(0,r.jsx)("option",{value:"high",children:"High"})]})]}),(0,r.jsx)("button",{className:t({variant:"primary",size:"sm"}),onClick:ts,disabled:eX||as||ac<25||aI.length<2||!eq||!eW,children:eX?"Fusing…":"Fuse"})]})]}),eY&&(0,r.jsxs)("div",{className:"mt-4 rounded-xl border border-[var(--border)] bg-[var(--warn-bg)] px-4 py-3 text-xs text-[var(--foreground)]",children:["Error: ",(0,r.jsx)("span",{className:"font-semibold",children:eY})]}),e0?.outcome?(0,r.jsxs)("div",{className:"mt-5 rounded-2xl border border-[var(--border)] bg-[var(--card-2)] p-4",children:[(0,r.jsx)("div",{className:"text-[11px] font-bold uppercase tracking-widest text-[var(--muted)]",children:"Result"}),(0,r.jsx)("div",{className:"mt-2 text-sm font-extrabold tracking-tight text-[var(--foreground)]",children:e0.outcome.label}),(0,r.jsxs)("div",{className:"mt-1 text-xs text-[var(--muted)]",children:["Rarity: ",e0.outcome.rarity]})]}):null]})]}),(0,r.jsxs)("section",{className:"relative overflow-hidden rounded-2xl border border-[var(--border)] bg-[var(--card)] shadow-[var(--shadow)]",children:[(0,r.jsx)("div",{className:"pointer-events-none absolute inset-0 opacity-60","aria-hidden":!0,style:{backgroundImage:"radial-gradient(circle at 20% 20%, var(--ring) 0, transparent 55%), radial-gradient(circle at 80% 78%, var(--ring) 0, transparent 55%)"}}),(0,r.jsxs)("div",{className:"relative p-5 md:p-6",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsxs)("span",{className:"relative inline-flex h-2.5 w-2.5 shrink-0 items-center justify-center",children:[(0,r.jsx)("span",{className:"absolute inline-flex h-2.5 w-2.5 rounded-full bg-[var(--accent-2)]"}),(0,r.jsx)("span",{className:"absolute inline-flex h-4.5 w-4.5 rounded-full bg-[var(--ring)]"})]}),(0,r.jsx)("div",{className:"text-[11px] font-bold uppercase tracking-widest text-[var(--muted)]",children:"Crafting"}),(0,r.jsx)("div",{className:"h-px flex-1 bg-[var(--border)]"}),(0,r.jsx)("button",{className:t({variant:"ghost",size:"xs"}),onClick:aQ,disabled:as,children:as?"Refreshing…":"Refresh"})]}),(0,r.jsxs)("div",{className:"mt-4 grid gap-4 md:grid-cols-3",children:[(0,r.jsxs)("div",{className:"rounded-2xl border border-[var(--border)] bg-[var(--bg)] p-4",children:[(0,r.jsx)("div",{className:"text-[11px] font-bold uppercase tracking-widest text-[var(--muted)]",children:"Shards"}),(0,r.jsx)("div",{className:"mt-2 text-2xl font-extrabold tracking-tight text-[var(--foreground)]",children:ac}),(0,r.jsx)("div",{className:"mt-1 text-xs text-[var(--muted)]",children:"Deterministic currency earned by salvaging inventory."})]}),(0,r.jsxs)("div",{className:"rounded-2xl border border-[var(--border)] bg-[var(--bg)] p-4 md:col-span-2",children:[(0,r.jsx)("div",{className:"text-[11px] font-bold uppercase tracking-widest text-[var(--muted)]",children:"Craft"}),(0,r.jsxs)("div",{className:"mt-3 grid gap-2 sm:grid-cols-3",children:[(0,r.jsx)("button",{className:t({variant:"secondary",size:"sm"}),onClick:()=>a4("craft_fee_5bps_24h"),disabled:null!==aJ||ac<60,children:"craft_fee_5bps_24h"===aJ?"Crafting…":"Fee -5bps (60)"}),(0,r.jsx)("button",{className:t({variant:"secondary",size:"sm"}),onClick:()=>a4("craft_p2p_highlight_1"),disabled:null!==aJ||ac<75,children:"craft_p2p_highlight_1"===aJ?"Crafting…":"P2P Highlight (75)"}),(0,r.jsx)("button",{className:t({variant:"secondary",size:"sm"}),onClick:()=>a4("craft_fee_10bps_48h"),disabled:null!==aJ||ac<180,children:"craft_fee_10bps_48h"===aJ?"Crafting…":"Fee -10bps (180)"})]})]})]}),(0,r.jsxs)("div",{className:"mt-4 rounded-2xl border border-[var(--border)] bg-[var(--bg)] p-4",children:[(0,r.jsxs)("div",{className:"flex flex-col gap-3 md:flex-row md:items-end md:justify-between",children:[(0,r.jsxs)("div",{className:"min-w-0",children:[(0,r.jsx)("div",{className:"text-[11px] font-bold uppercase tracking-widest text-[var(--muted)]",children:"Salvage"}),(0,r.jsx)("div",{className:"mt-1 text-sm text-[var(--muted)]",children:"Convert badges/boosts into shards (fixed rate by rarity)."})]}),(0,r.jsxs)("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-center",children:[(0,r.jsxs)("select",{value:ak,onChange:e=>a_(e.target.value),className:"min-w-[240px] rounded-xl border border-[var(--border)] bg-[var(--card)] px-3 py-2 text-xs font-semibold text-[var(--foreground)]","aria-label":"Select item to salvage",children:[(0,r.jsx)("option",{value:"",disabled:!0,children:"Select item…"}),ad.filter(e=>"shard"!==e.kind).map(e=>{let a=String(e.metadata_json?.label??e.code);return(0,r.jsxs)("option",{value:`${e.kind}::${e.code}::${e.rarity}`,children:[a," · ",e.rarity," · x",e.quantity]},`${e.kind}:${e.code}:${e.rarity}`)})]}),(0,r.jsx)("input",{type:"number",min:1,value:aS,onChange:e=>aO(Math.max(1,Number(e.target.value||1))),className:"w-24 rounded-xl border border-[var(--border)] bg-[var(--card)] px-3 py-2 text-xs font-semibold text-[var(--foreground)]"}),(0,r.jsx)("button",{className:t({variant:"primary",size:"sm"}),onClick:a5,disabled:aC||!ak,children:aC?"Salvaging…":"Salvage"})]})]}),al&&(0,r.jsxs)("div",{className:"mt-3 rounded-xl border border-[var(--border)] bg-[var(--warn-bg)] px-4 py-3 text-xs text-[var(--foreground)]",children:["Error: ",(0,r.jsx)("span",{className:"font-semibold",children:al})]}),(0,r.jsxs)("div",{className:"mt-4",children:[(0,r.jsx)("div",{className:"text-[11px] font-bold uppercase tracking-widest text-[var(--muted)]",children:"Inventory"}),(0,r.jsx)("div",{className:"mt-2 grid gap-2",children:0===ad.filter(e=>"shard"!==e.kind).length?(0,r.jsx)("div",{className:"text-xs text-[var(--muted)]",children:"No items yet. Claim Arcade drops to get started."}):ad.filter(e=>"shard"!==e.kind).slice(0,12).map(e=>(0,r.jsxs)("div",{className:"flex items-center justify-between gap-3 rounded-xl border border-[var(--border)] bg-[var(--card)] px-3 py-2",children:[(0,r.jsxs)("div",{className:"min-w-0",children:[(0,r.jsx)("div",{className:"truncate text-xs font-semibold text-[var(--foreground)]",children:String(e.metadata_json?.label??e.code)}),(0,r.jsxs)("div",{className:"mt-0.5 text-[10px] uppercase tracking-widest text-[var(--muted)]",children:[e.kind," · ",e.rarity]})]}),(0,r.jsxs)("div",{className:"shrink-0 rounded-lg border border-[var(--border)] bg-[var(--bg)] px-2 py-1 text-xs font-bold text-[var(--foreground)]",children:["×",e.quantity]})]},`${e.kind}:${e.code}:${e.rarity}`))})]})]})]})]}),(0,r.jsxs)("section",{className:"relative overflow-hidden rounded-2xl border border-[var(--border)] bg-[var(--card)] shadow-[var(--shadow)]",children:[(0,r.jsx)("div",{className:"pointer-events-none absolute inset-0 opacity-60","aria-hidden":!0,style:{backgroundImage:"radial-gradient(circle at 15% 22%, var(--ring) 0, transparent 55%), radial-gradient(circle at 85% 70%, var(--ring) 0, transparent 55%)"}}),(0,r.jsxs)("div",{className:"relative p-5 md:p-6",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsxs)("span",{className:"relative inline-flex h-2.5 w-2.5 shrink-0 items-center justify-center",children:[(0,r.jsx)("span",{className:"absolute inline-flex h-2.5 w-2.5 rounded-full bg-[var(--accent-2)]"}),(0,r.jsx)("span",{className:"absolute inline-flex h-4.5 w-4.5 rounded-full bg-[var(--ring)]"})]}),(0,r.jsx)("div",{className:"text-[11px] font-bold uppercase tracking-widest text-[var(--muted)]",children:"Flash missions"}),(0,r.jsx)("div",{className:"h-px flex-1 bg-[var(--border)]"}),(0,r.jsx)("button",{className:t({variant:"ghost",size:"xs"}),onClick:aH,disabled:rM,children:rM?"Refreshing…":"Refresh"})]}),(0,r.jsxs)("div",{className:"mt-4 flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[(0,r.jsxs)("div",{className:"min-w-0",children:[(0,r.jsx)("div",{className:"text-xl font-extrabold tracking-tight text-[var(--foreground)]",children:"Do healthy actions · claim rewards"}),(0,r.jsx)("div",{className:"mt-1 text-sm text-[var(--muted)]",children:"Daily mission rotation · commit→reveal rewards · small, bounded utility."})]}),(0,r.jsxs)("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-center",children:[(0,r.jsxs)("div",{className:"inline-flex items-center gap-2 rounded-xl border border-[var(--border)] bg-[var(--bg)] px-3 py-2",children:[(0,r.jsx)("span",{className:"text-[11px] font-bold uppercase tracking-wider text-[var(--muted)]",children:"Volatility"}),(0,r.jsxs)("select",{value:rI,onChange:e=>rz(e.target.value),className:"rounded-lg border border-[var(--border)] bg-[var(--card)] px-2 py-1 text-xs font-semibold text-[var(--foreground)]","aria-label":"Missions profile",children:[(0,r.jsx)("option",{value:"low",children:"Low"}),(0,r.jsx)("option",{value:"medium",children:"Medium"}),(0,r.jsx)("option",{value:"high",children:"High"})]})]}),(0,r.jsxs)("div",{className:"inline-flex items-center gap-2 rounded-xl border border-[var(--border)] bg-[var(--bg)] px-3 py-2",children:[(0,r.jsx)("span",{className:"text-[11px] font-bold uppercase tracking-wider text-[var(--muted)]",children:"Today"}),(0,r.jsx)("span",{className:"font-mono text-xs font-semibold text-[var(--foreground)]",children:rU?.today??"—"})]})]})]}),rH&&(0,r.jsxs)("div",{className:"mt-4 rounded-xl border border-[var(--border)] bg-[var(--warn-bg)] px-4 py-3 text-xs text-[var(--foreground)]",children:["Error: ",(0,r.jsx)("span",{className:"font-semibold",children:rH})]}),Array.isArray(rU?.missions)&&rU.missions.length>0?(0,r.jsx)("div",{className:"mt-4 grid gap-3 md:grid-cols-2",children:rU.missions.map(e=>{let a=!!e.claimable&&null===rV,s=rV===e.code;return(0,r.jsxs)("div",{className:"rounded-2xl border border-[var(--border)] bg-[var(--bg)] p-4",children:[(0,r.jsxs)("div",{className:"flex items-start justify-between gap-3",children:[(0,r.jsxs)("div",{className:"min-w-0",children:[(0,r.jsx)("div",{className:"text-sm font-extrabold tracking-tight text-[var(--foreground)]",children:e.title}),(0,r.jsx)("div",{className:"mt-1 text-xs text-[var(--muted)]",children:e.description})]}),(0,r.jsx)("div",{className:"shrink-0 text-[11px] font-bold uppercase tracking-widest text-[var(--muted)]",children:e.claimed?"Claimed":e.completed?"Complete":"Pending"})]}),(0,r.jsxs)("div",{className:"mt-3 flex items-center justify-between gap-3",children:[(0,r.jsx)("div",{className:"text-xs text-[var(--muted)]",children:e.completed?"Eligible":"Complete the action to unlock claim."}),(0,r.jsx)("button",{className:t({variant:a?"primary":"secondary",size:"xs"}),disabled:!e.claimable||s,onClick:()=>tl(e.code),children:s?"Claiming…":e.claimed?"Claimed":"Claim"})]})]},e.code)})}):(0,r.jsx)("div",{className:"mt-4 rounded-2xl border border-[var(--border)] bg-[var(--bg)] px-4 py-6 text-center text-sm text-[var(--muted)]",children:rM?"Loading missions…":"No missions available."}),rq?.reward?(0,r.jsxs)("div",{className:"mt-4 rounded-2xl border border-[var(--border)] bg-[var(--card-2)] p-4",children:[(0,r.jsx)("div",{className:"text-[11px] font-bold uppercase tracking-widest text-[var(--muted)]",children:"Last reward"}),(0,r.jsx)("div",{className:"mt-2 text-sm font-extrabold tracking-tight text-[var(--foreground)]",children:rq.reward.label??"—"})]}):null]})]}),(0,r.jsxs)("section",{className:"relative overflow-hidden rounded-2xl border border-[var(--border)] bg-[var(--card)] shadow-[var(--shadow)]",children:[(0,r.jsx)("div",{className:"pointer-events-none absolute inset-0 opacity-60","aria-hidden":!0,style:{backgroundImage:"radial-gradient(circle at 20% 25%, var(--ring) 0, transparent 55%), radial-gradient(circle at 80% 70%, var(--ring) 0, transparent 55%)"}}),(0,r.jsxs)("div",{className:"relative p-5 md:p-6",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsxs)("span",{className:"relative inline-flex h-2.5 w-2.5 shrink-0 items-center justify-center",children:[(0,r.jsx)("span",{className:"absolute inline-flex h-2.5 w-2.5 rounded-full bg-[var(--accent-2)]"}),(0,r.jsx)("span",{className:"absolute inline-flex h-4.5 w-4.5 rounded-full bg-[var(--ring)]"})]}),(0,r.jsx)("div",{className:"text-[11px] font-bold uppercase tracking-widest text-[var(--muted)]",children:"Streak protector"}),(0,r.jsx)("div",{className:"h-px flex-1 bg-[var(--border)]"})]}),(0,r.jsxs)("div",{className:"mt-4 flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[(0,r.jsxs)("div",{className:"min-w-0",children:[(0,r.jsx)("div",{className:"text-xl font-extrabold tracking-tight text-[var(--foreground)]",children:"Weekly protector roll"}),(0,r.jsx)("div",{className:"mt-1 text-sm text-[var(--muted)]",children:"If you miss exactly one day on Calendar Daily, a protector is auto-consumed to preserve your streak."})]}),(0,r.jsxs)("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-center",children:[(0,r.jsxs)("div",{className:"inline-flex items-center gap-2 rounded-xl border border-[var(--border)] bg-[var(--bg)] px-3 py-2",children:[(0,r.jsx)("span",{className:"text-[11px] font-bold uppercase tracking-wider text-[var(--muted)]",children:"Volatility"}),(0,r.jsxs)("select",{value:rg,onChange:e=>rf(e.target.value),className:"rounded-lg border border-[var(--border)] bg-[var(--card)] px-2 py-1 text-xs font-semibold text-[var(--foreground)]","aria-label":"Streak protector profile",children:[(0,r.jsx)("option",{value:"low",children:"Low"}),(0,r.jsx)("option",{value:"medium",children:"Medium"}),(0,r.jsx)("option",{value:"high",children:"High"})]})]}),(0,r.jsxs)("div",{className:"inline-flex items-center gap-2 rounded-xl border border-[var(--border)] bg-[var(--bg)] px-3 py-2",children:[(0,r.jsx)("span",{className:"text-[11px] font-bold uppercase tracking-wider text-[var(--muted)]",children:"In inventory"}),(0,r.jsx)("span",{className:"font-mono text-xs font-semibold text-[var(--foreground)]",children:as?"…":a$})]}),(0,r.jsx)("button",{className:t({variant:"primary",size:"sm"}),onClick:ti,disabled:rj,children:rj?"Claiming…":"Claim weekly"})]})]}),ry&&(0,r.jsxs)("div",{className:"mt-4 rounded-xl border border-[var(--border)] bg-[var(--warn-bg)] px-4 py-3 text-xs text-[var(--foreground)]",children:["Error: ",(0,r.jsx)("span",{className:"font-semibold",children:ry})]}),rk?.outcome?(0,r.jsxs)("div",{className:"mt-4 rounded-2xl border border-[var(--border)] bg-[var(--bg)] p-4",children:[(0,r.jsx)("div",{className:"text-[11px] font-bold uppercase tracking-widest text-[var(--muted)]",children:"Result"}),(0,r.jsx)("div",{className:"mt-2 text-sm font-extrabold tracking-tight text-[var(--foreground)]",children:rk?.outcome?.label??"—"}),(0,r.jsxs)("div",{className:"mt-1 text-xs text-[var(--muted)]",children:["Quantity: ",rk?.outcome?.quantity??1]})]}):null]})]}),(0,r.jsxs)("section",{className:"relative overflow-hidden rounded-2xl border border-[var(--border)] bg-[var(--card)] shadow-[var(--shadow)]",children:[(0,r.jsx)("div",{className:"pointer-events-none absolute inset-0 opacity-60","aria-hidden":!0,style:{backgroundImage:"radial-gradient(circle at 18% 18%, var(--ring) 0, transparent 55%), radial-gradient(circle at 82% 72%, var(--ring) 0, transparent 55%)"}}),(0,r.jsxs)("div",{className:"relative p-5 md:p-6",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsxs)("span",{className:"relative inline-flex h-2.5 w-2.5 shrink-0 items-center justify-center",children:[(0,r.jsx)("span",{className:"absolute inline-flex h-2.5 w-2.5 rounded-full bg-[var(--accent)]"}),(0,r.jsx)("span",{className:"absolute inline-flex h-4.5 w-4.5 rounded-full bg-[var(--ring)]"})]}),(0,r.jsx)("div",{className:"text-[11px] font-bold uppercase tracking-widest text-[var(--muted)]",children:"Rarity wheel"}),(0,r.jsx)("div",{className:"h-px flex-1 bg-[var(--border)]"})]}),(0,r.jsxs)("div",{className:"mt-4 flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[(0,r.jsxs)("div",{className:"min-w-0",children:[(0,r.jsx)("div",{className:"text-xl font-extrabold tracking-tight text-[var(--foreground)]",children:"Spin for cosmetics"}),(0,r.jsx)("div",{className:"mt-1 text-sm text-[var(--muted)]",children:"Costs 10 shards · commit→reveal fairness proof"})]}),(0,r.jsxs)("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-center",children:[(0,r.jsxs)("div",{className:"inline-flex items-center gap-2 rounded-xl border border-[var(--border)] bg-[var(--bg)] px-3 py-2",children:[(0,r.jsx)("span",{className:"text-[11px] font-bold uppercase tracking-wider text-[var(--muted)]",children:"Volatility"}),(0,r.jsxs)("select",{value:em,onChange:e=>eu(e.target.value),className:"rounded-lg border border-[var(--border)] bg-[var(--card)] px-2 py-1 text-xs font-semibold text-[var(--foreground)]","aria-label":"Wheel volatility profile",children:[(0,r.jsx)("option",{value:"low",children:"Low"}),(0,r.jsx)("option",{value:"medium",children:"Medium"}),(0,r.jsx)("option",{value:"high",children:"High"})]})]}),(0,r.jsxs)("div",{className:"inline-flex items-center gap-2 rounded-xl border border-[var(--border)] bg-[var(--bg)] px-3 py-2",children:[(0,r.jsx)("span",{className:"text-[11px] font-bold uppercase tracking-wider text-[var(--muted)]",children:"Shards"}),(0,r.jsx)("span",{className:"font-mono text-xs font-semibold text-[var(--foreground)]",children:as?"…":ac})]}),(0,r.jsx)("button",{className:t({variant:"primary",size:"sm"}),onClick:a9,disabled:ev||as||ac<10,children:ev?"Spinning…":"Spin"})]})]}),(0,r.jsx)("div",{className:"mt-2 text-xs text-[var(--muted)]",children:"Pity: after 10 non-rare spins, the wheel guarantees at least a Rare cosmetic."}),ep&&(0,r.jsxs)("div",{className:"mt-4 rounded-xl border border-[var(--border)] bg-[var(--warn-bg)] px-4 py-3 text-xs text-[var(--foreground)]",children:["Error: ",(0,r.jsx)("span",{className:"font-semibold",children:ep})]}),eg?.outcome?(0,r.jsxs)("div",{className:"mt-5 grid gap-3",children:[(0,r.jsxs)("div",{className:"rounded-2xl border border-[var(--border)] bg-[var(--card-2)] p-4",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between gap-3",children:[(0,r.jsx)("div",{className:"text-sm font-extrabold tracking-tight text-[var(--foreground)]",children:eg.outcome.label}),(0,r.jsx)("div",{className:"text-[11px] font-bold uppercase tracking-widest text-[var(--muted)]",children:eg.outcome.rarity})]}),(0,r.jsxs)("div",{className:"mt-2 text-xs text-[var(--muted)]",children:["Code: ",(0,r.jsx)("span",{className:"font-mono",children:eg.outcome.code})]})]}),eg?.audit?(0,r.jsxs)("details",{className:"rounded-2xl border border-[var(--border)] bg-[var(--bg)] p-4",children:[(0,r.jsx)("summary",{className:"cursor-pointer text-xs font-bold uppercase tracking-widest text-[var(--muted)]",children:"Fairness proof"}),(0,r.jsxs)("div",{className:"mt-3 grid gap-2 text-xs text-[var(--muted)]",children:[eg.audit.client_commit_hash?(0,r.jsxs)("div",{children:["client_commit_hash: ",(0,r.jsx)("span",{className:"font-mono text-[var(--foreground)]",children:eg.audit.client_commit_hash})]}):null,eg.audit.server_commit_hash?(0,r.jsxs)("div",{children:["server_commit_hash: ",(0,r.jsx)("span",{className:"font-mono text-[var(--foreground)]",children:eg.audit.server_commit_hash})]}):null,eg.audit.server_seed_b64?(0,r.jsxs)("div",{children:["server_seed_b64: ",(0,r.jsx)("span",{className:"font-mono text-[var(--foreground)]",children:eg.audit.server_seed_b64})]}):null,eg.audit.random_hash?(0,r.jsxs)("div",{children:["random_hash: ",(0,r.jsx)("span",{className:"font-mono text-[var(--foreground)]",children:eg.audit.random_hash})]}):null,"number"==typeof eg.audit.rarity_roll&&"number"==typeof eg.audit.rarity_total?(0,r.jsxs)("div",{children:["rarity_roll: ",(0,r.jsx)("span",{className:"font-semibold text-[var(--foreground)]",children:eg.audit.rarity_roll})," / ",eg.audit.rarity_total]}):null]})]}):null]}):null]})]}),(0,r.jsxs)("section",{className:"relative overflow-hidden rounded-2xl border border-[var(--border)] bg-[var(--card)] shadow-[var(--shadow)]",children:[(0,r.jsx)("div",{className:"pointer-events-none absolute inset-0 opacity-60","aria-hidden":!0,style:{backgroundImage:"radial-gradient(circle at 12% 30%, var(--ring) 0, transparent 55%), radial-gradient(circle at 88% 70%, var(--ring) 0, transparent 55%)"}}),(0,r.jsxs)("div",{className:"relative p-5 md:p-6",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsxs)("span",{className:"relative inline-flex h-2.5 w-2.5 shrink-0 items-center justify-center",children:[(0,r.jsx)("span",{className:"absolute inline-flex h-2.5 w-2.5 rounded-full bg-[var(--accent)]"}),(0,r.jsx)("span",{className:"absolute inline-flex h-4.5 w-4.5 rounded-full bg-[var(--ring)]"})]}),(0,r.jsx)("div",{className:"text-[11px] font-bold uppercase tracking-widest text-[var(--muted)]",children:"Boost draft"}),(0,r.jsx)("div",{className:"h-px flex-1 bg-[var(--border)]"})]}),(0,r.jsxs)("div",{className:"mt-4 flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[(0,r.jsxs)("div",{className:"min-w-0",children:[(0,r.jsx)("div",{className:"text-xl font-extrabold tracking-tight text-[var(--foreground)]",children:"Reveal 3 · pick 1"}),(0,r.jsx)("div",{className:"mt-1 text-sm text-[var(--muted)]",children:"Agency-first: you choose the boost you want."})]}),(0,r.jsxs)("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-center",children:[(0,r.jsxs)("div",{className:"inline-flex items-center gap-2 rounded-xl border border-[var(--border)] bg-[var(--bg)] px-3 py-2",children:[(0,r.jsx)("span",{className:"text-[11px] font-bold uppercase tracking-wider text-[var(--muted)]",children:"Volatility"}),(0,r.jsxs)("select",{value:Y,onChange:e=>Z(e.target.value),className:"rounded-lg border border-[var(--border)] bg-[var(--card)] px-2 py-1 text-xs font-semibold text-[var(--foreground)]",children:[(0,r.jsx)("option",{value:"low",children:"Low"}),(0,r.jsx)("option",{value:"medium",children:"Medium"}),(0,r.jsx)("option",{value:"high",children:"High"})]})]}),(0,r.jsx)("button",{className:t({variant:"primary",size:"sm"}),onClick:a2,disabled:ee,children:ee?"Revealing…":"Reveal"})]})]}),ea&&(0,r.jsxs)("div",{className:"mt-4 rounded-xl border border-[var(--border)] bg-[var(--warn-bg)] px-4 py-3 text-xs text-[var(--foreground)]",children:["Error: ",(0,r.jsx)("span",{className:"font-semibold",children:ea})]}),ed&&(0,r.jsxs)("div",{className:"mt-4 rounded-2xl border border-[var(--border)] bg-[var(--bg)] p-4",children:[(0,r.jsx)("div",{className:"text-[11px] font-bold uppercase tracking-widest text-[var(--muted)]",children:"Selected"}),(0,r.jsx)("div",{className:"mt-2 text-sm font-extrabold tracking-tight text-[var(--foreground)]",children:ed.label??"Boost"}),(0,r.jsxs)("div",{className:"mt-1 text-xs text-[var(--muted)]",children:["Rarity: ",ed.rarity??"—"]})]}),el.length>0&&!ed&&(0,r.jsx)("div",{className:"mt-4 grid gap-3 md:grid-cols-3",children:el.map(e=>(0,r.jsxs)("button",{onClick:()=>a1(e.code),disabled:null!==ec,className:"text-left rounded-2xl border border-[var(--border)] bg-[var(--bg)] p-4 shadow-sm transition hover:bg-[var(--card-2)]",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between gap-3",children:[(0,r.jsx)("div",{className:"text-sm font-extrabold tracking-tight text-[var(--foreground)]",children:e.label}),(0,r.jsx)("div",{className:"text-[10px] font-bold uppercase tracking-widest text-[var(--muted)]",children:e.rarity})]}),(0,r.jsx)("div",{className:"mt-2 text-xs text-[var(--muted)]",children:e.code}),(0,r.jsx)("div",{className:"mt-3",children:(0,r.jsx)("span",{className:t({variant:"secondary",size:"xs"}),children:ec===e.code?"Picking…":"Pick"})})]},e.code))})]})]}),(0,r.jsxs)("section",{className:"relative overflow-hidden rounded-2xl border border-[var(--border)] bg-[var(--card)] shadow-[var(--shadow)]",children:[(0,r.jsx)("div",{className:"pointer-events-none absolute inset-0 opacity-60","aria-hidden":!0,style:{backgroundImage:"radial-gradient(circle at 18% 20%, var(--ring) 0, transparent 55%), radial-gradient(circle at 86% 72%, var(--ring) 0, transparent 55%)"}}),(0,r.jsxs)("div",{className:"relative p-5 md:p-6",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsxs)("span",{className:"relative inline-flex h-2.5 w-2.5 shrink-0 items-center justify-center",children:[(0,r.jsx)("span",{className:"absolute inline-flex h-2.5 w-2.5 rounded-full bg-[var(--up)]"}),(0,r.jsx)("span",{className:"absolute inline-flex h-4.5 w-4.5 rounded-full bg-[var(--up-bg)]"})]}),(0,r.jsx)("div",{className:"text-[11px] font-bold uppercase tracking-widest text-[var(--muted)]",children:"Calendar"}),(0,r.jsx)("div",{className:"h-px flex-1 bg-[var(--border)]"})]}),(0,r.jsxs)("div",{className:"mt-4 flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[(0,r.jsxs)("div",{className:"min-w-0",children:[(0,r.jsx)("div",{className:"text-xl font-extrabold tracking-tight text-[var(--foreground)]",children:"Daily claim"}),(0,r.jsx)("div",{className:"mt-1 text-sm text-[var(--muted)]",children:"Streaks + pity (rare) · one claim per day"})]}),(0,r.jsxs)("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-center",children:[(0,r.jsxs)("div",{className:"inline-flex items-center gap-2 rounded-xl border border-[var(--border)] bg-[var(--bg)] px-3 py-2",children:[(0,r.jsx)("span",{className:"text-[11px] font-bold uppercase tracking-wider text-[var(--muted)]",children:"Volatility"}),(0,r.jsxs)("select",{value:U,onChange:e=>F(e.target.value),className:"rounded-lg border border-[var(--border)] bg-[var(--card)] px-2 py-1 text-xs font-semibold text-[var(--foreground)]",children:[(0,r.jsx)("option",{value:"low",children:"Low"}),(0,r.jsx)("option",{value:"medium",children:"Medium"}),(0,r.jsx)("option",{value:"high",children:"High"})]})]}),(0,r.jsx)("button",{className:t({variant:"primary",size:"sm"}),onClick:a0,disabled:V||!!W?.claimed_today,children:V?"Claiming…":W?.claimed_today?"Claimed":"Claim"})]})]}),(0,r.jsxs)("div",{className:"mt-4 grid gap-3 md:grid-cols-3",children:[(0,r.jsxs)("div",{className:"rounded-2xl border border-[var(--border)] bg-[var(--bg)] p-4",children:[(0,r.jsx)("div",{className:"text-[11px] font-bold uppercase tracking-widest text-[var(--muted)]",children:"Streak"}),(0,r.jsx)("div",{className:"mt-2 text-2xl font-extrabold tracking-tight text-[var(--foreground)]",children:W?.streak.count??0}),(0,r.jsxs)("div",{className:"mt-1 text-xs text-[var(--muted)]",children:["Best: ",W?.streak.best??0]})]}),(0,r.jsxs)("div",{className:"rounded-2xl border border-[var(--border)] bg-[var(--bg)] p-4",children:[(0,r.jsx)("div",{className:"text-[11px] font-bold uppercase tracking-widest text-[var(--muted)]",children:"Pity (rare)"}),(0,r.jsx)("div",{className:"mt-2 text-2xl font-extrabold tracking-tight text-[var(--foreground)]",children:W?.pity.rare??0}),(0,r.jsx)("div",{className:"mt-1 text-xs text-[var(--muted)]",children:"Resets on rare+"})]}),(0,r.jsxs)("div",{className:"rounded-2xl border border-[var(--border)] bg-[var(--bg)] p-4",children:[(0,r.jsx)("div",{className:"text-[11px] font-bold uppercase tracking-widest text-[var(--muted)]",children:"Today"}),(0,r.jsx)("div",{className:"mt-2 text-sm font-semibold text-[var(--foreground)]",children:W?.today??"—"}),(0,r.jsx)("div",{className:"mt-1 text-xs text-[var(--muted)]",children:"UTC day boundary"})]})]}),(0,r.jsxs)("div",{className:"mt-4 rounded-2xl border border-[var(--border)] bg-[var(--card-2)] p-4",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between gap-3",children:[(0,r.jsx)("div",{className:"text-[11px] font-bold uppercase tracking-widest text-[var(--muted)]",children:"Last 7 days"}),(0,r.jsx)("button",{onClick:aL,className:t({variant:"ghost",size:"xs"}),children:"Refresh"})]}),(0,r.jsx)("div",{className:"mt-3 grid grid-cols-7 gap-2",children:Array.from({length:7}).map((e,a)=>{let t=new Date;t.setUTCDate(t.getUTCDate()-(6-a));let s=new Date(Date.UTC(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate())).toISOString().slice(0,10),i=(W?.claimed_7d??[]).includes(s);return(0,r.jsx)("div",{className:"rounded-xl border border-[var(--border)] px-2 py-2 text-center text-[11px] font-bold "+(i?"bg-[var(--up-bg)] text-[var(--up)]":"bg-[var(--bg)] text-[var(--muted)]"),title:s,children:s.slice(8,10)},s)})})]}),q&&(0,r.jsxs)("div",{className:"mt-4 rounded-xl border border-[var(--border)] bg-[var(--warn-bg)] px-4 py-3 text-xs text-[var(--foreground)]",children:["Error: ",(0,r.jsx)("span",{className:"font-semibold",children:q})]}),X&&(0,r.jsxs)("div",{className:"mt-4 rounded-2xl border border-[var(--border)] bg-[var(--bg)] p-4",children:[(0,r.jsx)("div",{className:"text-[11px] font-bold uppercase tracking-widest text-[var(--muted)]",children:"Result"}),(0,r.jsx)("div",{className:"mt-2 text-sm font-extrabold tracking-tight text-[var(--foreground)]",children:X?.outcome?.label??"—"}),(0,r.jsxs)("div",{className:"mt-1 text-xs text-[var(--muted)]",children:["Rarity: ",X?.outcome?.rarity??"—"]})]})]})]}),(0,r.jsxs)("section",{className:"relative overflow-hidden rounded-2xl border border-[var(--border)] bg-[var(--card)] shadow-[var(--shadow)]",children:[(0,r.jsx)("div",{className:"pointer-events-none absolute inset-0 opacity-60","aria-hidden":!0,style:{backgroundImage:"radial-gradient(circle at 12% 30%, var(--ring) 0, transparent 55%), radial-gradient(circle at 88% 70%, var(--ring) 0, transparent 55%)"}}),(0,r.jsxs)("div",{className:"relative p-5 md:p-6",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsxs)("span",{className:"relative inline-flex h-2.5 w-2.5 shrink-0 items-center justify-center",children:[(0,r.jsx)("span",{className:"absolute inline-flex h-2.5 w-2.5 rounded-full bg-[var(--accent)]"}),(0,r.jsx)("span",{className:"absolute inline-flex h-4.5 w-4.5 rounded-full bg-[var(--ring)]"})]}),(0,r.jsx)("div",{className:"text-[11px] font-bold uppercase tracking-widest text-[var(--muted)]",children:"Daily drop"}),(0,r.jsx)("div",{className:"h-px flex-1 bg-[var(--border)]"})]}),(0,r.jsxs)("div",{className:"mt-4 flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[(0,r.jsxs)("div",{className:"min-w-0",children:[(0,r.jsx)("div",{className:"text-xl font-extrabold tracking-tight text-[var(--foreground)]",children:"Claim a badge"}),(0,r.jsx)("div",{className:"mt-1 text-sm text-[var(--muted)]",children:"One claim per day · commit→reveal fairness proof"})]}),(0,r.jsxs)("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-center",children:[(0,r.jsxs)("div",{className:"inline-flex items-center gap-2 rounded-xl border border-[var(--border)] bg-[var(--bg)] px-3 py-2",children:[(0,r.jsx)("span",{className:"text-[11px] font-bold uppercase tracking-wider text-[var(--muted)]",children:"Volatility"}),(0,r.jsxs)("select",{value:e,onChange:e=>n(e.target.value),className:"rounded-lg border border-[var(--border)] bg-[var(--card)] px-2 py-1 text-xs font-semibold text-[var(--foreground)]","aria-label":"Volatility profile",children:[(0,r.jsx)("option",{value:"low",children:"Low"}),(0,r.jsx)("option",{value:"medium",children:"Medium"}),(0,r.jsx)("option",{value:"high",children:"High"})]})]}),(0,r.jsx)("button",{className:t({variant:"primary",size:"sm"}),onClick:a7,disabled:d,children:d?"Claiming…":"Claim"})]})]}),(0,r.jsx)("div",{className:"mt-3 text-xs text-[var(--muted)]",children:aP}),c&&(0,r.jsxs)("div",{className:"mt-4 rounded-xl border border-[var(--border)] bg-[var(--warn-bg)] px-4 py-3 text-xs text-[var(--foreground)]",children:["Error: ",(0,r.jsx)("span",{className:"font-semibold",children:c})]}),m&&(0,r.jsxs)("div",{className:"mt-5 grid gap-3",children:[(0,r.jsxs)("div",{className:"rounded-2xl border border-[var(--border)] bg-[var(--card-2)] p-4",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between gap-3",children:[(0,r.jsx)("div",{className:"text-sm font-extrabold tracking-tight text-[var(--foreground)]",children:m.outcome.label}),(0,r.jsx)("div",{className:"text-[11px] font-bold uppercase tracking-widest text-[var(--muted)]",children:m.outcome.rarity})]}),(0,r.jsxs)("div",{className:"mt-2 text-xs text-[var(--muted)]",children:["Code: ",(0,r.jsx)("span",{className:"font-mono",children:m.outcome.code})]})]}),(0,r.jsxs)("details",{className:"rounded-2xl border border-[var(--border)] bg-[var(--bg)] p-4",children:[(0,r.jsx)("summary",{className:"cursor-pointer text-xs font-bold uppercase tracking-widest text-[var(--muted)]",children:"Fairness proof"}),(0,r.jsxs)("div",{className:"mt-3 grid gap-2 text-xs text-[var(--muted)]",children:[(0,r.jsxs)("div",{children:["client_commit_hash: ",(0,r.jsx)("span",{className:"font-mono text-[var(--foreground)]",children:m.audit.client_commit_hash})]}),(0,r.jsxs)("div",{children:["server_commit_hash: ",(0,r.jsx)("span",{className:"font-mono text-[var(--foreground)]",children:m.audit.server_commit_hash})]}),(0,r.jsxs)("div",{children:["server_seed_b64: ",(0,r.jsx)("span",{className:"font-mono text-[var(--foreground)]",children:m.audit.server_seed_b64})]}),(0,r.jsxs)("div",{children:["random_hash: ",(0,r.jsx)("span",{className:"font-mono text-[var(--foreground)]",children:m.audit.random_hash})]}),(0,r.jsxs)("div",{children:["roll: ",(0,r.jsx)("span",{className:"font-semibold text-[var(--foreground)]",children:m.audit.roll})," / ",m.audit.total]})]})]})]})]})]}),(0,r.jsxs)("section",{className:"relative overflow-hidden rounded-2xl border border-[var(--border)] bg-[var(--card)] shadow-[var(--shadow)]",children:[(0,r.jsx)("div",{className:"pointer-events-none absolute inset-0 opacity-60","aria-hidden":!0,style:{backgroundImage:"radial-gradient(circle at 14% 22%, var(--ring) 0, transparent 55%), radial-gradient(circle at 88% 70%, var(--ring) 0, transparent 55%)"}}),(0,r.jsxs)("div",{className:"relative p-5 md:p-6",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsxs)("span",{className:"relative inline-flex h-2.5 w-2.5 shrink-0 items-center justify-center",children:[(0,r.jsx)("span",{className:"absolute inline-flex h-2.5 w-2.5 rounded-full bg-[var(--accent-2)]"}),(0,r.jsx)("span",{className:"absolute inline-flex h-4.5 w-4.5 rounded-full bg-[var(--ring)]"})]}),(0,r.jsx)("div",{className:"text-[11px] font-bold uppercase tracking-widest text-[var(--muted)]",children:"Time vault"}),(0,r.jsx)("div",{className:"h-px flex-1 bg-[var(--border)]"})]}),(0,r.jsxs)("div",{className:"mt-4 flex flex-col gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"text-xl font-extrabold tracking-tight text-[var(--foreground)]",children:"Lock funds · unlock a bonus"}),(0,r.jsx)("div",{className:"mt-1 text-sm text-[var(--muted)]",children:"Funds are held until unlock. Bonus is a bounded utility boost."})]}),(0,r.jsxs)("div",{className:"grid gap-3 md:grid-cols-12",children:[(0,r.jsxs)("div",{className:"md:col-span-4",children:[(0,r.jsx)("div",{className:"text-[11px] font-bold uppercase tracking-widest text-[var(--muted)]",children:"Asset"}),(0,r.jsx)("select",{value:p,onChange:e=>b(e.target.value),className:"mt-1 w-full rounded-xl border border-[var(--border)] bg-[var(--card)] px-3 py-2 text-sm font-semibold text-[var(--foreground)]",children:v.map(e=>(0,r.jsxs)("option",{value:e.id,children:[e.symbol," · ",e.chain.toUpperCase()]},e.id))})]}),(0,r.jsxs)("div",{className:"md:col-span-3",children:[(0,r.jsx)("div",{className:"text-[11px] font-bold uppercase tracking-widest text-[var(--muted)]",children:"Amount"}),(0,r.jsx)("input",{value:g,onChange:e=>f(e.target.value),placeholder:"0.00",inputMode:"decimal",className:"mt-1 w-full rounded-xl border border-[var(--border)] bg-[var(--card)] px-3 py-2 text-sm font-semibold text-[var(--foreground)]"})]}),(0,r.jsxs)("div",{className:"md:col-span-3",children:[(0,r.jsx)("div",{className:"text-[11px] font-bold uppercase tracking-widest text-[var(--muted)]",children:"Duration"}),(0,r.jsxs)("select",{value:j,onChange:e=>N(Number(e.target.value)),className:"mt-1 w-full rounded-xl border border-[var(--border)] bg-[var(--card)] px-3 py-2 text-sm font-semibold text-[var(--foreground)]",children:[(0,r.jsx)("option",{value:24,children:"24h"}),(0,r.jsx)("option",{value:72,children:"3d"}),(0,r.jsx)("option",{value:168,children:"7d"})]})]}),(0,r.jsxs)("div",{className:"md:col-span-2",children:[(0,r.jsx)("div",{className:"text-[11px] font-bold uppercase tracking-widest text-[var(--muted)]",children:"Volatility"}),(0,r.jsxs)("select",{value:y,onChange:e=>w(e.target.value),className:"mt-1 w-full rounded-xl border border-[var(--border)] bg-[var(--card)] px-3 py-2 text-sm font-semibold text-[var(--foreground)]",children:[(0,r.jsx)("option",{value:"low",children:"Low"}),(0,r.jsx)("option",{value:"medium",children:"Medium"}),(0,r.jsx)("option",{value:"high",children:"High"})]})]})]}),(0,r.jsxs)("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-center sm:justify-between",children:[(0,r.jsx)("div",{className:"text-xs text-[var(--muted)]",children:"A client seed is saved locally to reveal later. Don’t clear storage before unlock."}),(0,r.jsx)("button",{className:t({variant:"primary",size:"sm"}),onClick:a3,disabled:S||!p||!g.trim(),children:S?"Locking…":"Lock"})]}),C&&(0,r.jsxs)("div",{className:"rounded-xl border border-[var(--border)] bg-[var(--warn-bg)] px-4 py-3 text-xs text-[var(--foreground)]",children:["Error: ",(0,r.jsx)("span",{className:"font-semibold",children:C})]})]}),(0,r.jsxs)("div",{className:"mt-6",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between gap-3",children:[(0,r.jsx)("div",{className:"text-[11px] font-bold uppercase tracking-widest text-[var(--muted)]",children:"My vaults"}),(0,r.jsx)("button",{onClick:az,className:t({variant:"secondary",size:"xs"}),children:"Refresh"})]}),P&&(0,r.jsxs)("div",{className:"mt-3 rounded-xl border border-[var(--border)] bg-[var(--warn-bg)] px-4 py-3 text-xs text-[var(--foreground)]",children:["Reveal error: ",(0,r.jsx)("span",{className:"font-semibold",children:P})]}),M&&(0,r.jsxs)("div",{className:"mt-3 rounded-xl border border-[var(--border)] bg-[var(--warn-bg)] px-4 py-3 text-xs text-[var(--foreground)]",children:["Hint error: ",(0,r.jsx)("span",{className:"font-semibold",children:M})]}),H&&(0,r.jsxs)("div",{className:"mt-3 rounded-2xl border border-[var(--border)] bg-[var(--bg)] p-4",children:[(0,r.jsx)("div",{className:"text-[11px] font-bold uppercase tracking-widest text-[var(--muted)]",children:"Hint"}),(0,r.jsx)("div",{className:"mt-1 text-sm font-semibold text-[var(--foreground)]",children:H?.hint?.tier?String(H.hint.tier).toUpperCase():"—"}),(0,r.jsx)("div",{className:"mt-1 text-xs text-[var(--muted)]",children:H?.hint?.message??""})]}),A&&(0,r.jsxs)("div",{className:"mt-3 rounded-2xl border border-[var(--border)] bg-[var(--card-2)] p-4",children:[(0,r.jsx)("div",{className:"text-sm font-extrabold tracking-tight text-[var(--foreground)]",children:"Unlocked"}),(0,r.jsxs)("div",{className:"mt-1 text-xs text-[var(--muted)]",children:["Bonus: ",(0,r.jsx)("span",{className:"font-semibold text-[var(--foreground)]",children:A?.outcome?.label??"—"})]})]}),0===k.length?(0,r.jsx)("div",{className:"mt-3 rounded-2xl border border-[var(--border)] bg-[var(--bg)] px-4 py-6 text-center text-sm text-[var(--muted)]",children:"No vaults yet."}):(0,r.jsx)("div",{className:"mt-3 divide-y divide-[var(--border)] overflow-hidden rounded-2xl border border-[var(--border)] bg-[var(--bg)]",children:k.map(e=>{let a="ready"===e.status,s="hint_ready"===e.status,i="scheduled"===e.status&&!!e.resolves_at&&new Date(e.resolves_at).getTime()<=Date.now(),l=a||i,n=v.find(r=>r.id===String(e.input_json?.asset_id??""))?.symbol??"Asset",d=String(e.input_json?.amount??""),o=Number(e.input_json?.duration_hours??0);return(0,r.jsxs)("div",{className:"flex flex-col gap-3 px-4 py-4 sm:flex-row sm:items-center sm:justify-between",children:[(0,r.jsxs)("div",{className:"min-w-0",children:[(0,r.jsxs)("div",{className:"text-sm font-semibold text-[var(--foreground)]",children:[n," · ",d||"—"," · ",o?`${o}h`:"—"]}),(0,r.jsxs)("div",{className:"mt-1 text-xs text-[var(--muted)]",children:["Status: ",(0,r.jsx)("span",{className:"font-semibold text-[var(--foreground)]",children:e.status}),e.resolves_at?(0,r.jsxs)("span",{children:[" · unlocks ",new Date(e.resolves_at).toLocaleString()]}):null]})]}),(0,r.jsxs)("div",{className:"flex shrink-0 items-center gap-2",children:[(0,r.jsx)("button",{className:t({variant:s?"secondary":"ghost",size:"xs"}),onClick:()=>a8(e.id),disabled:!s||I===e.id,children:I===e.id?"Hint…":"Hint"}),(0,r.jsx)("button",{className:t({variant:l?"primary":"secondary",size:"xs"}),onClick:()=>a6(e.id),disabled:!l||J===e.id||"resolved"===e.status,children:J===e.id?"Revealing…":"resolved"===e.status?"Resolved":"Reveal"})]})]},e.id)})})]})]})]}),(0,r.jsxs)("section",{className:"rounded-2xl border border-[var(--border)] bg-[var(--card)] p-5 shadow-[var(--shadow)]",children:[(0,r.jsx)("div",{className:"text-[11px] font-bold uppercase tracking-widest text-[var(--muted)]",children:"Next"}),(0,r.jsx)("div",{className:"mt-2 text-sm font-semibold text-[var(--foreground)]",children:"More modules will plug into the same engine"}),(0,r.jsx)("div",{className:"mt-1 text-xs text-[var(--muted)]",children:"Time vaults, multi-stage reveals, crafting, progression tiers, community events, and AI packs will reuse the same action log, fairness proof, and inventory system."}),(0,r.jsx)("div",{className:"mt-4",children:(0,r.jsx)("a",{href:"/arcade/transparency",className:"text-xs font-semibold text-[var(--accent)] hover:underline",children:"View transparency dashboard →"})})]}),(0,r.jsxs)("section",{className:"rounded-2xl border border-[var(--border)] bg-[var(--card)] p-5 shadow-[var(--shadow)]",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between gap-3",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"text-[11px] font-bold uppercase tracking-widest text-[var(--muted)]",children:"Safety & export"}),(0,r.jsx)("div",{className:"mt-2 text-sm font-semibold text-[var(--foreground)]",children:"Control your arcade usage"}),(0,r.jsx)("div",{className:"mt-1 text-xs text-[var(--muted)]",children:"Self-exclusion and daily limits are enforced server-side."})]}),(0,r.jsx)("a",{className:t({variant:"secondary",size:"xs"}),href:"/api/arcade/export",target:"_blank",rel:"noreferrer",children:"Download export"})]}),(0,r.jsxs)("div",{className:"mt-4 grid gap-3 md:grid-cols-3",children:[(0,r.jsxs)("div",{className:"rounded-2xl border border-[var(--border)] bg-[var(--bg)] p-4",children:[(0,r.jsx)("div",{className:"text-[11px] font-bold uppercase tracking-widest text-[var(--muted)]",children:"Self-exclusion"}),(0,r.jsxs)("div",{className:"mt-2 text-xs text-[var(--muted)]",children:["Current: ",(0,r.jsx)("span",{className:"font-mono text-[var(--foreground)]",children:r6?.self_excluded_until??"off"})]}),(0,r.jsxs)("div",{className:"mt-3 flex items-center gap-2",children:[(0,r.jsx)("input",{className:"w-full rounded-xl border border-[var(--border)] bg-[var(--card)] px-3 py-2 text-xs text-[var(--foreground)]",type:"number",min:0,max:8760,value:r7,onChange:e=>r9(Math.max(0,Math.floor(Number(e.target.value||0))))}),(0,r.jsx)("span",{className:"text-xs text-[var(--muted)]",children:"hours"})]})]}),(0,r.jsxs)("div",{className:"rounded-2xl border border-[var(--border)] bg-[var(--bg)] p-4",children:[(0,r.jsx)("div",{className:"text-[11px] font-bold uppercase tracking-widest text-[var(--muted)]",children:"Daily actions"}),(0,r.jsx)("div",{className:"mt-2 text-xs text-[var(--muted)]",children:"0 or blank disables."}),(0,r.jsx)("input",{className:"mt-3 w-full rounded-xl border border-[var(--border)] bg-[var(--card)] px-3 py-2 text-xs text-[var(--foreground)]",inputMode:"numeric",value:ae,onChange:e=>ar(e.target.value.replace(/[^0-9]/g,"")),placeholder:"e.g. 50"})]}),(0,r.jsxs)("div",{className:"rounded-2xl border border-[var(--border)] bg-[var(--bg)] p-4",children:[(0,r.jsx)("div",{className:"text-[11px] font-bold uppercase tracking-widest text-[var(--muted)]",children:"Daily shard spend"}),(0,r.jsx)("div",{className:"mt-2 text-xs text-[var(--muted)]",children:"0 or blank disables."}),(0,r.jsx)("input",{className:"mt-3 w-full rounded-xl border border-[var(--border)] bg-[var(--card)] px-3 py-2 text-xs text-[var(--foreground)]",inputMode:"numeric",value:aa,onChange:e=>at(e.target.value.replace(/[^0-9]/g,"")),placeholder:"e.g. 500"})]})]}),r4?(0,r.jsxs)("div",{className:"mt-4 rounded-xl border border-[var(--border)] bg-[var(--warn-bg)] px-4 py-3 text-xs text-[var(--foreground)]",children:["Error: ",(0,r.jsx)("span",{className:"font-semibold",children:r4})]}):null,(0,r.jsxs)("div",{className:"mt-4 flex items-center justify-end gap-2",children:[(0,r.jsx)("button",{className:t({variant:"ghost",size:"xs"}),onClick:aU,disabled:r1,children:r1?"…":"Reload"}),(0,r.jsx)("button",{className:t({variant:"primary",size:"xs"}),onClick:aq,disabled:r1,children:r1?"Saving…":"Save"})]})]})]})}e.s(["ArcadeClient",()=>n],439138)}]);