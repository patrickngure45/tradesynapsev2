module.exports=[843793,e=>{"use strict";var t=e.i(446786),r=e.i(522734);let n=new Map,s=new Map,a=Symbol("OriginError"),i={};class o extends Promise{constructor(e,t,r,s,i={}){let o,l;super((e,t)=>{o=e,l=t}),this.tagged=Array.isArray(e.raw),this.strings=e,this.args=t,this.handler=r,this.canceller=s,this.options=i,this.state=null,this.statement=null,this.resolve=e=>(this.active=!1,o(e)),this.reject=e=>(this.active=!1,l(e)),this.active=!1,this.cancelled=null,this.executed=!1,this.signature="",this[a]=this.handler.debug?Error():this.tagged&&function(e){if(n.has(e))return n.get(e);let t=Error.stackTraceLimit;return Error.stackTraceLimit=4,n.set(e,Error()),Error.stackTraceLimit=t,n.get(e)}(this.strings)}get origin(){return(this.handler.debug?this[a].stack:this.tagged&&s.has(this.strings)?s.get(this.strings):s.set(this.strings,this[a].stack).get(this.strings))||""}static get[Symbol.species](){return Promise}cancel(){return this.canceller&&(this.canceller(this),this.canceller=null)}simple(){return this.options.simple=!0,this.options.prepare=!1,this}async readable(){return this.simple(),this.streaming=!0,this}async writable(){return this.simple(),this.streaming=!0,this}cursor(e=1,t){let r;return(this.options.simple=!1,"function"==typeof e&&(t=e,e=1),this.cursorRows=e,"function"==typeof t)?(this.cursorFn=t,this):{[Symbol.asyncIterator]:()=>({next:()=>{if(this.executed&&!this.active)return{done:!0};r&&r();let e=new Promise((e,t)=>{this.cursorFn=t=>(e({value:t,done:!1}),new Promise(e=>r=e)),this.resolve=()=>(this.active=!1,e({done:!0})),this.reject=e=>(this.active=!1,t(e))});return this.execute(),e},return:()=>(r&&r(i),{done:!0})})}}describe(){return this.options.simple=!1,this.onlyDescribe=this.options.prepare=!0,this}stream(){throw Error(".stream has been renamed to .forEach")}forEach(e){return this.forEachFn=e,this.handle(),this}raw(){return this.isRaw=!0,this}values(){return this.isRaw="values",this}async handle(){!this.executed&&(this.executed=!0)&&await 1&&this.handler(this)}execute(){return this.handle(),this}then(){return this.handle(),super.then.apply(this,arguments)}catch(){return this.handle(),super.catch.apply(this,arguments)}finally(){return this.handle(),super.finally.apply(this,arguments)}}class l extends Error{constructor(e){super(e.message),this.name=this.constructor.name,Object.assign(this,e)}}let c=function e(t,r,n){let{host:s,port:a}=n||r,i=Object.assign(Error("write "+t+" "+(r.path||s+":"+a)),{code:t,errno:t,address:r.path||s},r.path?{}:{port:a});return Error.captureStackTrace(i,e),i},u=function e(t){let r=new l(t);return Error.captureStackTrace(r,e),r},f=function e(t,r){let n=Object.assign(Error(t+": "+r),{code:t});return Error.captureStackTrace(n,e),n},p=function e(t){let r=Object.assign(Error(t+" (B) is not supported"),{code:"MESSAGE_NOT_SUPPORTED",name:t});return Error.captureStackTrace(r,e),r};class m{then(){P()}catch(){P()}finally(){P()}}class d extends m{constructor(e){super(),this.value=U(e)}}class h extends m{constructor(e,t,r){super(),this.value=e,this.type=t,this.array=r}}class g extends m{constructor(e,t){super(),this.first=e,this.rest=t}build(e,t,r,n){let s=O.map(([t,r])=>({fn:r,i:e.search(t)})).sort((e,t)=>e.i-t.i).pop();return -1===s.i?x(this.first,n):s.fn(this.first,this.rest,t,r,n)}}function y(e,t,r,n){let s=e instanceof h?e.value:e;if(void 0===s&&(e instanceof h?e.value=n.transform.undefined:s=e=n.transform.undefined,void 0===s))throw f("UNDEFINED_VALUE","Undefined values are not allowed");return"$"+r.push(e instanceof h?(t.push(e.value),e.array?e.array[e.type||C(e.value)]||e.type||function e(t){return Array.isArray(t)?e(t[0]):1009*("string"==typeof t)}(e.value):e.type):(t.push(e),C(e)))}let w=T({string:{to:25,from:null,serialize:e=>""+e},number:{to:0,from:[21,23,26,700,701],serialize:e=>""+e,parse:e=>+e},json:{to:114,from:[114,3802],serialize:e=>JSON.stringify(e),parse:e=>JSON.parse(e)},boolean:{to:16,from:16,serialize:e=>!0===e?"t":"f",parse:e=>"t"===e},date:{to:1184,from:[1082,1114,1184],serialize:e=>(e instanceof Date?e:new Date(e)).toISOString(),parse:e=>new Date(e)},bytea:{to:17,from:17,serialize:e=>"\\x"+Buffer.from(e).toString("hex"),parse:e=>Buffer.from(e.slice(2),"hex")}});function b(e,t,r,n,s,a){for(let i=1;i<e.strings.length;i++)t+=_(t,r,n,s,a)+e.strings[i],r=e.args[i];return t}function _(e,t,r,n,s){return t instanceof g?t.build(e,r,n,s):t instanceof o?v(t,r,n,s):t instanceof d?t.value:t&&t[0]instanceof o?t.reduce((e,t)=>e+" "+v(t,r,n,s),""):y(t,r,n,s)}function v(e,t,r,n){return e.fragment=!0,b(e,e.strings[0],e.args[0],t,r,n)}function E(e,t,r,n,s){return e.map(e=>"("+n.map(n=>_("values",e[n],t,r,s)).join(",")+")").join(",")}function A(e,t,r,n,s){let a=Array.isArray(e[0]),i=t.length?t.flat():Object.keys(a?e[0]:e);return E(a?e:[e],r,n,i,s)}function S(e,t,r,n,s){let a;return("string"==typeof e&&(e=[e].concat(t)),Array.isArray(e))?x(e,s):(t.length?t.flat():Object.keys(e)).map(t=>((a=e[t])instanceof o?v(a,r,n,s):a instanceof d?a.value:y(a,r,n,s))+" as "+U(s.transform.column.to?s.transform.column.to(t):t)).join(",")}let O=Object.entries({values:A,in:(...e)=>{let t=A(...e);return"()"===t?"(null)":t},select:S,as:S,returning:S,"\\(":S,update:(e,t,r,n,s)=>(t.length?t.flat():Object.keys(e)).map(t=>U(s.transform.column.to?s.transform.column.to(t):t)+"="+_("values",e[t],r,n,s)),insert(e,t,r,n,s){let a=t.length?t.flat():Object.keys(Array.isArray(e)?e[0]:e);return"("+x(a,s)+")values"+E(Array.isArray(e)?e:[e],r,n,a,s)}}).map(([e,t])=>[RegExp("((?:^|[\\s(])"+e+"(?:$|[\\s(]))(?![\\s\\S]*\\1)","i"),t]);function P(){throw f("NOT_TAGGED_CALL","Query not called as a tagged template literal")}let B=w.serializers,N=w.parsers,I=function(e){let t=T(e||{});return{serializers:Object.assign({},B,t.serializers),parsers:Object.assign({},N,t.parsers)}};function T(e){return Object.keys(e).reduce((t,r)=>(e[r].from&&[].concat(e[r].from).forEach(n=>t.parsers[n]=e[r].parse),e[r].serialize&&(t.serializers[e[r].to]=e[r].serialize,e[r].from&&[].concat(e[r].from).forEach(n=>t.serializers[n]=e[r].serialize)),t),{parsers:{},serializers:{}})}function x(e,{transform:{column:t}}){return e.map(e=>U(t.to?t.to(e):e)).join(",")}let U=function(e){return'"'+e.replace(/"/g,'""').replace(/\./g,'"."')+'"'},C=function e(t){return t instanceof h?t.type:t instanceof Date?1184:t instanceof Uint8Array?17:!0===t||!1===t?16:"bigint"==typeof t?20:Array.isArray(t)?e(t[0]):0},j=/\\/g,k=/"/g,R=function e(t,r,n,s){if(!1===Array.isArray(t))return t;if(!t.length)return"{}";let a=t[0],i=1020===s?";":",";return Array.isArray(a)&&!a.type?"{"+t.map(t=>e(t,r,n,s)).join(i)+"}":"{"+t.map(e=>{if(void 0===e&&void 0===(e=n.transform.undefined))throw f("UNDEFINED_VALUE","Undefined values are not allowed");return null===e?"null":'"'+(r?r(e.type?e.value:e):""+e).replace(j,"\\\\").replace(k,'\\"')+'"'}).join(i)+"}"},D={i:0,char:null,str:"",quoted:!1,last:0},L=e=>{let t=e[0];for(let r=1;r<e.length;r++)t+="_"===e[r]?e[++r].toUpperCase():e[r];return t},q=e=>{let t=e[0].toUpperCase();for(let r=1;r<e.length;r++)t+="_"===e[r]?e[++r].toUpperCase():e[r];return t},M=e=>e.replace(/_/g,"-"),z=e=>e.replace(/([A-Z])/g,"_$1").toLowerCase(),$=e=>(e.slice(0,1)+e.slice(1).replace(/([A-Z])/g,"_$1")).toLowerCase(),F=e=>e.replace(/-/g,"_");function G(e){return function t(r,n){return"object"==typeof r&&null!==r&&(114===n.type||3802===n.type)?Array.isArray(r)?r.map(e=>t(e,n)):Object.entries(r).reduce((r,[s,a])=>Object.assign(r,{[e(s)]:t(a,n)}),{}):r}}L.column={from:L},L.value={from:G(L)},z.column={to:z};let H={...L};H.column.to=z,q.column={from:q},q.value={from:G(q)},$.column={to:$};let Y={...q};Y.column.to=$,M.column={from:M},M.value={from:G(M)},F.column={to:F};let K={...M};K.column.to=F;var X=e.i(504446),Q=e.i(755004),V=e.i(254799),W=e.i(688947),J=e.i(60438);class Z extends Array{constructor(){super(),Object.defineProperties(this,{count:{value:null,writable:!0},state:{value:null,writable:!0},command:{value:null,writable:!0},columns:{value:null,writable:!0},statement:{value:null,writable:!0}})}static get[Symbol.species](){return Array}}let ee=function(e=[]){let t=e.slice(),r=0;return{get length(){return t.length-r},remove:e=>{let r=t.indexOf(e);return -1===r?null:(t.splice(r,1),e)},push:e=>(t.push(e),e),shift:()=>{let e=t[r++];return r===t.length?(r=0,t=[]):t[r-1]=void 0,e}}},et=Buffer.allocUnsafe(256),er=Object.assign(function(){return er.i=0,er},"BCcDdEFfHPpQSX".split("").reduce((e,t)=>{let r=t.charCodeAt(0);return e[t]=()=>(et[0]=r,er.i=5,er),e},{}),{N:"\0",i:0,inc:e=>(er.i+=e,er),str(e){let t=Buffer.byteLength(e);return en(t),er.i+=et.write(e,er.i,t,"utf8"),er},i16:e=>(en(2),et.writeUInt16BE(e,er.i),er.i+=2,er),i32:(e,t)=>(t||0===t?et.writeUInt32BE(e,t):(en(4),et.writeUInt32BE(e,er.i),er.i+=4),er),z:e=>(en(e),et.fill(0,er.i,er.i+e),er.i+=e,er),raw:e=>(et=Buffer.concat([et.subarray(0,er.i),e]),er.i=et.length,er),end(e=1){et.writeUInt32BE(er.i-e,e);let t=et.subarray(0,er.i);return er.i=0,et=Buffer.allocUnsafe(256),t}});function en(e){if(et.length-er.i<e){let t=et,r=t.length;et=Buffer.allocUnsafe(r+(r>>1)+e),t.copy(et)}}let es=function e(t,r={},{onopen:n=ef,onend:s=ef,onclose:a=ef}={}){let{sslnegotiation:l,ssl:m,max:d,user:h,host:g,port:w,database:_,parsers:v,transform:E,onnotice:A,onnotify:S,onparameter:O,max_pipeline:P,keep_alive:B,backoff:N,target_session_attrs:I}=t,T=ee(),x=ea++,U={pid:null,secret:null},C=ey(eW,t.idle_timeout),j=ey(eW,t.max_lifetime),k=ey(function(){eQ(c("CONNECT_TIMEOUT",t,L)),L.destroy()},t.connect_timeout),L=null,q,M=null,z=new Z,$=Buffer.alloc(0),F=t.fetch_types,G={},H={},Y=Math.random().toString(36).slice(2),K=1,et=0,en=0,es=0,em=0,ew=0,eb=0,e_=0,ev=null,eE=null,eA=!1,eS=null,eO=null,eP=null,eB=null,eN=null,eI=null,eT=null,ex=null,eU=null,eC=null,ej={queue:r.closed,idleTimer:C,connect(e){eP=e,eY()},terminate:eJ,execute:eD,cancel:eR,end:eW,count:0,id:x};return r.closed&&r.closed.push(ej),ej;async function ek(){let e;try{e=t.socket?await Promise.resolve(t.socket(t)):new X.default.Socket}catch(e){eX(e);return}return e.on("error",eX),e.on("close",eZ),e.on("drain",eF),e}async function eR({pid:e,secret:t},r,n){try{q=er().i32(16).i32(0x4d2162e).i32(e).i32(t).end(16),await eH(),L.once("error",n),L.once("close",r)}catch(e){n(e)}}function eD(e){if(eA)return eV(e,c("CONNECTION_DESTROYED",t));if(eN)return eV(e,f("COPY_IN_PROGRESS","You cannot execute queries during copy"));if(!e.cancelled)try{var r;let n,s,a;return e.state=U,eU?T.push(e):(eU=e).active=!0,r=e,n=[],s=[],a=b(r,r.strings[0],r.args[0],n,s,t),r.tagged||r.args.forEach(e=>y(e,n,s,t)),r.prepare=t.prepare&&(!("prepare"in r.options)||r.options.prepare),r.string=a,r.signature=r.prepare&&s+a,r.onlyDescribe&&delete H[r.signature],r.parameters=r.parameters||n,r.prepared=r.prepare&&r.signature in H,r.describeFirst=r.onlyDescribe||n.length&&!r.prepared,r.statement=r.prepared?H[r.signature]:{string:a,types:s,name:r.prepare?Y+K++:""},"function"==typeof t.debug&&t.debug(x,a,n,s),eM(function(e){var t;if(e.parameters.length>=65534)throw f("MAX_PARAMETERS_EXCEEDED","Max number of parameters (65534) exceeded");return e.options.simple?er().Q().str(e.statement.string+er.N).end():e.describeFirst?Buffer.concat([eL(e),eo]):e.prepare?e.prepared?eq(e):Buffer.concat([eL(e),eq(e)]):(t=e,Buffer.concat([e9(t.statement.string,t.parameters,t.statement.types),eu,eq(t)]))}(e))&&!e.describeFirst&&!e.cursorFn&&T.length<P&&(!e.options.onexecute||e.options.onexecute(ej))}catch(e){return 0===T.length&&eM(ei),eQ(e),!0}}function eL(e){return Buffer.concat([e9(e.statement.string,e.parameters,e.statement.types,e.statement.name),function(e,t=""){return er().D().str("S").str(t+er.N).end()}("S",e.statement.name)])}function eq(e){return Buffer.concat([function(e,r,n="",s=""){let a,i;return er().B().str(s+er.N).str(n+er.N).i16(0).i16(e.length),e.forEach((n,s)=>{if(null===n)return er.i32(0xffffffff);i=r[s],e[s]=n=i in t.serializers?t.serializers[i](n):""+n,a=er.i,er.inc(4).str(n).i32(er.i-a-4,a)}),er.i16(0),er.end()}(e.parameters,e.statement.types,e.statement.name,e.cursorName),e.cursorFn?te("",e.cursorRows):ec])}function eM(e,t){return(eI=eI?Buffer.concat([eI,e]):Buffer.from(e),t||eI.length>=1024)?ez(t):(null===eE&&(eE=setImmediate(ez)),!0)}function ez(e){let t=L.write(eI,e);return null!==eE&&clearImmediate(eE),eI=eE=null,t}async function e$(){if("direct"!==l&&(eM(el),!await new Promise(e=>L.once("data",t=>e(83===t[0])))&&"prefer"===m))return eK();let e={socket:L,servername:X.default.isIP(L.host)?void 0:L.host};"direct"===l&&(e.ALPNProtocols=["postgresql"]),"require"===m||"allow"===m||"prefer"===m?e.rejectUnauthorized=!1:"object"==typeof m&&Object.assign(e,m),L.removeAllListeners(),(L=Q.default.connect(e)).on("secureConnect",eK),L.on("error",eX),L.on("close",eZ),L.on("drain",eF)}function eF(){eU||n(ej)}function eG(r){if(!eS||(eS.push(r),!((en-=r.length)>0)))for($=eS?Buffer.concat(eS,ew-en):0===$.length?r:Buffer.concat([$,r],$.length+r.length);$.length>4;){if((ew=$.readUInt32BE(1))>=$.length){en=ew-$.length,eS=[$];break}try{!function(r,s=r[0]){(68===s?function(e){let t,r,n,s=7,a=eU.isRaw?Array(eU.statement.columns.length):{};for(let i=0;i<eU.statement.columns.length;i++)r=eU.statement.columns[i],t=e.readInt32BE(s),s+=4,n=-1===t?null:!0===eU.isRaw?e.subarray(s,s+=t):void 0===r.parser?e.toString("utf8",s,s+=t):!0===r.parser.array?r.parser(e.toString("utf8",s+1,s+=t)):r.parser(e.toString("utf8",s,s+=t)),eU.isRaw?a[i]=!0===eU.isRaw?n:E.value.from?E.value.from(n,r):n:a[r.name]=E.value.from?E.value.from(n,r):n;eU.forEachFn?eU.forEachFn(E.row.from?E.row.from(a):a,z):z[e_++]=E.row.from?E.row.from(a):a}:100===s?function(e){eN&&(eN.push(e.subarray(5))||L.pause())}:65===s?function(e){if(!S)return;let t=9;for(;0!==e[t++];);S(e.toString("utf8",9,t-1),e.toString("utf8",t,e.length-1))}:83===s?function(e){let[r,n]=e.toString("utf8",5,e.length-1).split(er.N);G[r]=n,t.parameters[r]!==n&&(t.parameters[r]=n,O&&O(r,n))}:90===s?function(r){var s,a,i,l;if(eU?M?eU.retried?eQ(eU.retried):eU.prepared&&ep.has(M.routine)?(s=eU,a=M,delete H[s.signature],s.retried=a,eD(s)):eQ(M):eU.resolve(eO||z):M&&eQ(M),eU=eO=M=null,z=new Z,k.cancel(),eP){if(I)if(!G.in_hot_standby||!G.default_transaction_read_only)return function(){let e=new o([`
      show transaction_read_only;
      select pg_catalog.pg_is_in_recovery()
    `],[],eD,null,{simple:!0});e.resolve=([[e],[t]])=>{G.default_transaction_read_only=e.transaction_read_only,G.in_hot_standby=t.pg_is_in_recovery?"on":"off"},e.execute()}();else{if(i=I,l=G,"read-write"===i&&"on"===l.default_transaction_read_only||"read-only"===i&&"off"===l.default_transaction_read_only||"primary"===i&&"on"===l.in_hot_standby||"standby"===i&&"off"===l.in_hot_standby||"prefer-standby"===i&&"off"===l.in_hot_standby&&t.host[em])return eJ()}return F?(eP.reserve&&(eP=null),e5()):(eP&&!eP.reserve&&eD(eP),t.shared.retries=em=0,void(eP=null))}for(;T.length&&(eU=T.shift())&&(eU.active=!0,eU.cancelled);)e(t).cancel(eU.state,eU.cancelled.resolve,eU.cancelled.reject);eU||(ej.reserved?ej.reserved.release||73!==r[5]?ej.reserved():eB?eJ():(ej.reserved=null,n(ej)):eB?eJ():n(ej))}:67===s?function(e){e_=0;for(let t=e.length-1;t>0;t--)if(32===e[t]&&e[t+1]<58&&null===z.count&&(z.count=+e.toString("utf8",t+1,e.length-1)),e[t-1]>=65){z.command=e.toString("utf8",5,t),z.state=U;break}return(eC&&(eC(),eC=null),"BEGIN"!==z.command||1===d||ej.reserved)?eU.options.simple?e0():void(eU.cursorFn&&(z.count&&eU.cursorFn(z),eM(ei))):eQ(f("UNSAFE_TRANSACTION","Only use sql.begin, sql.reserved or max: 1"))}:50===s?e0:49===s?function(){eU.parsing=!1}:116===s?function(e){let t=e.readUInt16BE(5);for(let r=0;r<t;++r)eU.statement.types[r]||(eU.statement.types[r]=e.readUInt32BE(7+4*r));eU.prepare&&(H[eU.signature]=eU.statement),eU.describeFirst&&!eU.onlyDescribe&&(eM(eq(eU)),eU.describeFirst=!1)}:84===s?function(e){let t;z.command&&((eO=eO||[z]).push(z=new Z),z.count=null,eU.statement.columns=null);let r=e.readUInt16BE(5),n=7;eU.statement.columns=Array(r);for(let s=0;s<r;++s){for(t=n;0!==e[n++];);let r=e.readUInt32BE(n),a=e.readUInt16BE(n+4),i=e.readUInt32BE(n+6);eU.statement.columns[s]={name:E.column.from?E.column.from(e.toString("utf8",t,n-1)):e.toString("utf8",t,n-1),parser:v[i],table:r,number:a,type:i},n+=18}if(z.statement=eU.statement,eU.onlyDescribe)return eU.resolve(eU.statement),eM(ei)}:82===s?e1:110===s?function(){if(z.statement=eU.statement,z.statement.columns=[],eU.onlyDescribe)return eU.resolve(eU.statement),eM(ei)}:75===s?function(e){U.pid=e.readUInt32BE(5),U.secret=e.readUInt32BE(9)}:69===s?function(e){eU?((eU.cursorFn||eU.describeFirst)&&eM(ei),M=u(ed(e))):eQ(u(ed(e)))}:115===s?e7:51===s?function(){z.count&&eU.cursorFn(z),eU.resolve(z)}:71===s?function(){eN=new W.default.Writable({autoDestroy:!0,write(e,t,r){L.write(er().d().raw(e).end(),r)},destroy(e,t){t(e),L.write(er().f().str(e+er.N).end()),eN=null},final(e){L.write(er().c().end()),eC=e,eN=null}}),eU.resolve(eN)}:78===s?function(e){A?A(ed(e)):console.log(ed(e))}:72===s?function(){eN=new W.default.Readable({read(){L.resume()}}),eU.resolve(eN)}:99===s?function(){eN&&eN.push(null),eN=null}:73===s?function(){}:86===s?function(){eQ(p("FunctionCallResponse"))}:118===s?function(){eQ(p("NegotiateProtocolVersion"))}:87===s?function(){eN=new W.default.Duplex({autoDestroy:!0,read(){L.resume()},write(e,t,r){L.write(er().d().raw(e).end(),r)},destroy(e,t){t(e),L.write(er().f().str(e+er.N).end()),eN=null},final(e){L.write(er().c().end()),eC=e}}),eU.resolve(eN)}:function(e){console.error("Postgres.js : Unknown Message:",e[0])})(r)}($.subarray(0,ew+1))}catch(e){eU&&(eU.cursorFn||eU.describeFirst)&&eM(ei),eQ(e)}$=$.subarray(ew+1),en=0,eS=null}}async function eH(){if(eA=!1,G={},L||(L=await ek()),L){if(k.start(),t.socket)return m?e$():eK();if(L.on("connect",m?e$:eK),t.path)return L.connect(t.path);L.ssl=m,L.connect(w[es],g[es]),L.host=g[es],L.port=w[es],es=(es+1)%w.length}}function eY(){setTimeout(eH,et?Math.max(0,et+eb-J.performance.now()):0)}function eK(){try{H={},F=t.fetch_types,Y=Math.random().toString(36).slice(2),K=1,j.start(),L.on("data",eG),B&&L.setKeepAlive&&L.setKeepAlive(!0,1e3*B);let e=q||er().inc(4).i16(3).z(2).str(Object.entries(Object.assign({user:h,database:_,client_encoding:"UTF8"},t.connection)).filter(([,e])=>e).map(([e,t])=>e+er.N+t).join(er.N)).z(2).end(0);eM(e)}catch(e){eX(e)}}function eX(e){if(ej.queue!==r.connecting||!t.host[em+1])for(eQ(e);T.length;)eV(T.shift(),e)}function eQ(e){eN&&(eN.destroy(e),eN=null),eU&&eV(eU,e),eP&&(eV(eP,e),eP=null)}function eV(e,r){if(e.reserve)return e.reject(r);r&&"object"==typeof r||(r=Error(r)),"query"in r||"parameters"in r||Object.defineProperties(r,{stack:{value:r.stack+e.origin.replace(/.*\n/,"\n"),enumerable:t.debug},query:{value:e.string,enumerable:t.debug},parameters:{value:e.parameters,enumerable:t.debug},args:{value:e.args,enumerable:t.debug},types:{value:e.statement&&e.statement.types,enumerable:t.debug}}),e.reject(r)}function eW(){return eB||(ej.reserved||s(ej),ej.reserved||eP||eU||0!==T.length?eB=new Promise(e=>eT=e):(eJ(),new Promise(e=>L&&"closed"!==L.readyState?L.once("close",e):e())))}function eJ(){eA=!0,(eN||eU||eP||T.length)&&eX(c("CONNECTION_DESTROYED",t)),clearImmediate(eE),L&&(L.removeListener("data",eG),L.removeListener("connect",eK),"open"===L.readyState&&L.end(er().X().end())),eT&&(eT(),eB=eT=null)}async function eZ(e){if($=Buffer.alloc(0),en=0,eS=null,clearImmediate(eE),L.removeListener("data",eG),L.removeListener("connect",eK),C.cancel(),j.cancel(),k.cancel(),L.removeAllListeners(),L=null,eP)return eY();!e&&(eU||T.length)&&eX(c("CONNECTION_CLOSED",t,L)),et=J.performance.now(),e&&t.shared.retries++,eb=("function"==typeof N?N(t.shared.retries):N)*1e3,a(ej,c("CONNECTION_CLOSED",t,L))}function e0(){z.statement||(z.statement=eU.statement),z.columns=eU.statement.columns}async function e1(e,t=e.readUInt32BE(5)){(3===t?e2:5===t?e3:10===t?e4:11===t?e6:12===t?function(e){e.toString("utf8",9).split(er.N,1)[0].slice(2)!==ev&&(eQ(f("SASL_SIGNATURE_MISMATCH","The server did not return the correct signature")),L.destroy())}:0!==t?function(e,t){console.error("Postgres.js : Unknown Auth:",t)}:ef)(e,t)}async function e2(){let e=await e8();eM(er().p().str(e).z(1).end())}async function e3(e){let t="md5"+await eh(Buffer.concat([Buffer.from(await eh(await e8()+h)),e.subarray(9)]));eM(er().p().str(t).z(1).end())}async function e4(){ex=(await V.default.randomBytes(18)).toString("base64"),er().p().str("SCRAM-SHA-256"+er.N);let e=er.i;eM(er.inc(4).str("n,,n=*,r="+ex).i32(er.i-e-4,e).end())}async function e6(e){var t;let r=e.toString("utf8",9).split(",").reduce((e,t)=>(e[t[0]]=t.slice(2),e),{}),n=await V.default.pbkdf2Sync(await e8(),Buffer.from(r.s,"base64"),parseInt(r.i),32,"sha256"),s=await eg(n,"Client Key"),a="n=*,r="+ex+",r="+r.r+",s="+r.s+",i="+r.i+",c=biws,r="+r.r;ev=(await eg(await eg(n,"Server Key"),a)).toString("base64");let i="c=biws,r="+r.r+",p="+(function(e,t){let r=Math.max(e.length,t.length),n=Buffer.allocUnsafe(r);for(let s=0;s<r;s++)n[s]=e[s]^t[s];return n})(s,Buffer.from(await eg(await (t=s,V.default.createHash("sha256").update(t).digest()),a))).toString("base64");eM(er().p().str(i).end())}function e8(){return Promise.resolve("function"==typeof t.pass?t.pass():t.pass)}async function e5(){F=!1,(await new o([`
      select b.oid, b.typarray
      from pg_catalog.pg_type a
      left join pg_catalog.pg_type b on b.oid = a.typelem
      where a.typcategory = 'A'
      group by b.oid, b.typarray
      order by b.oid
    `],[],eD)).forEach(({oid:e,typarray:r})=>(function(e,r){if(t.parsers[r]&&t.serializers[r])return;let n=t.parsers[e];t.shared.typeArrayMap[e]=r,t.parsers[r]=e=>(D.i=D.last=0,function e(t,r,n,s){let a=[],i=1020===s?";":",";for(;t.i<r.length;t.i++){if(t.char=r[t.i],t.quoted)"\\"===t.char?t.str+=r[++t.i]:'"'===t.char?(a.push(n?n(t.str):t.str),t.str="",t.quoted='"'===r[t.i+1],t.last=t.i+2):t.str+=t.char;else if('"'===t.char)t.quoted=!0;else if("{"===t.char)t.last=++t.i,a.push(e(t,r,n,s));else if("}"===t.char){t.quoted=!1,t.last<t.i&&a.push(n?n(r.slice(t.last,t.i)):r.slice(t.last,t.i)),t.last=t.i+1;break}else t.char===i&&"}"!==t.p&&'"'!==t.p&&(a.push(n?n(r.slice(t.last,t.i)):r.slice(t.last,t.i)),t.last=t.i+1);t.p=t.char}return t.last<t.i&&a.push(n?n(r.slice(t.last,t.i+1)):r.slice(t.last,t.i+1)),a}(D,e,n,r)),t.parsers[r].array=!0,t.serializers[r]=n=>R(n,t.serializers[e],t,r)})(e,r))}async function e7(){try{let e=await Promise.resolve(eU.cursorFn(z));e_=0,e===i?eM(function(e=""){return Buffer.concat([er().C().str("P").str(e+er.N).end(),er().S().end()])}(eU.portal)):(z=new Z,eM(te("",eU.cursorRows)))}catch(e){eM(ei),eU.reject(e)}}function e9(e,t,r,n=""){return er().P().str(n+er.N).str(e+er.N).i16(t.length),t.forEach((e,t)=>er.i32(r[t]||0)),er.end()}function te(e="",t=0){return Buffer.concat([er().E().str(e+er.N).i32(t).end(),eo])}},ea=1,ei=er().S().end(),eo=er().H().end(),el=er().i32(8).i32(0x4d2162f).end(8),ec=Buffer.concat([er().E().str(er.N).i32(0).end(),ei]),eu=er().D().str("S").str(er.N).end(),ef=()=>{},ep=new Set(["FetchPreparedStatement","RevalidateCachedQuery","transformAssignedExpr"]),em={83:"severity_local",86:"severity",67:"code",77:"message",68:"detail",72:"hint",80:"position",112:"internal_position",113:"internal_query",87:"where",115:"schema_name",116:"table_name",99:"column_name",100:"data type_name",110:"constraint_name",70:"file",76:"line",82:"routine"};function ed(e){let t={},r=5;for(let n=5;n<e.length-1;n++)0===e[n]&&(t[em[e[r]]]=e.toString("utf8",r+1,n),r=n+1);return t}function eh(e){return V.default.createHash("md5").update(e).digest("hex")}function eg(e,t){return V.default.createHmac("sha256",e).update(t).digest()}function ey(e,t){let r;if(!(t="function"==typeof t?t():t))return{cancel:ef,start:ef};return{cancel(){r&&(clearTimeout(r),r=null)},start(){r&&clearTimeout(r),r=setTimeout(n,1e3*t,arguments)}};function n(t){e.apply(null,t),r=null}}let ew=()=>{};function eb(e,t,r,n){let s,a,i,o=n.raw?Array(t.length):{};for(let l=0;l<t.length;l++)s=e[r++],a=t[l],i=110===s?null:117===s?void 0:void 0===a.parser?e.toString("utf8",r+4,r+=4+e.readUInt32BE(r)):!0===a.parser.array?a.parser(e.toString("utf8",r+5,r+=4+e.readUInt32BE(r))):a.parser(e.toString("utf8",r+4,r+=4+e.readUInt32BE(r))),n.raw?o[l]=!0===n.raw?i:n.value.from?n.value.from(i,a):i:o[a.name]=n.value.from?n.value.from(i,a):i;return{i:r,row:n.row.from?n.row.from(o):o}}function e_(e,t,r=393216){return new Promise(async(n,s)=>{await e.begin(async e=>{let s;t||([{oid:t}]=await e`select lo_creat(-1) as oid`);let[{fd:a}]=await e`select lo_open(${t}, ${r}) as fd`,i={writable:l,readable:o,close:()=>e`select lo_close(${a})`.then(s),tell:()=>e`select lo_tell64(${a})`,read:t=>e`select loread(${a}, ${t}) as data`,write:t=>e`select lowrite(${a}, ${t})`,truncate:t=>e`select lo_truncate64(${a}, ${t})`,seek:(t,r=0)=>e`select lo_lseek64(${a}, ${t}, ${r})`,size:()=>e`
          select
            lo_lseek64(${a}, location, 0) as position,
            seek.size
          from (
            select
              lo_lseek64($1, 0, 2) as size,
              tell.location
            from (select lo_tell64($1) as location) tell
          ) seek
        `};return n(i),new Promise(async e=>s=e);async function o({highWaterMark:e=16384,start:t=0,end:r=1/0}={}){let n=r-t;return t&&await i.seek(t),new W.default.Readable({highWaterMark:e,async read(e){let t=e>n?e-n:e;n-=e;let[{data:r}]=await i.read(t);this.push(r),r.length<e&&this.push(null)}})}async function l({highWaterMark:e=16384,start:t=0}={}){return t&&await i.seek(t),new W.default.Writable({highWaterMark:e,write(e,t,r){i.write(e).then(()=>r(),r)}})}}).catch(s)})}function ev(e,n){let s=function(e,r){var n;if(e&&e.shared)return e;let s=process.env,a=(e&&"string"!=typeof e?e:r)||{},{url:i,multihost:o}=function(e){if(!e||"string"!=typeof e)return{url:{searchParams:new Map}};let t=e;t=decodeURIComponent((t=t.slice(t.indexOf("://")+3).split(/[?/]/)[0]).slice(t.indexOf("@")+1));let r=new URL(e.replace(t,t.split(",")[0]));return{url:{username:decodeURIComponent(r.username),password:decodeURIComponent(r.password),host:r.host,hostname:r.hostname,port:r.port,pathname:r.pathname,searchParams:r.searchParams},multihost:t.indexOf(",")>-1&&t}}(e),l=[...i.searchParams].reduce((e,[t,r])=>(e[t]=r,e),{}),c=a.hostname||a.host||o||i.hostname||s.PGHOST||"localhost",u=a.port||i.port||s.PGPORT||5432,f=a.user||a.username||i.username||s.PGUSERNAME||s.PGUSER||function(){try{return t.default.userInfo().username}catch(e){return process.env.USERNAME||process.env.USER||process.env.LOGNAME}}();a.no_prepare&&(a.prepare=!1),l.sslmode&&(l.ssl=l.sslmode,delete l.sslmode),"timeout"in a&&(console.log("The timeout option is deprecated, use idle_timeout instead"),a.idle_timeout=a.timeout),"system"===l.sslrootcert&&(l.ssl="verify-full");let p=["idle_timeout","connect_timeout","max_lifetime","max_pipeline","backoff","keep_alive"],m={max:globalThis.Cloudflare?3:10,ssl:!1,sslnegotiation:null,idle_timeout:null,connect_timeout:30,max_lifetime:eA,max_pipeline:100,backoff:eE,keep_alive:60,prepare:!0,debug:!1,fetch_types:!0,publications:"alltables",target_session_attrs:null};return{host:Array.isArray(c)?c:c.split(",").map(e=>e.split(":")[0]),port:Array.isArray(u)?u:c.split(",").map(e=>parseInt(e.split(":")[1]||u)),path:a.path||c.indexOf("/")>-1&&c+"/.s.PGSQL."+u,database:a.database||a.db||(i.pathname||"").slice(1)||s.PGDATABASE||f,user:f,pass:a.pass||a.password||i.password||s.PGPASSWORD||"",...Object.entries(m).reduce((e,[t,r])=>{let n=t in a?a[t]:t in l?"disable"!==l[t]&&"false"!==l[t]&&l[t]:s["PG"+t.toUpperCase()]||r;return e[t]="string"==typeof n&&p.includes(t)?+n:n,e},{}),connection:{application_name:s.PGAPPNAME||"postgres.js",...a.connection,...Object.entries(l).reduce((e,[t,r])=>(t in m||(e[t]=r),e),{})},types:a.types||{},target_session_attrs:function(e,t,r){let n=e.target_session_attrs||t.searchParams.get("target_session_attrs")||r.PGTARGETSESSIONATTRS;if(!n||["read-write","read-only","primary","standby","prefer-standby"].includes(n))return n;throw Error("target_session_attrs "+n+" is not supported")}(a,i,s),onnotice:a.onnotice,onnotify:a.onnotify,onclose:a.onclose,onparameter:a.onparameter,socket:a.socket,transform:{undefined:(n=a.transform||{undefined:void 0}).undefined,column:{from:"function"==typeof n.column?n.column:n.column&&n.column.from,to:n.column&&n.column.to},value:{from:"function"==typeof n.value?n.value:n.value&&n.value.from,to:n.value&&n.value.to},row:{from:"function"==typeof n.row?n.row:n.row&&n.row.from,to:n.row&&n.row.to}},parameters:{},shared:{retries:0,typeArrayMap:{}},...I(a.types)}}(e,n),a=s.no_subscribe||function(e,t){let r=new Map,n="postgresjs_"+Math.random().toString(36).slice(2),s={},a,i,o=!1,l=f.sql=e({...t,transform:{column:{},value:{},row:{}},max:1,fetch_types:!1,idle_timeout:null,max_lifetime:null,connection:{...t.connection,replication:"database"},onclose:async function(){o||(i=null,s.pid=s.secret=void 0,p(await m(l,n,t.publications)),r.forEach(e=>e.forEach(({onsubscribe:e})=>e())))},no_subscribe:!0}),c=l.end,u=l.close;return l.end=async()=>(o=!0,i&&await new Promise(e=>(i.once("close",e),i.end())),c()),l.close=async()=>(i&&await new Promise(e=>(i.once("close",e),i.end())),u()),f;async function f(e,o,c=ew,u=ew){e=function(e){let[,t,r,n]=e.match(/^(\*|insert|update|delete)?:?([^.]+?\.?[^=]+)?=?(.+)?/i)||[];return(t||"*")+(r?":"+(-1===r.indexOf(".")?"public."+r:r):"")+(n?"="+n:"")}(e),a||(a=m(l,n,t.publications));let d={fn:o,onsubscribe:c},h=r.has(e)?r.get(e).add(d):r.set(e,new Set([d])).get(e),g=()=>{h.delete(d),0===h.size&&r.delete(e)};return a.then(e=>(p(e),c(),i&&i.on("error",u),{unsubscribe:g,state:s,sql:l}))}function p(e){i=e.stream,s.pid=e.state.pid,s.secret=e.state.secret}async function m(e,r,n){if(!n)throw Error("Missing publication names");let s=await e.unsafe(`CREATE_REPLICATION_SLOT ${r} TEMPORARY LOGICAL pgoutput NOEXPORT_SNAPSHOT`),[a]=s,i=await e.unsafe(`START_REPLICATION SLOT ${r} LOGICAL ${a.consistent_point} (proto_version '1', publication_names '${n}')`).writable(),o={lsn:Buffer.concat(a.consistent_point.split("/").map(e=>Buffer.from(("00000000"+e).slice(-8),"hex")))};return i.on("data",function(r){var n,s,a,c,u;let f;119===r[0]?(n=r.subarray(25),s=o,a=e.options.parsers,c=l,u=t.transform,Object.entries({R:e=>{let t=1,r=s[e.readUInt32BE(t)]={schema:e.toString("utf8",t+=4,t=e.indexOf(0,t))||"pg_catalog",table:e.toString("utf8",t+1,t=e.indexOf(0,t+1)),columns:Array(e.readUInt16BE(t+=2)),keys:[]};t+=2;let n=0,i;for(;t<e.length;)(i=r.columns[n++]={key:e[t++],name:u.column.from?u.column.from(e.toString("utf8",t,t=e.indexOf(0,t))):e.toString("utf8",t,t=e.indexOf(0,t)),type:e.readUInt32BE(t+=1),parser:a[e.readUInt32BE(t)],atttypmod:e.readUInt32BE(t+=4)}).key&&r.keys.push(i),t+=4},Y:()=>{},O:()=>{},B:e=>{var t;t=e.readBigInt64BE(9),s.date=new Date(Date.UTC(2e3,0,1)+Number(t/BigInt(1e3))),s.lsn=e.subarray(1,9)},I:e=>{let t=1,r=s[e.readUInt32BE(t)],{row:n}=eb(e,r.columns,t+=7,u);c(n,{command:"insert",relation:r})},D:e=>{let t=1,r=s[e.readUInt32BE(t)],n=75===e[t+=4];c(n||79===e[t]?eb(e,r.columns,t+=3,u).row:null,{command:"delete",relation:r,key:n})},U:e=>{let t=1,r=s[e.readUInt32BE(t)],n=75===e[t+=4],a=n||79===e[t]?eb(e,r.columns,t+=3,u):null;a&&(t=a.i);let{row:i}=eb(e,r.columns,t+3,u);c(i,{command:"update",relation:r,key:n,old:a&&a.row})},T:()=>{},C:()=>{}}).reduce((e,[t,r])=>(e[t.charCodeAt(0)]=r,e),{})[n[0]](n)):107===r[0]&&r[17]&&(o.lsn=r.subarray(1,9),(f=Buffer.alloc(34))[0]=114,f.fill(o.lsn,1),f.writeBigInt64BE(BigInt(Date.now()-Date.UTC(2e3,0,1))*BigInt(1e3),25),i.write(f))}),i.on("error",function(e){console.error("Unexpected error during logical streaming - reconnecting",e)}),i.on("close",e.close),{stream:i,state:s.state};function l(e,t){let r=t.relation.schema+"."+t.relation.table;d("*",e,t),d("*:"+r,e,t),t.relation.keys.length&&d("*:"+r+"="+t.relation.keys.map(t=>e[t.name]),e,t),d(t.command,e,t),d(t.command+":"+r,e,t),t.relation.keys.length&&d(t.command+":"+r+"="+t.relation.keys.map(t=>e[t.name]),e,t)}}function d(e,t,n){r.has(e)&&r.get(e).forEach(({fn:r})=>r(t,n,e))}}(ev,{...s}),u=!1,p=ee(),m=ee(),y=ee(),w=ee(),b=ee(),_=ee(),v=ee(),E=ee(),A={connecting:m,reserved:y,closed:w,ended:b,open:_,busy:v,full:E},S=[...Array(s.max)].map(()=>es(s,A,{onopen:$,onend:z,onclose:F})),O=P(function(e){return u?e.reject(c("CONNECTION_ENDED",s,s)):_.length?k(_.shift(),e):w.length?M(w.shift(),e):void(v.length?k(v.shift(),e):p.push(e))});return Object.assign(O,{get parameters(){return s.parameters},largeObject:e_.bind(null,O),subscribe:a,CLOSE:i,END:i,PostgresError:l,options:s,reserve:T,listen:B,begin:x,close:L,end:D}),O;function P(e){return e.debug=s.debug,Object.entries(s.types).reduce((e,[t,r])=>(e[t]=e=>new h(e,r.to),e),t),Object.assign(n,{types:t,typed:t,unsafe:function(t,r=[],n={}){return 2!=arguments.length||Array.isArray(r)||(n=r,r=[]),new o([t],r,e,R,{prepare:!1,...n,simple:"simple"in n?n.simple:0===r.length})},notify:N,array:function e(t,r){return Array.isArray(t)?new h(t,r||(t.length?C(t)||25:0),s.shared.typeArrayMap):e(Array.from(arguments))},json:j,file:function(t,n=[],s={}){return 2!=arguments.length||Array.isArray(n)||(s=n,n=[]),new o([],n,n=>{r.default.readFile(t,"utf8",(t,r)=>{if(t)return n.reject(t);n.strings=[r],e(n)})},R,{...s,simple:"simple"in s?s.simple:0===n.length})}}),n;function t(e,t){return new h(e,t)}function n(t,...r){return t&&Array.isArray(t.raw)?new o(t,r,e,R):"string"!=typeof t||r.length?new g(t,r):new d(s.transform.column.to?s.transform.column.to(t):t)}}async function B(e,t,r){let n={fn:t,onlisten:r},a=B.sql||(B.sql=ev({...s,max:1,idle_timeout:null,max_lifetime:null,fetch_types:!1,onclose(){Object.entries(B.channels).forEach(([e,{listeners:t}])=>{delete B.channels[e],Promise.all(t.map(t=>B(e,t.fn,t.onlisten).catch(()=>{})))})},onnotify(e,t){e in B.channels&&B.channels[e].listeners.forEach(e=>e.fn(t))}})),i=B.channels||(B.channels={});if(e in i){i[e].listeners.push(n);let t=await i[e].result;return n.onlisten&&n.onlisten(),{state:t.state,unlisten:l}}i[e]={result:a`listen ${a.unsafe('"'+e.replace(/"/g,'""')+'"')}`,listeners:[n]};let o=await i[e].result;return n.onlisten&&n.onlisten(),{state:o.state,unlisten:l};async function l(){if(e in i!=!1&&(i[e].listeners=i[e].listeners.filter(e=>e!==n),!i[e].listeners.length))return delete i[e],a`unlisten ${a.unsafe('"'+e.replace(/"/g,'""')+'"')}`}}async function N(e,t){return await O`select pg_notify(${e}, ${""+t})`}async function T(){let e=ee(),t=_.length?_.shift():await new Promise((e,t)=>{let r={reserve:e,reject:t};p.push(r),w.length&&M(w.shift(),r)});U(t,y),t.reserved=()=>e.length?t.execute(e.shift()):U(t,y),t.reserved.release=!0;let r=P(function(r){t.queue===E?e.push(r):t.execute(r)||U(t,E)});return r.release=()=>{t.reserved=null,$(t)},r}async function x(e,t){t||(t=e,e="");let r=ee(),n=0,s,a=null;try{return await O.unsafe("begin "+e.replace(/[^a-z ]/ig,""),[],{onexecute:function(e){s=e,U(e,y),e.reserved=()=>r.length?e.execute(r.shift()):U(e,y)}}).execute(),await Promise.race([i(s,t),new Promise((e,t)=>s.onclose=t)])}catch(e){throw e}async function i(e,t,s){let o,c,u=P(function(t){t.catch(e=>o||(o=e)),e.queue===E?r.push(t):e.execute(t)||U(e,E)});u.savepoint=function t(r,s){return r&&Array.isArray(r.raw)?t(e=>e.apply(e,arguments)):(1==arguments.length&&(s=r,r=null),i(e,s,"s"+n+++(r?"_"+r:"")))},u.prepare=e=>a=e.replace(/[^a-z0-9$-_. ]/gi),s&&await u`savepoint ${u(s)}`;try{if(c=await new Promise((e,r)=>{let n=t(u);Promise.resolve(Array.isArray(n)?Promise.all(n):n).then(e,r)}),o)throw o}catch(e){throw await (s?u`rollback to ${u(s)}`:u`rollback`),e instanceof l&&"25P02"===e.code&&o||e}return s||(a?await u`prepare transaction '${u.unsafe(a)}'`:await u`commit`),c}}function U(e,t){return e.queue.remove(e),t.push(e),e.queue=t,t===_?e.idleTimer.start():e.idleTimer.cancel(),e}function j(e){return new h(e,3802)}function k(e,t){return e.execute(t)?U(e,v):U(e,E)}function R(e){return new Promise((t,r)=>{e.state?e.active?es(s).cancel(e.state,t,r):e.cancelled={resolve:t,reject:r}:(p.remove(e),e.cancelled=!0,e.reject(f("57014","canceling statement due to user request")),t())})}async function D({timeout:e=null}={}){let t;return u||(await 1,u=Promise.race([new Promise(r=>null!==e&&(t=setTimeout(q,1e3*e,r))),Promise.all(S.map(e=>e.end()).concat(B.sql?B.sql.end({timeout:0}):[],a.sql?a.sql.end({timeout:0}):[]))]).then(()=>clearTimeout(t)))}async function L(){await Promise.all(S.map(e=>e.end()))}async function q(e){for(await Promise.all(S.map(e=>e.terminate()));p.length;)p.shift().reject(c("CONNECTION_DESTROYED",s));e()}function M(e,t){return U(e,m),e.connect(t),e}function z(e){U(e,b)}function $(e){if(0===p.length)return U(e,_);let t=Math.ceil(p.length/(m.length+1)),r=!0;for(;r&&p.length&&t-- >0;){let t=p.shift();if(t.reserve)return t.reserve(e);r=e.execute(t)}r?U(e,v):U(e,E)}function F(e,t){U(e,w),e.reserved=null,e.onclose&&(e.onclose(t),e.onclose=null),s.onclose&&s.onclose(e.id),p.length&&M(e,p.shift())}}function eE(e){return(.5+Math.random()/2)*Math.min(3**e/100,20)}function eA(){return 60*(30+30*Math.random())}function eS(){let e,t=process.env.DATABASE_URL;if(!t)throw Error("DATABASE_URL is not set");let r=(()=>{let e=process.env.DB_POOL_MAX;if(!e)return 10;let t=Number(e);return Number.isFinite(t)?Math.max(1,Math.min(50,Math.trunc(t))):10})(),n=(()=>{let e=process.env.DB_CONNECT_TIMEOUT_SEC;if(!e)return 30;let t=Number(e);return Number.isFinite(t)&&t>0?t:30})();t=(t=t.replace(/^postgresql\+asyncpg:\/\//i,"postgresql://")).replace(/^postgres\+asyncpg:\/\//i,"postgres://");try{let r=new URL(t),n=r.searchParams.get("ssl"),s=r.searchParams.get("sslmode");(n?.toLowerCase()==="require"||n?.toLowerCase()==="true"||s?.toLowerCase()==="require")&&(e="require")}catch{}return ev(t,{max:r,idle_timeout:20,connect_timeout:n,...e?{ssl:e}:{}})}function eO(){return globalThis.__proofpackSql||(globalThis.__proofpackSql=eS()),globalThis.__proofpackSql}Object.assign(ev,{PostgresError:l,toPascal:q,pascal:Y,toCamel:L,camel:H,toKebab:M,kebab:K,fromPascal:$,fromCamel:z,fromKebab:F,BigInt:{to:20,from:[20],parse:e=>BigInt(e),serialize:e=>e.toString()}}),e.s(["createSql",()=>eS,"getSql",()=>eO],843793)}];

//# sourceMappingURL=src_lib_db_ts_86d9618b._.js.map