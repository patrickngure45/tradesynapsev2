{"version":3,"sources":["../../../../node_modules/next/src/server/route-modules/app-page/vendored/contexts/app-router-context.ts","../../../../node_modules/next/src/server/route-modules/app-page/vendored/ssr/react-server-dom-turbopack-client.ts","../../../../node_modules/next/src/server/route-modules/app-page/vendored/contexts/hooks-client-context.ts","../../../../node_modules/next/src/server/route-modules/app-page/vendored/contexts/server-inserted-html.ts","../../../../node_modules/%40swc/helpers/cjs/_interop_require_wildcard.cjs","../../../../node_modules/next/src/shared/lib/segment.ts","../../../../src/lib/api/client.ts","../../../../src/components/v2/Button.tsx","../../../../src/components/v2/Card.tsx","../../../../src/components/v2/Input.tsx","../../../../src/components/ApiErrorBanner.tsx","../../../../src/lib/api/errorMessages.ts","../../../../src/lib/state/trade.ts","../../../../src/lib/auth/clientSession.ts","../../../../src/lib/state/actingUser.ts","../../../../src/lib/ui/copyToClipboard.ts","../../../../src/components/Toast.tsx"],"sourcesContent":["module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['contexts'].AppRouterContext\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.ReactServerDOMTurbopackClient\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['contexts'].HooksClientContext\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['contexts'].ServerInsertedHtml\n","\"use strict\";\n\nfunction _getRequireWildcardCache(nodeInterop) {\n    if (typeof WeakMap !== \"function\") return null;\n\n    var cacheBabelInterop = new WeakMap();\n    var cacheNodeInterop = new WeakMap();\n\n    return (_getRequireWildcardCache = function(nodeInterop) {\n        return nodeInterop ? cacheNodeInterop : cacheBabelInterop;\n    })(nodeInterop);\n}\nfunction _interop_require_wildcard(obj, nodeInterop) {\n    if (!nodeInterop && obj && obj.__esModule) return obj;\n    if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") return { default: obj };\n\n    var cache = _getRequireWildcardCache(nodeInterop);\n\n    if (cache && cache.has(obj)) return cache.get(obj);\n\n    var newObj = { __proto__: null };\n    var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;\n\n    for (var key in obj) {\n        if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) {\n            var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;\n            if (desc && (desc.get || desc.set)) Object.defineProperty(newObj, key, desc);\n            else newObj[key] = obj[key];\n        }\n    }\n\n    newObj.default = obj;\n\n    if (cache) cache.set(obj, newObj);\n\n    return newObj;\n}\nexports._ = _interop_require_wildcard;\n","import type { FlightRouterState, Segment } from './app-router-types'\n\nexport function getSegmentValue(segment: Segment) {\n  return Array.isArray(segment) ? segment[1] : segment\n}\n\nexport function isGroupSegment(segment: string) {\n  // Use array[0] for performant purpose\n  return segment[0] === '(' && segment.endsWith(')')\n}\n\nexport function isParallelRouteSegment(segment: string) {\n  return segment.startsWith('@') && segment !== '@children'\n}\n\nexport function addSearchParamsIfPageSegment(\n  segment: Segment,\n  searchParams: Record<string, string | string[] | undefined>\n) {\n  const isPageSegment = segment.includes(PAGE_SEGMENT_KEY)\n\n  if (isPageSegment) {\n    const stringifiedQuery = JSON.stringify(searchParams)\n    return stringifiedQuery !== '{}'\n      ? PAGE_SEGMENT_KEY + '?' + stringifiedQuery\n      : PAGE_SEGMENT_KEY\n  }\n\n  return segment\n}\n\nexport function computeSelectedLayoutSegment(\n  segments: string[] | null,\n  parallelRouteKey: string\n): string | null {\n  if (!segments || segments.length === 0) {\n    return null\n  }\n\n  // For 'children', use first segment; for other parallel routes, use last segment\n  const rawSegment =\n    parallelRouteKey === 'children'\n      ? segments[0]\n      : segments[segments.length - 1]\n\n  // If the default slot is showing, return null since it's not technically \"selected\" (it's a fallback)\n  // Returning an internal value like `__DEFAULT__` would be confusing\n  return rawSegment === DEFAULT_SEGMENT_KEY ? null : rawSegment\n}\n\n/** Get the canonical parameters from the current level to the leaf node. */\nexport function getSelectedLayoutSegmentPath(\n  tree: FlightRouterState,\n  parallelRouteKey: string,\n  first = true,\n  segmentPath: string[] = []\n): string[] {\n  let node: FlightRouterState\n  if (first) {\n    // Use the provided parallel route key on the first parallel route\n    node = tree[1][parallelRouteKey]\n  } else {\n    // After first parallel route prefer children, if there's no children pick the first parallel route.\n    const parallelRoutes = tree[1]\n    node = parallelRoutes.children ?? Object.values(parallelRoutes)[0]\n  }\n\n  if (!node) return segmentPath\n  const segment = node[0]\n\n  let segmentValue = getSegmentValue(segment)\n\n  if (!segmentValue || segmentValue.startsWith(PAGE_SEGMENT_KEY)) {\n    return segmentPath\n  }\n\n  segmentPath.push(segmentValue)\n\n  return getSelectedLayoutSegmentPath(\n    node,\n    parallelRouteKey,\n    false,\n    segmentPath\n  )\n}\n\nexport const PAGE_SEGMENT_KEY = '__PAGE__'\nexport const DEFAULT_SEGMENT_KEY = '__DEFAULT__'\nexport const NOT_FOUND_SEGMENT_KEY = '/_not-found'\n","export type ApiErrorPayload = {\r\n  error?: string;\r\n  message?: string;\r\n  details?: unknown;\r\n  _raw?: unknown;\r\n};\r\n\r\nexport class ApiError extends Error {\r\n  code: string;\r\n  details?: unknown;\r\n  status?: number;\r\n  requestId?: string;\r\n\r\n  constructor(code: string, opts?: { details?: unknown; status?: number; requestId?: string }) {\r\n    const msg = opts?.requestId ? `${code} (req ${opts.requestId})` : code;\r\n    super(msg);\r\n    this.name = \"ApiError\";\r\n    this.code = code;\r\n    this.details = opts?.details;\r\n    this.status = opts?.status;\r\n    this.requestId = opts?.requestId;\r\n  }\r\n}\r\n\r\nfunction safeJsonParse(text: string): unknown {\r\n  try {\r\n    return text ? JSON.parse(text) : null;\r\n  } catch {\r\n    return { _raw: text };\r\n  }\r\n}\r\n\r\nfunction looksLikeHtml(text: string): boolean {\r\n  const s = String(text ?? \"\").trimStart();\r\n  return s.startsWith(\"<!DOCTYPE html\") || s.startsWith(\"<html\") || s.startsWith(\"<!doctype html\");\r\n}\r\n\r\nfunction sleep(ms: number): Promise<void> {\r\n  return new Promise((r) => setTimeout(r, Math.max(0, Math.floor(ms))));\r\n}\r\n\r\nfunction getImpersonateUserIdFromLocation(): string | null {\r\n  if (typeof window === \"undefined\") return null;\r\n  try {\r\n    const v = new URL(window.location.href).searchParams.get(\"user_id\") ?? \"\";\r\n    const trimmed = v.trim();\r\n    return trimmed ? trimmed : null;\r\n  } catch {\r\n    return null;\r\n  }\r\n}\r\n\r\nfunction shouldAttachImpersonationHeader(input: RequestInfo | URL): boolean {\r\n  if (typeof window === \"undefined\") return false;\r\n\r\n  try {\r\n    const origin = window.location.origin;\r\n    const url =\r\n      typeof input === \"string\"\r\n        ? new URL(input, origin)\r\n        : input instanceof URL\r\n          ? input\r\n          : input instanceof Request\r\n            ? new URL(input.url)\r\n            : null;\r\n\r\n    if (!url) return false;\r\n    if (url.origin !== origin) return false;\r\n    return url.pathname.startsWith(\"/api/\");\r\n  } catch {\r\n    return false;\r\n  }\r\n}\r\n\r\nfunction getCsrfToken(): string | null {\r\n  if (typeof document === \"undefined\") return null;\r\n  const match = document.cookie.match(/(?:^|;\\s*)__csrf=([^;]+)/);\r\n  return match?.[1] ?? null;\r\n}\r\n\r\nexport async function fetchJsonOrThrow<T>(\r\n  input: RequestInfo | URL,\r\n  init?: RequestInit\r\n): Promise<T> {\r\n  const mergedInit: RequestInit | undefined = init\r\n    ? ({\r\n        ...init,\r\n        credentials: init.credentials ?? \"same-origin\",\r\n      } as RequestInit)\r\n    : ({ credentials: \"same-origin\" } as RequestInit);\r\n\r\n  // Attach CSRF double-submit token on mutating requests\r\n  const method = (mergedInit?.method ?? \"GET\").toUpperCase();\r\n\r\n  // Read-only admin view-as: on GET/HEAD requests to our own API, forward the\r\n  // `user_id` from the current page URL as `x-impersonate-user-id`.\r\n  if ((method === \"GET\" || method === \"HEAD\") && shouldAttachImpersonationHeader(input)) {\r\n    const desired = getImpersonateUserIdFromLocation();\r\n    if (desired) {\r\n      const headers = new Headers(mergedInit?.headers);\r\n      if (!headers.has(\"x-impersonate-user-id\")) {\r\n        headers.set(\"x-impersonate-user-id\", desired);\r\n      }\r\n      mergedInit!.headers = headers;\r\n    }\r\n  }\r\n\r\n  if ([\"POST\", \"PUT\", \"PATCH\", \"DELETE\"].includes(method)) {\r\n    const csrf = getCsrfToken();\r\n    if (csrf) {\r\n      const headers = new Headers(mergedInit?.headers);\r\n      if (!headers.has(\"x-csrf-token\")) {\r\n        headers.set(\"x-csrf-token\", csrf);\r\n      }\r\n      mergedInit!.headers = headers;\r\n    }\r\n  }\r\n\r\n  const method0 = (mergedInit?.method ?? \"GET\").toUpperCase();\r\n  const canRetry = method0 === \"GET\" || method0 === \"HEAD\";\r\n  const maxRetries = canRetry ? 2 : 0;\r\n\r\n  let lastErr: unknown = null;\r\n  for (let attempt = 0; attempt <= maxRetries; attempt += 1) {\r\n    try {\r\n      const res = await fetch(input, mergedInit);\r\n      const requestId = res.headers.get(\"x-request-id\") ?? undefined;\r\n\r\n      // Best-effort: remember the last request id so UI/support flows can display it.\r\n      try {\r\n        if (typeof window !== \"undefined\" && requestId) {\r\n          window.sessionStorage.setItem(\"ts.last_request_id\", requestId);\r\n        }\r\n      } catch {\r\n        // ignore\r\n      }\r\n\r\n      const text = await res.text().catch(() => \"\");\r\n      const contentType = res.headers.get(\"content-type\") ?? \"\";\r\n      const isHtml = contentType.includes(\"text/html\") || looksLikeHtml(text);\r\n      const json = (isHtml ? { _raw: \"<html/>\" } : safeJsonParse(text)) as ApiErrorPayload | unknown;\r\n\r\n      if (!res.ok) {\r\n        // Retry transient upstream errors for idempotent requests.\r\n        if (canRetry && (res.status === 502 || res.status === 503 || res.status === 504) && attempt < maxRetries) {\r\n          await sleep(250 * Math.pow(2, attempt));\r\n          continue;\r\n        }\r\n\r\n        if (json && typeof json === \"object\" && \"error\" in (json as ApiErrorPayload)) {\r\n          const payload = json as ApiErrorPayload;\r\n          const code = typeof payload.error === \"string\" ? payload.error : `http_${res.status}`;\r\n          const details =\r\n            payload.details !== undefined\r\n              ? payload.details\r\n              : typeof payload.message === \"string\"\r\n                ? payload.message\r\n                : isHtml\r\n                  ? { message: `Upstream error (HTTP ${res.status}). Please retry.` }\r\n                  : undefined;\r\n          throw new ApiError(code, { details, status: res.status, requestId });\r\n        }\r\n\r\n        if (json && typeof json === \"object\" && \"message\" in (json as ApiErrorPayload)) {\r\n          const payload = json as ApiErrorPayload;\r\n          const details = typeof payload.message === \"string\" ? payload.message : json;\r\n          throw new ApiError(`http_${res.status}`, { details, status: res.status, requestId });\r\n        }\r\n\r\n        const details = isHtml ? { message: `Upstream error (HTTP ${res.status}). Please retry.` } : json;\r\n        throw new ApiError(`http_${res.status}`, { details, status: res.status, requestId });\r\n      }\r\n\r\n      return json as T;\r\n    } catch (e) {\r\n      lastErr = e;\r\n      // Retry network errors on idempotent requests.\r\n      if (canRetry && attempt < maxRetries) {\r\n        await sleep(250 * Math.pow(2, attempt));\r\n        continue;\r\n      }\r\n      throw e;\r\n    }\r\n  }\r\n\r\n  throw lastErr;\r\n}\r\n","import * as React from \"react\";\r\n\r\nexport type V2ButtonVariant = \"primary\" | \"secondary\" | \"ghost\" | \"danger\";\r\nexport type V2ButtonSize = \"sm\" | \"md\" | \"lg\";\r\n\r\nexport function v2ButtonClassName(options?: {\r\n  variant?: V2ButtonVariant;\r\n  size?: V2ButtonSize;\r\n  fullWidth?: boolean;\r\n  className?: string;\r\n}): string {\r\n  const variant: V2ButtonVariant = options?.variant ?? \"secondary\";\r\n  const size: V2ButtonSize = options?.size ?? \"md\";\r\n\r\n  const base =\r\n    \"inline-flex select-none items-center justify-center gap-2 whitespace-nowrap rounded-xl transition focus:outline-none focus:ring-2 focus:ring-[var(--v2-ring)] disabled:pointer-events-none disabled:opacity-55\";\r\n\r\n  const sizeClass =\r\n    size === \"lg\" ? \"h-12 px-5 text-[15px]\" : size === \"sm\" ? \"h-9 px-3 text-[13px]\" : \"h-11 px-4 text-[14px]\";\r\n\r\n  const variantClass =\r\n    variant === \"primary\"\r\n      ? \"bg-[var(--v2-accent)] text-white font-semibold shadow-[var(--v2-shadow-sm)] hover:brightness-105\"\r\n      : variant === \"danger\"\r\n        ? \"bg-[var(--down)] text-white font-semibold shadow-[var(--v2-shadow-sm)] hover:brightness-105\"\r\n        : variant === \"ghost\"\r\n          ? \"bg-transparent text-[var(--v2-text)] font-semibold hover:bg-[var(--v2-surface-2)]\"\r\n          : \"border border-[var(--v2-border)] bg-[var(--v2-surface)] text-[var(--v2-text)] font-semibold shadow-[var(--v2-shadow-sm)] hover:bg-[var(--v2-surface-2)]\";\r\n\r\n  const widthClass = options?.fullWidth ? \"w-full\" : \"\";\r\n  const extra = options?.className ?? \"\";\r\n\r\n  return [base, sizeClass, variantClass, widthClass, extra].filter(Boolean).join(\" \");\r\n}\r\n\r\nexport type V2ButtonProps = Omit<React.ButtonHTMLAttributes<HTMLButtonElement>, \"className\"> & {\r\n  variant?: V2ButtonVariant;\r\n  size?: V2ButtonSize;\r\n  fullWidth?: boolean;\r\n  className?: string;\r\n};\r\n\r\nexport const V2Button = React.forwardRef<HTMLButtonElement, V2ButtonProps>(function V2Button(\r\n  { variant, size, fullWidth, className, type, ...props },\r\n  ref,\r\n) {\r\n  return (\r\n    <button\r\n      ref={ref}\r\n      type={type ?? \"button\"}\r\n      className={v2ButtonClassName({ variant, size, fullWidth, className })}\r\n      {...props}\r\n    />\r\n  );\r\n});\r\n","import type { ReactNode } from \"react\";\r\n\r\nexport function V2Card({\r\n  children,\r\n  className = \"\",\r\n}: {\r\n  children: ReactNode;\r\n  className?: string;\r\n}) {\r\n  return (\r\n    <section\r\n      className={\r\n        \"rounded-[var(--v2-radius-lg)] border border-[var(--v2-border)] bg-[var(--v2-surface)] shadow-[var(--v2-shadow-sm)] \" +\r\n        className\r\n      }\r\n    >\r\n      {children}\r\n    </section>\r\n  );\r\n}\r\n\r\nexport function V2CardHeader({\r\n  title,\r\n  subtitle,\r\n  right,\r\n}: {\r\n  title: ReactNode;\r\n  subtitle?: ReactNode;\r\n  right?: ReactNode;\r\n}) {\r\n  return (\r\n    <header className=\"flex items-start justify-between gap-3 px-4 pt-4\">\r\n      <div className=\"min-w-0\">\r\n        <div className=\"text-[15px] font-semibold text-[var(--v2-text)]\">{title}</div>\r\n        {subtitle ? <div className=\"mt-0.5 text-[13px] text-[var(--v2-muted)]\">{subtitle}</div> : null}\r\n      </div>\r\n      {right ? <div className=\"shrink-0\">{right}</div> : null}\r\n    </header>\r\n  );\r\n}\r\n\r\nexport function V2CardBody({ children }: { children: ReactNode }) {\r\n  return <div className=\"px-4 pb-4 pt-3\">{children}</div>;\r\n}\r\n","import * as React from \"react\";\r\n\r\nexport type V2InputProps = Omit<React.InputHTMLAttributes<HTMLInputElement>, \"className\"> & {\r\n  className?: string;\r\n};\r\n\r\nexport const V2Input = React.forwardRef<HTMLInputElement, V2InputProps>(function V2Input(\r\n  { className = \"\", type = \"text\", ...props },\r\n  ref,\r\n) {\r\n  return (\r\n    <input\r\n      ref={ref}\r\n      type={type}\r\n      className={\r\n        \"h-11 w-full rounded-xl border border-[var(--v2-border)] bg-[var(--v2-surface)] px-3 text-[14px] text-[var(--v2-text)] shadow-[var(--v2-shadow-sm)] outline-none placeholder:text-[color-mix(in_srgb,var(--v2-muted)_70%,transparent)] focus:ring-2 focus:ring-[var(--v2-ring)] \" +\r\n        className\r\n      }\r\n      {...props}\r\n    />\r\n  );\r\n});\r\n","\"use client\";\r\n\r\nimport { useMemo, useState } from \"react\";\r\n\r\nimport { describeClientError, formatClientErrorDetails } from \"@/lib/api/errorMessages\";\r\n\r\nexport type ClientApiError = { code: string; details?: unknown };\r\n\r\nexport function ApiErrorBanner({\r\n  error,\r\n  onRetry,\r\n  className,\r\n}: {\r\n  error: ClientApiError | null;\r\n  onRetry?: () => void;\r\n  className?: string;\r\n}) {\r\n  const [expandedErrorCode, setExpandedErrorCode] = useState<string | null>(null);\r\n\r\n  const info = useMemo(() => (error ? describeClientError(error.code) : null), [error]);\r\n  const details = useMemo(\r\n    () => (error ? formatClientErrorDetails(error.details) : null),\r\n    [error]\r\n  );\r\n\r\n  if (!info) return null;\r\n\r\n  const baseClassName =\r\n    \"rounded border border-red-300 bg-red-50 p-4 text-sm text-red-800 dark:border-red-900 dark:bg-red-950 dark:text-red-200\";\r\n  const mergedClassName = className ? `${baseClassName} ${className}` : baseClassName;\r\n\r\n  const showAllDetails = Boolean(error && expandedErrorCode === error.code);\r\n\r\n  return (\r\n    <div className={mergedClassName}>\r\n      <div className=\"font-semibold\">{info.title}</div>\r\n      <div className=\"mt-1\">{info.message}</div>\r\n\r\n      {details ? (\r\n        <div className=\"mt-2 rounded border border-red-200 bg-white/50 p-2 text-xs dark:border-red-900/50 dark:bg-black/20\">\r\n          <div className=\"flex items-center justify-between gap-2\">\r\n            <div className=\"font-semibold\">Details</div>\r\n            {details.length > 6 ? (\r\n              <button\r\n                type=\"button\"\r\n                className=\"text-xs underline\"\r\n                onClick={() => {\r\n                  if (!error) return;\r\n                  setExpandedErrorCode((prev) => (prev === error.code ? null : error.code));\r\n                }}\r\n              >\r\n                {showAllDetails ? \"Show less\" : `Show all (${details.length})`}\r\n              </button>\r\n            ) : null}\r\n          </div>\r\n          <ul className=\"mt-1 list-disc pl-5\">\r\n            {(showAllDetails ? details : details.slice(0, 6)).map((line, i) => (\r\n              <li key={i} className=\"whitespace-pre-wrap break-words font-mono\">\r\n                {line}\r\n              </li>\r\n            ))}\r\n          </ul>\r\n        </div>\r\n      ) : null}\r\n\r\n      <div className=\"mt-2 font-mono text-xs opacity-80\">{info.code}</div>\r\n\r\n      {onRetry ? (\r\n        <button\r\n          type=\"button\"\r\n          className=\"mt-3 rounded bg-zinc-900 px-3 py-2 text-white dark:bg-zinc-100 dark:text-black\"\r\n          onClick={onRetry}\r\n        >\r\n          Retry\r\n        </button>\r\n      ) : null}\r\n    </div>\r\n  );\r\n}\r\n","export type ClientErrorInfo = {\r\n  title: string;\r\n  message: string;\r\n  code: string;\r\n};\r\n\r\nexport function formatClientErrorDetails(details: unknown): string[] | null {\r\n  if (!details) return null;\r\n\r\n  // Zod issues shape: Array<{ path: (string|number)[], message: string }>\r\n  if (Array.isArray(details)) {\r\n    const lines: string[] = [];\r\n    for (const item of details) {\r\n      if (!item || typeof item !== \"object\") continue;\r\n      const path = (item as { path?: unknown }).path;\r\n      const message = (item as { message?: unknown }).message;\r\n      const pathStr = Array.isArray(path)\r\n        ? path.map((p) => String(p)).filter(Boolean).join(\".\")\r\n        : \"\";\r\n      const msgStr = typeof message === \"string\" ? message : null;\r\n      if (!msgStr) continue;\r\n      lines.push(pathStr ? `${pathStr}: ${msgStr}` : msgStr);\r\n    }\r\n    return lines.length ? lines : null;\r\n  }\r\n\r\n  if (typeof details === \"string\") return [details];\r\n\r\n  if (details && typeof details === \"object\") {\r\n    const obj = details as Record<string, unknown>;\r\n    const lines: string[] = [];\r\n\r\n    const message = typeof obj.message === \"string\" ? obj.message : null;\r\n    const error = typeof obj.error === \"string\" ? obj.error : null;\r\n    if (message) lines.push(message);\r\n    if (error && error !== message) lines.push(`error: ${error}`);\r\n\r\n    if (lines.length > 0) return lines;\r\n  }\r\n\r\n  try {\r\n    return [JSON.stringify(details, null, 2)];\r\n  } catch {\r\n    return [String(details)];\r\n  }\r\n}\r\n\r\nfunction httpMessage(code: string): ClientErrorInfo {\r\n  const m = code.match(/^http_(\\d{3})$/);\r\n  if (!m) {\r\n    return { title: \"Request failed\", message: \"Request failed.\", code };\r\n  }\r\n\r\n  const status = Number(m[1]);\r\n  if (status === 401) {\r\n    return {\r\n      title: \"Unauthorized\",\r\n      message: \"You are not authenticated for this action.\",\r\n      code,\r\n    };\r\n  }\r\n  if (status === 403) {\r\n    return {\r\n      title: \"Forbidden\",\r\n      message: \"You are not allowed to perform this action.\",\r\n      code,\r\n    };\r\n  }\r\n  if (status === 404) {\r\n    return {\r\n      title: \"Not found\",\r\n      message: \"The requested resource was not found.\",\r\n      code,\r\n    };\r\n  }\r\n  if (status === 409) {\r\n    return {\r\n      title: \"Conflict\",\r\n      message: \"The request conflicts with current state.\",\r\n      code,\r\n    };\r\n  }\r\n\r\n  return {\r\n    title: \"Request failed\",\r\n    message: `Request failed with HTTP ${status}.`,\r\n    code,\r\n  };\r\n}\r\n\r\nconst CODE_MAP: Record<string, Omit<ClientErrorInfo, \"code\">> = {\r\n  // Local UI guards\r\n  missing_acting_user_id: {\r\n    title: \"Select an acting user\",\r\n    message: \"Pick an acting user first (scopes the trade list).\",\r\n  },\r\n  missing_or_invalid_users: {\r\n    title: \"Select buyer and seller\",\r\n    message: \"Choose a buyer and a different seller before creating a trade.\",\r\n  },\r\n  missing_file: {\r\n    title: \"Missing file\",\r\n    message: \"Choose a file to upload.\",\r\n  },\r\n  missing_submitted_by_user_id: {\r\n    title: \"Missing submitter\",\r\n    message: \"Pick who is submitting this evidence.\",\r\n  },\r\n  missing_opened_by_user_id: {\r\n    title: \"Missing opener\",\r\n    message: \"Pick who is opening the dispute.\",\r\n  },\r\n  missing_decided_by: {\r\n    title: \"Missing reviewer identity\",\r\n    message: \"Enter a reviewer identity (decided_by).\",\r\n  },\r\n\r\n  // Auth / identity\r\n  missing_x_user_id: {\r\n    title: \"Missing acting user\",\r\n    message: \"This endpoint requires an acting user (session cookie or x-user-id).\",\r\n  },\r\n  missing_user_id: {\r\n    title: \"Missing acting user\",\r\n    message: \"Provide an acting user (session cookie, x-user-id, or user_id).\",\r\n  },\r\n  session_user_mismatch: {\r\n    title: \"Signed-in user mismatch\",\r\n    message: \"Your session is signed in as a different user. Sign in as the user for this action, or switch to header auth.\",\r\n  },\r\n  x_user_id_mismatch: {\r\n    title: \"Acting user mismatch\",\r\n    message: \"The acting user does not match the user for this action.\",\r\n  },\r\n\r\n  arcade_key_required: {\r\n    title: \"Key required\",\r\n    message: \"This action requires a Gate Key. Earn one from Arcade drops, then try again.\",\r\n  },\r\n  user_not_found: {\r\n    title: \"User not found\",\r\n    message: \"That user id does not exist.\",\r\n  },\r\n  user_not_active: {\r\n    title: \"User not active\",\r\n    message: \"That user is not active and cannot act on trades.\",\r\n  },\r\n  not_party: {\r\n    title: \"Not a party\",\r\n    message: \"Only the buyer or seller can access this trade.\",\r\n  },\r\n  opened_by_not_party: {\r\n    title: \"Not a party\",\r\n    message: \"Only the buyer or seller can open a dispute.\",\r\n  },\r\n  actor_not_allowed: {\r\n    title: \"Not allowed\",\r\n    message: \"The signed-in user is not allowed to perform this action.\",\r\n  },\r\n\r\n  email_not_verified: {\r\n    title: \"Email not verified\",\r\n    message: \"Verify your email to continue.\",\r\n  },\r\n  totp_setup_required: {\r\n    title: \"2FA required\",\r\n    message: \"Set up 2FA (authenticator app) to continue.\",\r\n  },\r\n  totp_required: {\r\n    title: \"2FA code required\",\r\n    message: \"Enter your 6-digit authenticator code to continue.\",\r\n  },\r\n  invalid_totp_code: {\r\n    title: \"Invalid 2FA code\",\r\n    message: \"That code is invalid. Try again.\",\r\n  },\r\n\r\n  // Passkeys (WebAuthn)\r\n  stepup_required: {\r\n    title: \"Passkey confirmation required\",\r\n    message: \"Confirm with your passkey to continue.\",\r\n  },\r\n  passkey_not_configured: {\r\n    title: \"No passkeys enrolled\",\r\n    message: \"Add a passkey in Account settings to use passkey confirmation.\",\r\n  },\r\n  webauthn_verification_failed: {\r\n    title: \"Passkey verification failed\",\r\n    message: \"Passkey verification failed. Please try again.\",\r\n  },\r\n  invalid_or_expired_token: {\r\n    title: \"Expired\",\r\n    message: \"This request expired. Please try again.\",\r\n  },\r\n\r\n  p2p_country_not_supported: {\r\n    title: \"Country not supported\",\r\n    message: \"P2P is not available in your country yet.\",\r\n  },\r\n\r\n  p2p_open_orders_limit: {\r\n    title: \"Too many open trades\",\r\n    message: \"You already have too many open P2P orders awaiting payment. Finish or cancel an existing order and try again.\",\r\n  },\r\n  p2p_order_duplicate_open: {\r\n    title: \"Order already open\",\r\n    message: \"You already have an open order for this ad. Open the existing order to continue.\",\r\n  },\r\n  p2p_order_create_cooldown: {\r\n    title: \"Temporarily blocked\",\r\n    message: \"You have too many recent payment timeouts. Please wait a bit before creating a new P2P order.\",\r\n  },\r\n\r\n  // Not found\r\n  not_found: {\r\n    title: \"Not found\",\r\n    message: \"The requested resource was not found.\",\r\n  },\r\n  trade_not_found: {\r\n    title: \"Trade not found\",\r\n    message: \"That trade id was not found.\",\r\n  },\r\n  trade_transition_not_allowed: {\r\n    title: \"Invalid transition\",\r\n    message: \"That action is not allowed for the trade's current status.\",\r\n  },\r\n  trade_not_cancelable: {\r\n    title: \"Cannot cancel\",\r\n    message: \"This trade can't be canceled in its current state. If it's disputed, resolve it via a reviewer decision.\",\r\n  },\r\n  dispute_not_found: {\r\n    title: \"Dispute not found\",\r\n    message: \"No dispute exists for this trade.\",\r\n  },\r\n\r\n  // Validation\r\n  invalid_input: {\r\n    title: \"Invalid input\",\r\n    message: \"Some fields were invalid. Check your inputs and try again.\",\r\n  },\r\n\r\n  // Server\r\n  internal_error: {\r\n    title: \"Server error\",\r\n    message: \"The server hit an unexpected error. Try again in a moment.\",\r\n  },\r\n\r\n  // Dependencies\r\n  upstream_unavailable: {\r\n    title: \"Service unavailable\",\r\n    message: \"A required dependency is unavailable (typically the database). Try again shortly.\",\r\n  },\r\n  invalid_metadata_json: {\r\n    title: \"Invalid metadata\",\r\n    message: \"Metadata JSON must be a valid JSON object.\",\r\n  },\r\n  unsupported_version: {\r\n    title: \"Unsupported version\",\r\n    message: \"That API version is not supported.\",\r\n  },\r\n\r\n  // State machine / conflicts\r\n  dispute_already_exists: {\r\n    title: \"Dispute already exists\",\r\n    message: \"This trade already has a dispute.\",\r\n  },\r\n  trade_not_disputable: {\r\n    title: \"Trade not disputable\",\r\n    message: \"This trade can't be disputed in its current state.\",\r\n  },\r\n  dispute_not_open: {\r\n    title: \"Dispute not open\",\r\n    message: \"This dispute is not open (already resolved or closed).\",\r\n  },\r\n  trade_not_resolvable: {\r\n    title: \"Trade not resolvable\",\r\n    message: \"This trade can't be resolved from dispute in its current state.\",\r\n  },\r\n  trade_not_disputed: {\r\n    title: \"Trade not in dispute\",\r\n    message: \"This decision requires the trade to be in the disputed state.\",\r\n  },\r\n  trade_state_conflict: {\r\n    title: \"State changed\",\r\n    message: \"The trade/dispute state changed while processing. Refresh and try again.\",\r\n  },\r\n\r\n  // Exchange / ledger\r\n  insufficient_balance: {\r\n    title: \"Insufficient balance\",\r\n    message: \"You don't have enough available balance for this action.\",\r\n  },\r\n\r\n  recipient_not_found: {\r\n    title: \"Recipient not found\",\r\n    message: \"No user exists with that email. Check for typos and try again.\",\r\n  },\r\n  recipient_inactive: {\r\n    title: \"Recipient unavailable\",\r\n    message: \"That recipient account is not active and cannot receive transfers.\",\r\n  },\r\n  recipient_same_as_sender: {\r\n    title: \"Invalid recipient\",\r\n    message: \"You cannot send a transfer to yourself.\",\r\n  },\r\n\r\n  transfer_not_found: {\r\n    title: \"Transfer not found\",\r\n    message: \"That transfer could not be found.\",\r\n  },\r\n  transfer_not_reversible: {\r\n    title: \"Transfer not reversible\",\r\n    message: \"This transfer cannot be reversed automatically.\",\r\n  },\r\n  transfer_already_reversed: {\r\n    title: \"Already reversed\",\r\n    message: \"This transfer has already been reversed.\",\r\n  },\r\n  recipient_insufficient_balance_for_reversal: {\r\n    title: \"Cannot reverse transfer\",\r\n    message: \"The recipient no longer has enough available balance to reverse this transfer.\",\r\n  },\r\n\r\n  withdrawal_address_not_allowlisted: {\r\n    title: \"Address not allowlisted\",\r\n    message: \"Withdrawals are allowlist-only. Add this destination address to your allowlist first.\",\r\n  },\r\n  withdrawal_allowlist_cooldown: {\r\n    title: \"Address cooling down\",\r\n    message: \"This address was added recently. Wait for the cooldown period before using it.\",\r\n  },\r\n  kyc_required_for_asset: {\r\n    title: \"Verification required\",\r\n    message: \"This asset requires additional verification to withdraw.\",\r\n  },\r\n  withdrawal_requires_kyc: {\r\n    title: \"Verification required\",\r\n    message: \"This withdrawal requires a higher verification tier.\",\r\n  },\r\n\r\n  // Reviewer gating\r\n  reviewer_key_invalid: {\r\n    title: \"Reviewer key invalid\",\r\n    message: \"Provide the correct reviewer key (x-reviewer-key).\",\r\n  },\r\n  reviewer_key_not_configured: {\r\n    title: \"Reviewer key not configured\",\r\n    message: \"Server is missing reviewer key configuration.\",\r\n  },\r\n\r\n  admin_key_invalid: {\r\n    title: \"Admin key invalid\",\r\n    message: \"Provide the correct admin key (x-admin-key).\",\r\n  },\r\n  admin_key_not_configured: {\r\n    title: \"Admin key not configured\",\r\n    message: \"Server is missing exchange admin key configuration.\",\r\n  },\r\n\r\n  // Session auth bootstrap\r\n  session_secret_not_configured: {\r\n    title: \"Session not configured\",\r\n    message: \"Server is missing PROOFPACK_SESSION_SECRET.\",\r\n  },\r\n  session_bootstrap_not_configured: {\r\n    title: \"Bootstrap not configured\",\r\n    message: \"Server is missing PROOFPACK_SESSION_BOOTSTRAP_KEY.\",\r\n  },\r\n  session_bootstrap_key_invalid: {\r\n    title: \"Unauthorized\",\r\n    message: \"Missing or invalid session bootstrap key.\",\r\n  },\r\n\r\n  // Trade creation specifics\r\n  buyer_not_found: {\r\n    title: \"Buyer not found\",\r\n    message: \"The buyer user id does not exist.\",\r\n  },\r\n  seller_not_found: {\r\n    title: \"Seller not found\",\r\n    message: \"The seller user id does not exist.\",\r\n  },\r\n  buyer_not_active: {\r\n    title: \"Buyer not active\",\r\n    message: \"The buyer user is not active.\",\r\n  },\r\n  seller_not_active: {\r\n    title: \"Seller not active\",\r\n    message: \"The seller user is not active.\",\r\n  },\r\n\r\n  // Generic client fallbacks\r\n  load_failed: {\r\n    title: \"Load failed\",\r\n    message: \"Failed to load this page. Try again.\",\r\n  },\r\n  refresh_failed: {\r\n    title: \"Refresh failed\",\r\n    message: \"Failed to refresh data. Try again.\",\r\n  },\r\n  create_trade_failed: {\r\n    title: \"Create trade failed\",\r\n    message: \"Failed to create the trade. Try again.\",\r\n  },\r\n  users_failed: {\r\n    title: \"Load users failed\",\r\n    message: \"Failed to load users. Try again.\",\r\n  },\r\n  upload_failed: {\r\n    title: \"Upload failed\",\r\n    message: \"Failed to upload evidence. Try again.\",\r\n  },\r\n  evacuation_failed: {\r\n    title: \"Add funds failed\",\r\n    message: \"Could not pull funds from connected exchanges. Check connection status and try again.\",\r\n  },\r\n  open_dispute_failed: {\r\n    title: \"Open dispute failed\",\r\n    message: \"Failed to open dispute. Try again.\",\r\n  },\r\n  submit_decision_failed: {\r\n    title: \"Submit decision failed\",\r\n    message: \"Failed to submit reviewer decision. Try again.\",\r\n  },\r\n  risk_failed: {\r\n    title: \"Risk assessment failed\",\r\n    message: \"Failed to run risk assessment. Try again.\",\r\n  },\r\n\r\n  // Rate limiting\r\n  rate_limit_exceeded: {\r\n    title: \"Too many requests\",\r\n    message: \"You're sending too many requests. Please wait a moment and try again.\",\r\n  },\r\n\r\n  // Session expiry\r\n  session_token_expired: {\r\n    title: \"Session expired\",\r\n    message: \"Your session has expired. Please sign in again.\",\r\n  },\r\n\r\n  // Dispute state machine\r\n  dispute_transition_not_allowed: {\r\n    title: \"Invalid dispute transition\",\r\n    message: \"That action is not allowed for the dispute's current status.\",\r\n  },\r\n\r\n  // Exchange - order/market\r\n  order_not_found: {\r\n    title: \"Order not found\",\r\n    message: \"That order id was not found.\",\r\n  },\r\n\r\n  // Exchange (pro trading)\r\n  post_only_would_take: {\r\n    title: \"Post-only rejected\",\r\n    message: \"This order would immediately take liquidity. Adjust the price or disable post-only.\",\r\n  },\r\n  fok_insufficient_liquidity: {\r\n    title: \"Fill-or-kill failed\",\r\n    message: \"There is not enough liquidity to fill the entire order immediately.\",\r\n  },\r\n  idempotency_key_conflict: {\r\n    title: \"Duplicate request key\",\r\n    message: \"This idempotency key was already used for a different order payload. Use a new key and try again.\",\r\n  },\r\n  open_orders_limit: {\r\n    title: \"Too many open orders\",\r\n    message: \"You have too many open orders. Cancel an existing order and try again.\",\r\n  },\r\n  order_notional_too_large: {\r\n    title: \"Order too large\",\r\n    message: \"This order exceeds the current maximum order size limit.\",\r\n  },\r\n  exchange_price_out_of_band: {\r\n    title: \"Price out of band\",\r\n    message: \"That limit price is too far from the current market price band. Adjust the price and try again.\",\r\n  },\r\n  market_halted: {\r\n    title: \"Market temporarily halted\",\r\n    message: \"This market is temporarily halted due to risk controls. Please try again shortly.\",\r\n  },\r\n  stp_cancel_newest: {\r\n    title: \"Self-trade prevented\",\r\n    message: \"This order would cross against your own resting order(s). Adjust your orders and try again.\",\r\n  },\r\n  stp_cancel_both: {\r\n    title: \"Self-trade prevented\",\r\n    message: \"This order would cross against your own resting order(s). Your crossing order(s) were canceled.\",\r\n  },\r\n  market_not_found: {\r\n    title: \"Market not found\",\r\n    message: \"That market was not found.\",\r\n  },\r\n  market_disabled: {\r\n    title: \"Market disabled\",\r\n    message: \"This market is currently disabled for trading.\",\r\n  },\r\n  order_state_conflict: {\r\n    title: \"Order state changed\",\r\n    message: \"The order's state changed while processing. Refresh and try again.\",\r\n  },\r\n  price_not_multiple_of_tick: {\r\n    title: \"Invalid price\",\r\n    message: \"Price must be a multiple of the market's tick size.\",\r\n  },\r\n  quantity_not_multiple_of_lot: {\r\n    title: \"Invalid quantity\",\r\n    message: \"Quantity must be a multiple of the market's lot size.\",\r\n  },\r\n  withdrawal_risk_blocked: {\r\n    title: \"Withdrawal blocked\",\r\n    message: \"This withdrawal was flagged by risk controls. Contact support if you believe this is an error.\",\r\n  },\r\n};\r\n\r\nexport function describeClientError(code: string): ClientErrorInfo {\r\n  const trimmed = (code ?? \"\").trim();\r\n  if (!trimmed) {\r\n    return { title: \"Error\", message: \"Something went wrong.\", code: \"unknown\" };\r\n  }\r\n\r\n  if (trimmed.startsWith(\"http_\")) {\r\n    return httpMessage(trimmed);\r\n  }\r\n\r\n  const mapped = CODE_MAP[trimmed];\r\n  if (mapped) return { ...mapped, code: trimmed };\r\n\r\n  const short = trimmed.length > 180 ? trimmed.slice(0, 180) + \"â€¦\" : trimmed;\r\n  return { title: \"Error\", message: short, code: trimmed };\r\n\r\n}\r\n\r\n\r\n","export type TradeStatus =\r\n  | \"created\"\r\n  | \"awaiting_payment\"\r\n  | \"paid_marked\"\r\n  | \"released\"\r\n  | \"disputed\"\r\n  | \"resolved\"\r\n  | \"canceled\";\r\n\r\nexport function isTradeStatus(status: string): status is TradeStatus {\r\n  return (\r\n    status === \"created\" ||\r\n    status === \"awaiting_payment\" ||\r\n    status === \"paid_marked\" ||\r\n    status === \"released\" ||\r\n    status === \"disputed\" ||\r\n    status === \"resolved\" ||\r\n    status === \"canceled\"\r\n  );\r\n}\r\n\r\nexport const TRADE_ALLOWED_TRANSITIONS: Record<TradeStatus, readonly TradeStatus[]> = {\r\n  created: [\"awaiting_payment\", \"disputed\", \"canceled\"],\r\n  awaiting_payment: [\"paid_marked\", \"disputed\", \"canceled\"],\r\n  paid_marked: [\"released\", \"disputed\", \"resolved\", \"canceled\"],\r\n  released: [\"resolved\", \"disputed\"],\r\n  disputed: [\"resolved\"],\r\n  resolved: [],\r\n  canceled: [],\r\n} as const;\r\n\r\nexport function canTransitionTrade(from: string, to: TradeStatus): boolean {\r\n  if (!isTradeStatus(from)) return false;\r\n  return TRADE_ALLOWED_TRANSITIONS[from].includes(to);\r\n}\r\n\r\nexport function canOpenDispute(tradeStatus: string): boolean {\r\n  // Dispute opening implies a trade transition into 'disputed'.\r\n  return canTransitionTrade(tradeStatus, \"disputed\");\r\n}\r\n\r\nexport function canResolveFromDispute(tradeStatus: string): boolean {\r\n  // Decisions should only resolve/cancel a trade that is currently in dispute.\r\n  return tradeStatus === \"disputed\";\r\n}\r\n","import { fetchJsonOrThrow } from \"@/lib/api/client\";\r\n\r\nexport type WhoAmIResponse = {\r\n  user_id: string | null;\r\n  user: unknown | null;\r\n};\r\n\r\nexport async function fetchWhoAmI(): Promise<WhoAmIResponse> {\r\n  return await fetchJsonOrThrow<WhoAmIResponse>(\"/api/whoami\", {\r\n    cache: \"no-store\",\r\n  });\r\n}\r\n\r\nexport async function createSessionCookie(opts: {\r\n  userId: string;\r\n  ttlSeconds?: number;\r\n  bootstrapKey?: string;\r\n}): Promise<{ ok: true; user_id: string; ttl_seconds: number }> {\r\n  const headers: Record<string, string> = {\r\n    \"Content-Type\": \"application/json\",\r\n  };\r\n  if (opts.bootstrapKey) headers[\"x-session-bootstrap-key\"] = opts.bootstrapKey;\r\n\r\n  return await fetchJsonOrThrow(\"/api/auth/session\", {\r\n    method: \"POST\",\r\n    headers,\r\n    body: JSON.stringify({\r\n      user_id: opts.userId,\r\n      ttl_seconds: opts.ttlSeconds,\r\n    }),\r\n  });\r\n}\r\n\r\nexport async function clearSessionCookie(): Promise<{ ok: true }> {\r\n  return await fetchJsonOrThrow(\"/api/auth/session\", {\r\n    method: \"DELETE\",\r\n  });\r\n}\r\n","export const ACTING_USER_STORAGE_KEY = \"proofpack.acting_user_id\";\r\n\r\nexport function readActingUserIdPreference(href: string = window.location.href): string {\r\n  let urlUserId = \"\";\r\n  try {\r\n    urlUserId = new URL(href).searchParams.get(\"user_id\") ?? \"\";\r\n  } catch {\r\n    // ignore\r\n  }\r\n\r\n  let stored = \"\";\r\n  try {\r\n    stored = window.localStorage.getItem(ACTING_USER_STORAGE_KEY) ?? \"\";\r\n  } catch {\r\n    // ignore\r\n  }\r\n\r\n  return urlUserId || stored;\r\n}\r\n\r\nexport function persistActingUserIdPreference(id: string, href: string = window.location.href): void {\r\n  if (!id) return;\r\n\r\n  try {\r\n    window.localStorage.setItem(ACTING_USER_STORAGE_KEY, id);\r\n  } catch {\r\n    // ignore\r\n  }\r\n\r\n  try {\r\n    const url = new URL(href);\r\n    url.searchParams.set(\"user_id\", id);\r\n    window.history.replaceState(null, \"\", url.toString());\r\n  } catch {\r\n    // ignore\r\n  }\r\n}\r\n","export async function copyToClipboard(text: string): Promise<boolean> {\r\n  if (!text) return false;\r\n\r\n  // Prefer the async Clipboard API when available.\r\n  try {\r\n    const nav = (globalThis as unknown as { navigator?: Navigator }).navigator;\r\n    if (nav?.clipboard?.writeText) {\r\n      await nav.clipboard.writeText(text);\r\n      return true;\r\n    }\r\n  } catch {\r\n    // fall through to legacy fallback\r\n  }\r\n\r\n  // Fallback for older/stricter browser contexts.\r\n  try {\r\n    const doc = (globalThis as unknown as { document?: Document }).document;\r\n    if (!doc) return false;\r\n\r\n    const textarea = doc.createElement(\"textarea\");\r\n    textarea.value = text;\r\n    textarea.setAttribute(\"readonly\", \"true\");\r\n    textarea.style.position = \"fixed\";\r\n    textarea.style.left = \"-9999px\";\r\n    textarea.style.top = \"-9999px\";\r\n    doc.body.appendChild(textarea);\r\n\r\n    textarea.focus();\r\n    textarea.select();\r\n\r\n    const ok = doc.execCommand?.(\"copy\") ?? false;\r\n    doc.body.removeChild(textarea);\r\n\r\n    return Boolean(ok);\r\n  } catch {\r\n    return false;\r\n  }\r\n}\r\n","\"use client\";\r\n\r\nimport { useEffect } from \"react\";\r\n\r\nexport type ToastKind = \"success\" | \"error\" | \"info\";\r\n\r\nexport function Toast({\r\n  message,\r\n  kind = \"info\",\r\n  durationMs = 1500,\r\n  onDone,\r\n}: {\r\n  message: string | null;\r\n  kind?: ToastKind;\r\n  durationMs?: number;\r\n  onDone?: () => void;\r\n}) {\r\n  useEffect(() => {\r\n    if (!message) return;\r\n    const t = window.setTimeout(() => onDone?.(), durationMs);\r\n    return () => window.clearTimeout(t);\r\n  }, [message, durationMs, onDone]);\r\n\r\n  if (!message) return null;\r\n\r\n  const base =\r\n    \"pointer-events-none fixed bottom-4 left-4 right-4 z-50 rounded-xl border px-3 py-2 text-sm shadow-[var(--shadow)] sm:left-auto sm:right-4 sm:w-[420px] overflow-hidden\";\r\n\r\n  const klass =\r\n    kind === \"success\"\r\n      ? `${base} border-[color-mix(in_srgb,var(--up)_25%,var(--border))] bg-[color-mix(in_srgb,var(--up-bg)_70%,var(--card))] text-[var(--foreground)]`\r\n      : kind === \"error\"\r\n        ? `${base} border-[color-mix(in_srgb,var(--down)_25%,var(--border))] bg-[color-mix(in_srgb,var(--down-bg)_70%,var(--card))] text-[var(--foreground)]`\r\n        : `${base} border-[var(--border)] bg-[var(--card)] text-[var(--foreground)]`;\r\n\r\n  return (\r\n    <div role=\"status\" aria-live=\"polite\" className={klass}>\r\n      <div\r\n        className=\"pointer-events-none absolute inset-0 opacity-60\"\r\n        style={{\r\n          background:\r\n            \"radial-gradient(420px 140px at 10% 0%, color-mix(in oklab, var(--accent) 18%, transparent) 0%, transparent 60%), radial-gradient(260px 140px at 90% 10%, color-mix(in oklab, var(--accent-2) 12%, transparent) 0%, transparent 55%)\",\r\n        }}\r\n      />\r\n      <div className=\"relative flex items-start gap-2\">\r\n        <div\r\n          className={\r\n            \"mt-0.5 h-2.5 w-2.5 rounded-full \" +\r\n            (kind === \"success\" ? \"bg-[var(--up)]\" : kind === \"error\" ? \"bg-[var(--down)]\" : \"bg-[var(--accent)]\")\r\n          }\r\n        />\r\n        <div className=\"min-w-0\">\r\n          <div className=\"text-[11px] font-semibold text-[var(--muted)]\">\r\n            {kind === \"success\" ? \"Signal\" : kind === \"error\" ? \"Error\" : \"Update\"}\r\n          </div>\r\n          <div className=\"mt-0.5 text-sm leading-snug text-[var(--foreground)] break-words\">\r\n            {message}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":["module","exports","require","vendored","AppRouterContext","ReactServerDOMTurbopackClient","HooksClientContext","ServerInsertedHtml","DEFAULT_SEGMENT_KEY","NOT_FOUND_SEGMENT_KEY","PAGE_SEGMENT_KEY","addSearchParamsIfPageSegment","computeSelectedLayoutSegment","getSegmentValue","getSelectedLayoutSegmentPath","isGroupSegment","isParallelRouteSegment","segment","Array","isArray","endsWith","startsWith","searchParams","isPageSegment","includes","stringifiedQuery","JSON","stringify","segments","parallelRouteKey","length","rawSegment","tree","first","segmentPath","node","parallelRoutes","children","Object","values","segmentValue","push"],"mappings":"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P,QAAS,gCACX,EACA,oBAAqB,CACnB,MAAO,eACP,QAAS,6CACX,EACA,cAAe,CACb,MAAO,oBACP,QAAS,oDACX,EACA,kBAAmB,CACjB,MAAO,mBACP,QAAS,kCACX,EAGA,gBAAiB,CACf,MAAO,gCACP,QAAS,wCACX,EACA,uBAAwB,CACtB,MAAO,uBACP,QAAS,gEACX,EACA,6BAA8B,CAC5B,MAAO,8BACP,QAAS,gDACX,EACA,yBAA0B,CACxB,MAAO,UACP,QAAS,yCACX,EAEA,0BAA2B,CACzB,MAAO,wBACP,QAAS,2CACX,EAEA,sBAAuB,CACrB,MAAO,uBACP,QAAS,+GACX,EACA,yBAA0B,CACxB,MAAO,qBACP,QAAS,kFACX,EACA,0BAA2B,CACzB,MAAO,sBACP,QAAS,+FACX,EAGA,UAAW,CACT,MAAO,YACP,QAAS,uCACX,EACA,gBAAiB,CACf,MAAO,kBACP,QAAS,8BACX,EACA,6BAA8B,CAC5B,MAAO,qBACP,QAAS,4DACX,EACA,qBAAsB,CACpB,MAAO,gBACP,QAAS,0GACX,EACA,kBAAmB,CACjB,MAAO,oBACP,QAAS,mCACX,EAGA,cAAe,CACb,MAAO,gBACP,QAAS,4DACX,EAGA,eAAgB,CACd,MAAO,eACP,QAAS,4DACX,EAGA,qBAAsB,CACpB,MAAO,sBACP,QAAS,mFACX,EACA,sBAAuB,CACrB,MAAO,mBACP,QAAS,4CACX,EACA,oBAAqB,CACnB,MAAO,sBACP,QAAS,oCACX,EAGA,uBAAwB,CACtB,MAAO,yBACP,QAAS,mCACX,EACA,qBAAsB,CACpB,MAAO,uBACP,QAAS,oDACX,EACA,iBAAkB,CAChB,MAAO,mBACP,QAAS,wDACX,EACA,qBAAsB,CACpB,MAAO,uBACP,QAAS,iEACX,EACA,mBAAoB,CAClB,MAAO,uBACP,QAAS,+DACX,EACA,qBAAsB,CACpB,MAAO,gBACP,QAAS,0EACX,EAGA,qBAAsB,CACpB,MAAO,uBACP,QAAS,0DACX,EAEA,oBAAqB,CACnB,MAAO,sBACP,QAAS,gEACX,EACA,mBAAoB,CAClB,MAAO,wBACP,QAAS,oEACX,EACA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","ignoreList":[0,1,2,3,4,5]}