module.exports=[556704,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-async-storage.external.js",()=>require("next/dist/server/app-render/work-async-storage.external.js"))},832319,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-unit-async-storage.external.js",()=>require("next/dist/server/app-render/work-unit-async-storage.external.js"))},909270,(a,b,c)=>{"use strict";b.exports=a.r(342602).vendored.contexts.AppRouterContext},738783,(a,b,c)=>{"use strict";b.exports=a.r(342602).vendored["react-ssr"].ReactServerDOMTurbopackClient},120635,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/action-async-storage.external.js",()=>require("next/dist/server/app-render/action-async-storage.external.js"))},736313,(a,b,c)=>{"use strict";b.exports=a.r(342602).vendored.contexts.HooksClientContext},818341,(a,b,c)=>{"use strict";b.exports=a.r(342602).vendored.contexts.ServerInsertedHtml},346058,(a,b,c)=>{"use strict";function d(a){if("function"!=typeof WeakMap)return null;var b=new WeakMap,c=new WeakMap;return(d=function(a){return a?c:b})(a)}c._=function(a,b){if(!b&&a&&a.__esModule)return a;if(null===a||"object"!=typeof a&&"function"!=typeof a)return{default:a};var c=d(b);if(c&&c.has(a))return c.get(a);var e={__proto__:null},f=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var g in a)if("default"!==g&&Object.prototype.hasOwnProperty.call(a,g)){var h=f?Object.getOwnPropertyDescriptor(a,g):null;h&&(h.get||h.set)?Object.defineProperty(e,g,h):e[g]=a[g]}return e.default=a,c&&c.set(a,e),e}},739118,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0});var d={DEFAULT_SEGMENT_KEY:function(){return l},NOT_FOUND_SEGMENT_KEY:function(){return m},PAGE_SEGMENT_KEY:function(){return k},addSearchParamsIfPageSegment:function(){return i},computeSelectedLayoutSegment:function(){return j},getSegmentValue:function(){return f},getSelectedLayoutSegmentPath:function(){return function a(b,c,d=!0,e=[]){let g;if(d)g=b[1][c];else{let a=b[1];g=a.children??Object.values(a)[0]}if(!g)return e;let h=f(g[0]);return!h||h.startsWith(k)?e:(e.push(h),a(g,c,!1,e))}},isGroupSegment:function(){return g},isParallelRouteSegment:function(){return h}};for(var e in d)Object.defineProperty(c,e,{enumerable:!0,get:d[e]});function f(a){return Array.isArray(a)?a[1]:a}function g(a){return"("===a[0]&&a.endsWith(")")}function h(a){return a.startsWith("@")&&"@children"!==a}function i(a,b){if(a.includes(k)){let a=JSON.stringify(b);return"{}"!==a?k+"?"+a:k}return a}function j(a,b){if(!a||0===a.length)return null;let c="children"===b?a[0]:a[a.length-1];return c===l?null:c}let k="__PAGE__",l="__DEFAULT__",m="/_not-found"},392415,a=>{"use strict";class b extends Error{code;details;status;requestId;constructor(a,b){super(b?.requestId?`${a} (req ${b.requestId})`:a),this.name="ApiError",this.code=a,this.details=b?.details,this.status=b?.status,this.requestId=b?.requestId}}function c(a){return new Promise(b=>setTimeout(b,Math.max(0,Math.floor(a))))}async function d(a,d){let e=d?{...d,credentials:d.credentials??"same-origin"}:{credentials:"same-origin"},f=(e?.method??"GET").toUpperCase();if(["POST","PUT","PATCH","DELETE"].includes(f)){let a=function(){if("u"<typeof document)return null;let a=document.cookie.match(/(?:^|;\s*)__csrf=([^;]+)/);return a?.[1]??null}();if(a){let b=new Headers(e?.headers);b.has("x-csrf-token")||b.set("x-csrf-token",a),e.headers=b}}let g=(e?.method??"GET").toUpperCase(),h="GET"===g||"HEAD"===g,i=2*!!h,j=null;for(let d=0;d<=i;d+=1)try{let f=await fetch(a,e),g=f.headers.get("x-request-id")??void 0,j=await f.text().catch(()=>""),k=(f.headers.get("content-type")??"").includes("text/html")||function(a){let b=String(a??"").trimStart();return b.startsWith("<!DOCTYPE html")||b.startsWith("<html")||b.startsWith("<!doctype html")}(j),l=k?{_raw:"<html/>"}:function(a){try{return a?JSON.parse(a):null}catch{return{_raw:a}}}(j);if(!f.ok){if(h&&(502===f.status||503===f.status||504===f.status)&&d<i){await c(250*Math.pow(2,d));continue}if(l&&"object"==typeof l&&"error"in l){let a="string"==typeof l.error?l.error:`http_${f.status}`,c=void 0!==l.details?l.details:"string"==typeof l.message?l.message:k?{message:`Upstream error (HTTP ${f.status}). Please retry.`}:void 0;throw new b(a,{details:c,status:f.status,requestId:g})}if(l&&"object"==typeof l&&"message"in l){let a="string"==typeof l.message?l.message:l;throw new b(`http_${f.status}`,{details:a,status:f.status,requestId:g})}let a=k?{message:`Upstream error (HTTP ${f.status}). Please retry.`}:l;throw new b(`http_${f.status}`,{details:a,status:f.status,requestId:g})}return l}catch(a){if(j=a,h&&d<i){await c(250*Math.pow(2,d));continue}throw a}throw j}a.s(["ApiError",()=>b,"fetchJsonOrThrow",()=>d])},305368,a=>{"use strict";var b=a.i(187924),c=a.i(572131),d=a.i(50944),e=a.i(238246),f=a.i(392415);function g(){let a=(0,d.useSearchParams)().get("token"),[g,h]=(0,c.useState)("loading"),[i,j]=(0,c.useState)("");return((0,c.useEffect)(()=>{a?(async()=>{try{let b=await (0,f.fetchJsonOrThrow)("/api/account/verify-email",{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({token:a})});b.verified?h("success"):(h("error"),j("invalid_or_expired_token"===b.error?"This link is invalid or has expired.":b.error??"Verification failed."))}catch(a){if(h("error"),a instanceof f.ApiError){if("csrf_token_mismatch"===a.code)return void j("Security check failed (CSRF). Please refresh this page and try again.");j("string"==typeof a.details?a.details:a.code);return}j("Network error â€” please try again.")}})():h("no-token")},[a]),"loading"===g)?(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("div",{className:"mb-3 text-3xl",children:"âœ‰ï¸"}),(0,b.jsx)("p",{className:"text-sm text-[var(--muted)]",children:"Verifying your emailâ€¦"})]}):"no-token"===g?(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("div",{className:"mb-3 text-3xl",children:"ðŸ”—"}),(0,b.jsx)("h2",{className:"text-lg font-semibold",children:"Missing verification token"}),(0,b.jsx)("p",{className:"mt-2 text-sm text-[var(--muted)]",children:"Please use the link from your verification email."}),(0,b.jsx)(e.default,{href:"/account",className:"mt-4 inline-block rounded-lg bg-[var(--accent)] px-5 py-2 text-xs font-medium text-white transition hover:brightness-110",children:"Go to Account"})]}):"error"===g?(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("div",{className:"mb-3 text-3xl",children:"âš ï¸"}),(0,b.jsx)("h2",{className:"text-lg font-semibold text-rose-500",children:"Verification Failed"}),(0,b.jsx)("p",{className:"mt-2 text-sm text-[var(--muted)]",children:i}),(0,b.jsx)(e.default,{href:"/account",className:"mt-4 inline-block rounded-lg border border-[var(--border)] px-5 py-2 text-xs font-medium transition hover:bg-[color-mix(in_srgb,var(--card)_70%,transparent)]",children:"Back to Account"})]}):(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("div",{className:"mb-3 text-3xl",children:"âœ…"}),(0,b.jsx)("h2",{className:"text-lg font-semibold text-emerald-500",children:"Email Verified!"}),(0,b.jsx)("p",{className:"mt-2 text-sm text-[var(--muted)]",children:"Your email has been verified and your account has been upgraded to Basic KYC."}),(0,b.jsxs)("div",{className:"mt-6 flex justify-center gap-3",children:[(0,b.jsx)(e.default,{href:"/wallet",className:"rounded-lg bg-[var(--accent)] px-5 py-2 text-xs font-medium text-white transition hover:brightness-110",children:"Open Wallet"}),(0,b.jsx)(e.default,{href:"/account",className:"rounded-lg border border-[var(--border)] px-5 py-2 text-xs font-medium transition hover:bg-[color-mix(in_srgb,var(--card)_70%,transparent)]",children:"View Account"})]})]})}a.s(["VerifyEmailClient",()=>g])}];

//# sourceMappingURL=%5Broot-of-the-server%5D__87422990._.js.map