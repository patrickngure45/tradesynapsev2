{"version":3,"sources":["../../../../src/components/v2/Input.tsx","../../../../src/components/v2/Button.tsx","../../../../src/components/v2/Card.tsx","../../../../src/components/v2/Skeleton.tsx","../../../../src/app/connections/ConnectionsClient.tsx"],"sourcesContent":["import * as React from \"react\";\r\n\r\nexport type V2InputProps = Omit<React.InputHTMLAttributes<HTMLInputElement>, \"className\"> & {\r\n  className?: string;\r\n};\r\n\r\nexport const V2Input = React.forwardRef<HTMLInputElement, V2InputProps>(function V2Input(\r\n  { className = \"\", type = \"text\", ...props },\r\n  ref,\r\n) {\r\n  return (\r\n    <input\r\n      ref={ref}\r\n      type={type}\r\n      className={\r\n        \"h-11 w-full rounded-xl border border-[var(--v2-border)] bg-[var(--v2-surface)] px-3 text-[14px] text-[var(--v2-text)] shadow-[var(--v2-shadow-sm)] outline-none placeholder:text-[color-mix(in_srgb,var(--v2-muted)_70%,transparent)] focus:ring-2 focus:ring-[var(--v2-ring)] \" +\r\n        className\r\n      }\r\n      {...props}\r\n    />\r\n  );\r\n});\r\n","import * as React from \"react\";\r\n\r\nexport type V2ButtonVariant = \"primary\" | \"secondary\" | \"ghost\" | \"danger\";\r\nexport type V2ButtonSize = \"sm\" | \"md\" | \"lg\";\r\n\r\nexport function v2ButtonClassName(options?: {\r\n  variant?: V2ButtonVariant;\r\n  size?: V2ButtonSize;\r\n  fullWidth?: boolean;\r\n  className?: string;\r\n}): string {\r\n  const variant: V2ButtonVariant = options?.variant ?? \"secondary\";\r\n  const size: V2ButtonSize = options?.size ?? \"md\";\r\n\r\n  const base =\r\n    \"inline-flex select-none items-center justify-center gap-2 whitespace-nowrap rounded-xl transition focus:outline-none focus:ring-2 focus:ring-[var(--v2-ring)] disabled:pointer-events-none disabled:opacity-55\";\r\n\r\n  const sizeClass =\r\n    size === \"lg\" ? \"h-12 px-5 text-[15px]\" : size === \"sm\" ? \"h-9 px-3 text-[13px]\" : \"h-11 px-4 text-[14px]\";\r\n\r\n  const variantClass =\r\n    variant === \"primary\"\r\n      ? \"bg-[var(--v2-accent)] text-white font-semibold shadow-[var(--v2-shadow-sm)] hover:brightness-105\"\r\n      : variant === \"danger\"\r\n        ? \"bg-[var(--down)] text-white font-semibold shadow-[var(--v2-shadow-sm)] hover:brightness-105\"\r\n        : variant === \"ghost\"\r\n          ? \"bg-transparent text-[var(--v2-text)] font-semibold hover:bg-[var(--v2-surface-2)]\"\r\n          : \"border border-[var(--v2-border)] bg-[var(--v2-surface)] text-[var(--v2-text)] font-semibold shadow-[var(--v2-shadow-sm)] hover:bg-[var(--v2-surface-2)]\";\r\n\r\n  const widthClass = options?.fullWidth ? \"w-full\" : \"\";\r\n  const extra = options?.className ?? \"\";\r\n\r\n  return [base, sizeClass, variantClass, widthClass, extra].filter(Boolean).join(\" \");\r\n}\r\n\r\nexport type V2ButtonProps = Omit<React.ButtonHTMLAttributes<HTMLButtonElement>, \"className\"> & {\r\n  variant?: V2ButtonVariant;\r\n  size?: V2ButtonSize;\r\n  fullWidth?: boolean;\r\n  className?: string;\r\n};\r\n\r\nexport const V2Button = React.forwardRef<HTMLButtonElement, V2ButtonProps>(function V2Button(\r\n  { variant, size, fullWidth, className, type, ...props },\r\n  ref,\r\n) {\r\n  return (\r\n    <button\r\n      ref={ref}\r\n      type={type ?? \"button\"}\r\n      className={v2ButtonClassName({ variant, size, fullWidth, className })}\r\n      {...props}\r\n    />\r\n  );\r\n});\r\n","import type { ReactNode } from \"react\";\r\n\r\nexport function V2Card({\r\n  children,\r\n  className = \"\",\r\n}: {\r\n  children: ReactNode;\r\n  className?: string;\r\n}) {\r\n  return (\r\n    <section\r\n      className={\r\n        \"rounded-[var(--v2-radius-lg)] border border-[var(--v2-border)] bg-[var(--v2-surface)] shadow-[var(--v2-shadow-sm)] \" +\r\n        className\r\n      }\r\n    >\r\n      {children}\r\n    </section>\r\n  );\r\n}\r\n\r\nexport function V2CardHeader({\r\n  title,\r\n  subtitle,\r\n  right,\r\n}: {\r\n  title: ReactNode;\r\n  subtitle?: ReactNode;\r\n  right?: ReactNode;\r\n}) {\r\n  return (\r\n    <header className=\"flex items-start justify-between gap-3 px-4 pt-4\">\r\n      <div className=\"min-w-0\">\r\n        <div className=\"text-[15px] font-semibold text-[var(--v2-text)]\">{title}</div>\r\n        {subtitle ? <div className=\"mt-0.5 text-[13px] text-[var(--v2-muted)]\">{subtitle}</div> : null}\r\n      </div>\r\n      {right ? <div className=\"shrink-0\">{right}</div> : null}\r\n    </header>\r\n  );\r\n}\r\n\r\nexport function V2CardBody({ children }: { children: ReactNode }) {\r\n  return <div className=\"px-4 pb-4 pt-3\">{children}</div>;\r\n}\r\n","export function V2Skeleton({ className = \"\" }: { className?: string }) {\r\n  return (\r\n    <div\r\n      className={\r\n        \"animate-pulse rounded-xl border border-[var(--v2-border)] bg-[var(--v2-surface-2)] \" + className\r\n      }\r\n      aria-hidden=\"true\"\r\n    />\r\n  );\r\n}\r\n","\"use client\";\r\n\r\nimport { useCallback, useEffect, useState } from \"react\";\r\nimport { V2Button } from \"@/components/v2/Button\";\r\nimport { V2Input } from \"@/components/v2/Input\";\r\nimport { V2Skeleton } from \"@/components/v2/Skeleton\";\r\nimport { V2Card } from \"@/components/v2/Card\";\r\n\r\ntype Connection = {\r\n  id: string;\r\n  exchange: string;\r\n  label: string;\r\n  status: string;\r\n  last_checked_at: string | null;\r\n  last_error: string | null;\r\n  created_at: string;\r\n};\r\n\r\ntype Balance = { asset: string; free: string; locked: string };\r\n\r\nconst EXCHANGE_LABELS: Record<string, string> = {\r\n  binance: \"Binance\",\r\n  bybit: \"Bybit\",\r\n  okx: \"OKX\",\r\n  kucoin: \"KuCoin\",\r\n  gateio: \"Gate.io\",\r\n  bitget: \"Bitget\",\r\n  mexc: \"MEXC\",\r\n};\r\n\r\nconst EXCHANGE_COLORS: Record<string, string> = {\r\n  binance: \"var(--warn)\",\r\n  bybit: \"var(--accent-2)\",\r\n  okx: \"var(--accent)\",\r\n  kucoin: \"var(--accent)\",\r\n  gateio: \"var(--accent-2)\",\r\n  bitget: \"var(--warn)\",\r\n  mexc: \"var(--accent)\",\r\n};\r\n\r\nexport function ConnectionsClient({ userId }: { userId: string | null }) {\r\n  const [connections, setConnections] = useState<Connection[]>([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [showForm, setShowForm] = useState(false);\r\n  const [balances, setBalances] = useState<Record<string, Balance[]>>({});\r\n  const [loadingBalances, setLoadingBalances] = useState<Record<string, boolean>>({});\r\n\r\n  // Form state\r\n  const [exchange, setExchange] = useState<string>(\"binance\");\r\n  const [label, setLabel] = useState(\"\");\r\n  const [apiKey, setApiKey] = useState(\"\");\r\n  const [apiSecret, setApiSecret] = useState(\"\");\r\n  const [passphrase, setPassphrase] = useState(\"\");\r\n  const [saving, setSaving] = useState(false);\r\n  const [error, setError] = useState<string | null>(null);\r\n\r\n  const headers: HeadersInit = userId ? { \"x-user-id\": userId } : {};\r\n\r\n  const fetchConnections = useCallback(async () => {\r\n    try {\r\n      const res = await fetch(\"/api/exchange/connections\", { credentials: \"include\", headers });\r\n      if (res.ok) {\r\n        const data = await res.json();\r\n        setConnections(data.connections ?? []);\r\n      }\r\n    } catch {\r\n      // ignore\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }, [userId]);\r\n\r\n  useEffect(() => {\r\n    if (userId) fetchConnections();\r\n    else setLoading(false);\r\n  }, [userId, fetchConnections]);\r\n\r\n  const fetchBalances = async (connId: string) => {\r\n    setLoadingBalances((prev) => ({ ...prev, [connId]: true }));\r\n    try {\r\n      const res = await fetch(`/api/exchange/connections/${connId}`, { credentials: \"include\", headers });\r\n      if (res.ok) {\r\n        const data = await res.json();\r\n        setBalances((prev) => ({ ...prev, [connId]: data.balances }));\r\n      }\r\n    } catch {\r\n      // ignore\r\n    } finally {\r\n      setLoadingBalances((prev) => ({ ...prev, [connId]: false }));\r\n    }\r\n  };\r\n\r\n  const deleteConnection = async (connId: string) => {\r\n    if (!confirm(\"Remove this exchange connection?\")) return;\r\n    await fetch(`/api/exchange/connections/${connId}`, { method: \"DELETE\", credentials: \"include\", headers });\r\n    setConnections((prev) => prev.filter((c) => c.id !== connId));\r\n  };\r\n\r\n  const handleSubmit = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    setSaving(true);\r\n    setError(null);\r\n\r\n    try {\r\n      const res = await fetch(\"/api/exchange/connections\", {\r\n        method: \"POST\",\r\n        credentials: \"include\",\r\n        headers: { ...headers, \"Content-Type\": \"application/json\" },\r\n        body: JSON.stringify({\r\n          exchange,\r\n          label,\r\n          api_key: apiKey,\r\n          api_secret: apiSecret,\r\n          passphrase: passphrase || undefined,\r\n        }),\r\n      });\r\n\r\n      const data = await res.json();\r\n      if (!res.ok) {\r\n        setError(data.message || data.error || \"Failed to add connection\");\r\n        return;\r\n      }\r\n\r\n      setShowForm(false);\r\n      setLabel(\"\");\r\n      setApiKey(\"\");\r\n      setApiSecret(\"\");\r\n      setPassphrase(\"\");\r\n      fetchConnections();\r\n    } catch (err) {\r\n      setError((err as Error).message);\r\n    } finally {\r\n      setSaving(false);\r\n    }\r\n  };\r\n\r\n  if (!userId) {\r\n    return (\r\n      <div className=\"flex flex-col items-center justify-center gap-3 py-20 text-center\">\r\n        <div className=\"text-lg font-extrabold tracking-tight text-[var(--v2-text)]\">Connect your exchanges</div>\r\n        <div className=\"text-[13px] text-[var(--v2-muted)]\">Sign in to connect your Binance, Bybit, or OKX API keys.</div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"flex flex-col gap-6\">\r\n      {/* Header */}\r\n      <div className=\"flex items-center justify-between\">\r\n        <div>\r\n          <h2 className=\"text-lg font-extrabold tracking-tight text-[var(--v2-text)]\">API connections</h2>\r\n          <p className=\"text-[13px] text-[var(--v2-muted)]\">Connect external exchange APIs for arbitrage signals and copy trading.</p>\r\n          <p className=\"mt-1 text-[12px] text-[var(--v2-muted)]\">\r\n            Scanning works without keys. Bots: Cash &amp; Carry needs 1 exchange; cross-exchange strategies may need 2.\r\n          </p>\r\n        </div>\r\n        <V2Button variant={showForm ? \"secondary\" : \"primary\"} onClick={() => setShowForm(!showForm)}>\r\n          {showForm ? \"Cancel\" : \"+ Add connection\"}\r\n        </V2Button>\r\n      </div>\r\n\r\n      {/* Add form */}\r\n      {showForm && (\r\n        <form\r\n          onSubmit={handleSubmit}\r\n          className=\"rounded-2xl border border-[var(--v2-border)] bg-[var(--v2-surface)] p-5 shadow-[var(--v2-shadow-md)]\"\r\n        >\r\n          <div className=\"grid gap-4 sm:grid-cols-2\">\r\n            <div>\r\n              <label className=\"mb-1 block text-[12px] font-semibold text-[var(--v2-muted)]\">Exchange</label>\r\n              <select\r\n                value={exchange}\r\n                onChange={(e) => setExchange(e.target.value)}\r\n                className=\"w-full rounded-xl border border-[var(--v2-border)] bg-[var(--v2-surface-2)] px-3 py-2 text-[13px] font-semibold text-[var(--v2-text)] outline-none shadow-[var(--v2-shadow-sm)] focus-visible:ring-2 focus-visible:ring-[var(--v2-ring)]\"\r\n              >\r\n                <option value=\"binance\">Binance</option>\r\n                <option value=\"bybit\">Bybit</option>\r\n                <option value=\"okx\">OKX</option>\r\n                <option value=\"kucoin\">KuCoin</option>\r\n                <option value=\"gateio\">Gate.io</option>\r\n                <option value=\"bitget\">Bitget</option>\r\n                <option value=\"mexc\">MEXC</option>\r\n              </select>\r\n            </div>\r\n            <div>\r\n              <label className=\"mb-1 block text-[12px] font-semibold text-[var(--v2-muted)]\">Label</label>\r\n              <V2Input\r\n                value={label}\r\n                onChange={(e) => setLabel(e.target.value)}\r\n                placeholder=\"e.g. Main Trading Account\"\r\n                required\r\n              />\r\n            </div>\r\n            <div>\r\n              <label className=\"mb-1 block text-[12px] font-semibold text-[var(--v2-muted)]\">API key</label>\r\n              <V2Input\r\n                type=\"password\"\r\n                value={apiKey}\r\n                onChange={(e) => setApiKey(e.target.value)}\r\n                className=\"font-mono\"\r\n                required\r\n              />\r\n            </div>\r\n            <div>\r\n              <label className=\"mb-1 block text-[12px] font-semibold text-[var(--v2-muted)]\">API secret</label>\r\n              <V2Input\r\n                type=\"password\"\r\n                value={apiSecret}\r\n                onChange={(e) => setApiSecret(e.target.value)}\r\n                className=\"font-mono\"\r\n                required\r\n              />\r\n            </div>\r\n            {(exchange === \"okx\" || exchange === \"kucoin\") && (\r\n              <div className=\"sm:col-span-2\">\r\n                <label className=\"mb-1 block text-[12px] font-semibold text-[var(--v2-muted)]\">\r\n                  Passphrase ({exchange === \"okx\" ? \"OKX\" : \"KuCoin\"})\r\n                </label>\r\n                <V2Input\r\n                  type=\"password\"\r\n                  value={passphrase}\r\n                  onChange={(e) => setPassphrase(e.target.value)}\r\n                  className=\"font-mono\"\r\n                />\r\n              </div>\r\n            )}\r\n          </div>\r\n\r\n          {error && (\r\n            <div className=\"mt-3 rounded-2xl border border-[var(--v2-border)] bg-[var(--down-bg)] px-3 py-2 text-[12px] font-semibold text-[var(--down)]\">\r\n              {error}\r\n            </div>\r\n          )}\r\n\r\n          <div className=\"mt-4 flex items-center gap-3\">\r\n            <V2Button type=\"submit\" variant=\"primary\" disabled={saving}>\r\n              {saving ? \"Validating…\" : \"Connect\"}\r\n            </V2Button>\r\n            <span className=\"text-[12px] text-[var(--v2-muted)]\">\r\n              Credentials are encrypted at rest (AES-256-GCM). We validate by fetching balances.\r\n            </span>\r\n          </div>\r\n        </form>\r\n      )}\r\n\r\n      {/* Connections list */}\r\n      {loading ? (\r\n        <div className=\"grid gap-3\">\r\n          <V2Skeleton className=\"h-24\" />\r\n          <V2Skeleton className=\"h-24\" />\r\n        </div>\r\n      ) : connections.length === 0 ? (\r\n        <div className=\"rounded-2xl border border-dashed border-[var(--v2-border)] bg-[var(--v2-surface)] py-12 text-center shadow-[var(--v2-shadow-sm)]\">\r\n          <div className=\"text-[13px] font-semibold text-[var(--v2-text)]\">No connections yet</div>\r\n          <div className=\"mt-1 text-[12px] text-[var(--v2-muted)]\">Add your first exchange API to get started.</div>\r\n        </div>\r\n      ) : (\r\n        <div className=\"grid gap-3\">\r\n          {connections.map((conn) => (\r\n            <V2Card key={conn.id} className=\"p-4\">\r\n              <div className=\"flex items-start justify-between\">\r\n                <div className=\"flex items-center gap-3\">\r\n                  <div\r\n                    className=\"grid h-9 w-9 place-items-center rounded-lg text-xs font-bold text-white\"\r\n                    style={{ background: EXCHANGE_COLORS[conn.exchange] ?? \"var(--accent)\" }}\r\n                  >\r\n                    {conn.exchange.slice(0, 2).toUpperCase()}\r\n                  </div>\r\n                  <div>\r\n                    <div className=\"text-[13px] font-bold text-[var(--v2-text)]\">{conn.label}</div>\r\n                    <div className=\"flex items-center gap-2 text-[12px] text-[var(--v2-muted)]\">\r\n                      <span>{EXCHANGE_LABELS[conn.exchange] ?? conn.exchange}</span>\r\n                      <span className={`inline-flex items-center gap-1 rounded-full px-1.5 py-0.5 text-[10px] font-medium ${conn.status === \"active\" ? \"bg-[var(--up-bg)] text-[var(--up)]\" : \"bg-[var(--down-bg)] text-[var(--down)]\"}`}>\r\n                        <span className={`h-1 w-1 rounded-full ${conn.status === \"active\" ? \"bg-[var(--up)]\" : \"bg-[var(--down)]\"}`} />\r\n                        {conn.status}\r\n                      </span>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <div className=\"flex items-center gap-2\">\r\n                  <V2Button variant=\"secondary\" onClick={() => fetchBalances(conn.id)} disabled={loadingBalances[conn.id]}>\r\n                    {loadingBalances[conn.id] ? \"Loading…\" : \"Balances\"}\r\n                  </V2Button>\r\n                  <V2Button variant=\"danger\" onClick={() => deleteConnection(conn.id)}>\r\n                    Remove\r\n                  </V2Button>\r\n                </div>\r\n              </div>\r\n\r\n              {/* Balances */}\r\n              {balances[conn.id] && (\r\n                <div className=\"mt-3 border-t border-[var(--v2-border)] pt-3\">\r\n                  <div className=\"grid grid-cols-3 gap-2 text-[12px]\">\r\n                    <div className=\"font-semibold text-[var(--v2-muted)]\">Asset</div>\r\n                    <div className=\"font-semibold text-[var(--v2-muted)]\">Available</div>\r\n                    <div className=\"font-semibold text-[var(--v2-muted)]\">Locked</div>\r\n                    {balances[conn.id]!.map((b) => (\r\n                      <div key={b.asset} className=\"contents\">\r\n                        <div className=\"font-mono font-semibold text-[var(--v2-text)]\">{b.asset}</div>\r\n                        <div className=\"font-mono text-[var(--v2-text)]\">{Number(b.free).toFixed(6)}</div>\r\n                        <div className=\"font-mono text-[var(--v2-muted)]\">{Number(b.locked).toFixed(6)}</div>\r\n                      </div>\r\n                    ))}\r\n                  </div>\r\n                </div>\r\n              )}\r\n\r\n              {conn.last_error && (\r\n                <div className=\"mt-2 rounded-xl border border-[var(--v2-border)] bg-[var(--down-bg)] px-2 py-1 text-[11px] font-semibold text-[var(--down)]\">\r\n                  {conn.last_error}\r\n                </div>\r\n              )}\r\n            </V2Card>\r\n          ))}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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"}