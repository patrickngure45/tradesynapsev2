{"version":3,"sources":["../../../../src/components/LastRequestIdCard.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useEffect, useMemo, useState } from \"react\";\r\n\r\nfunction readLastRequestId(): string {\r\n  try {\r\n    return window.sessionStorage.getItem(\"ts.last_request_id\") ?? \"\";\r\n  } catch {\r\n    return \"\";\r\n  }\r\n}\r\n\r\nexport function LastRequestIdCard({ compact }: { compact?: boolean }) {\r\n  const [rid, setRid] = useState<string>(\"\");\r\n  const [copied, setCopied] = useState(false);\r\n\r\n  useEffect(() => {\r\n    setRid(readLastRequestId());\r\n    const t = setInterval(() => setRid(readLastRequestId()), 1500);\r\n    return () => clearInterval(t);\r\n  }, []);\r\n\r\n  const display = useMemo(() => {\r\n    const v = String(rid ?? \"\").trim();\r\n    if (!v) return \"â€”\";\r\n    return v;\r\n  }, [rid]);\r\n\r\n  const copy = async () => {\r\n    const v = String(rid ?? \"\").trim();\r\n    if (!v) return;\r\n    try {\r\n      await navigator.clipboard.writeText(v);\r\n      setCopied(true);\r\n      setTimeout(() => setCopied(false), 1200);\r\n    } catch {\r\n      // ignore\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className={\r\n      compact\r\n        ? \"rounded-xl border border-[var(--border)] bg-[var(--card)] p-4\"\r\n        : \"rounded-xl border border-[var(--border)] bg-[var(--card)] p-6\"\r\n    }>\r\n      <div className=\"flex items-start justify-between gap-3\">\r\n        <div>\r\n          <div className=\"text-xs font-semibold text-[var(--foreground)]\">Support request id</div>\r\n          <div className=\"mt-1 text-[11px] text-[var(--muted)]\">\r\n            If something errors, include this id when contacting support.\r\n          </div>\r\n        </div>\r\n        <button\r\n          type=\"button\"\r\n          onClick={copy}\r\n          disabled={!rid.trim()}\r\n          className=\"rounded-lg border border-[var(--border)] bg-[var(--bg)] px-3 py-2 text-xs font-semibold text-[var(--foreground)] hover:bg-[var(--card-2)] disabled:opacity-60\"\r\n        >\r\n          {copied ? \"Copied\" : \"Copy\"}\r\n        </button>\r\n      </div>\r\n\r\n      <div className=\"mt-3 rounded-lg border border-[var(--border)] bg-[var(--bg)] px-3 py-2 font-mono text-xs text-[var(--foreground)]\">\r\n        {display}\r\n      </div>\r\n\r\n      <div className=\"mt-2 text-[10px] text-[var(--muted)]\">\r\n        This updates automatically after API calls.\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"0DAEA,EAAA,EAAA,CAAA,CAAA,QAEA,SAAS,IACP,GAAI,CACF,OAAO,OAAO,cAAc,CAAC,OAAO,CAAC,uBAAyB,EAChE,CAAE,KAAM,CACN,MAAO,EACT,CACF,CAEO,SAAS,EAAkB,SAAE,CAAO,CAAyB,EAClE,GAAM,CAAC,EAAK,EAAO,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAS,IACjC,CAAC,EAAQ,EAAU,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,GAAC,GAErC,CAAA,EAAA,EAAA,SAAA,AAAS,EAAC,KACR,EAAO,KACP,IAAM,EAAI,YAAY,IAAM,EAAO,KAAsB,MACzD,MAAO,IAAM,cAAc,EAC7B,EAAG,EAAE,EAEL,IAAM,EAAU,CAAA,EAAA,EAAA,OAAA,AAAO,EAAC,KACtB,IAAM,EAAI,OAAO,GAAO,IAAI,IAAI,UAChC,AAAK,GAAG,AAAO,CAAX,EAEN,EAAG,CAAC,EAAI,EAEF,EAAO,UACX,IAAM,EAAI,OAAO,GAAO,IAAI,IAAI,GAChC,GAAK,CAAD,CACJ,CADQ,EACJ,CACF,MAAM,UAAU,SAAS,CAAC,SAAS,CAAC,GACpC,GAAU,GACV,WAAW,IAAM,GAAU,GAAQ,KACrC,CAAE,KAAM,CAER,CACF,EAEA,MACE,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UACH,EACI,gEACA,0EAEJ,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,mDACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,0DAAiD,uBAChE,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,gDAAuC,qEAIxD,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,KAAK,SACL,QAAS,EACT,SAAU,CAAC,EAAI,IAAI,GACnB,UAAU,yKAET,EAAS,SAAW,YAIzB,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,6HACZ,IAGH,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,gDAAuC,kDAK5D"}