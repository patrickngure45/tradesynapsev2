module.exports=[863545,a=>{"use strict";var b=a.i(187924),c=a.i(238246),d=a.i(50944),e=a.i(572131),f=a.i(392415),g=a.i(177394),h=a.i(628347),i=a.i(63836),j=a.i(247348),k=a.i(970937),l=a.i(428925),m=a.i(556836),n=a.i(214373),o=a.i(56773);function p({initialTrades:a}){let p=(0,d.useRouter)(),[q,r]=(0,e.useState)([]),[s,t]=(0,e.useState)(a),[u,v]=(0,e.useState)(!1),[w,x]=(0,e.useState)(null),[y,z]=(0,e.useState)("session"),[A,B]=(0,e.useState)(null),[C,D]=(0,e.useState)(""),[E,F]=(0,e.useState)(!1),[G,H]=(0,e.useState)(""),[I,J]=(0,e.useState)(null),[K,L]=(0,e.useState)("info"),[M,N]=(0,e.useState)(null),O=(a,b)=>{if(M===a.id)return"Working…";if(!ar)return"Select an acting user.";if("dispute"===b.kind)return(0,h.canOpenDispute)(a.status)?"Open dispute (reason=non_payment)":`Not allowed from status: ${a.status}`;if(b.to){if(!(0,h.canTransitionTrade)(a.status,b.to))return`Not allowed from status: ${a.status}`;if("buyer"===b.role&&ar!==a.buyer_user_id)return"Buyer only.";if("seller"===b.role&&ar!==a.seller_user_id)return"Seller only.";if("canceled"===b.to&&"disputed"===a.status)return"Use reviewer decision to cancel disputed trades."}return b.label},[P,Q]=(0,e.useState)(""),[R,S]=(0,e.useState)(""),[T,U]=(0,e.useState)("USD"),[V,W]=(0,e.useState)("BTC"),[X,Y]=(0,e.useState)("1000"),[Z,$]=(0,e.useState)("0.01"),[_,aa]=(0,e.useState)("100000"),[ab,ac]=(0,e.useState)("bank transfer"),[ad,ae]=(0,e.useState)("unknown"),[af,ag]=(0,e.useState)(!0),[ah,ai]=(0,e.useState)(!0),[aj,ak]=(0,e.useState)("binance"),[al,am]=(0,e.useState)("BTCUSDT"),[an,ao]=(0,e.useState)(!0),[ap,aq]=(0,e.useState)("0.01"),ar=(0,e.useMemo)(()=>"session"===y?A??G:G,[y,A,G]),as=(0,e.useMemo)(()=>!!P&&!!R&&P!==R,[P,R]),at=a=>{let b=`/api/trades/${a}/proof-pack`;return ar?`${b}?user_id=${encodeURIComponent(ar)}`:b},au=a=>{let b=`/trades/${a}`;return ar?`${b}?user_id=${encodeURIComponent(ar)}`:b};async function av(){try{let a=await (0,i.fetchWhoAmI)();B(a.user_id)}catch(a){if(a instanceof f.ApiError&&"missing_x_user_id"===a.code)return void B(null);B(null)}}async function aw(a){if(!a)return!1;F(!0),x(null);try{return await (0,i.createSessionCookie)({userId:a,bootstrapKey:C||void 0}),await av(),H(a),L("success"),J("Session cookie set."),!0}catch(a){return a instanceof f.ApiError?x({code:a.code,details:a.details}):x({code:a instanceof Error?a.message:"session_failed"}),!1}finally{F(!1)}}async function ax(){F(!0),x(null);try{await (0,i.clearSessionCookie)(),await av(),L("success"),J("Signed out.")}catch(a){a instanceof f.ApiError?x({code:a.code,details:a.details}):x({code:a instanceof Error?a.message:"signout_failed"})}finally{F(!1)}}async function ay(a){try{x(null);let b=a??("session"===y?A??G:G);if(!b){t([]),x({code:"missing_acting_user_id"});return}if("session"===y){let a=!!C;if(A!==b){if(a&&!E){if(!await aw(b))return}else if(A){t([]),x({code:"session_user_mismatch"});return}}}let c=await (0,f.fetchJsonOrThrow)(`/api/trades?user_id=${encodeURIComponent(b)}`,{cache:"no-store",headers:"header"===y?{"x-user-id":b}:void 0});t(c.trades??[])}catch(a){a instanceof f.ApiError?x({code:a.code,details:a.details}):x({code:a instanceof Error?a.message:"refresh_failed"})}}async function az(a,b){let c="session"===y?A??G:G;if(!c)return void x({code:"missing_acting_user_id"});N(a),x(null);try{if("session"===y){let a=!!C;if(A!==c){if(a&&!E){if(!await aw(c))return}else if(A)return void x({code:"session_user_mismatch"})}}let d={created:"",awaiting_payment:"awaiting-payment",paid_marked:"paid-marked",released:"released",disputed:"",resolved:"resolved",canceled:"canceled"}[b];if(!d)return void x({code:"trade_transition_not_allowed"});let e={method:"POST"};"header"===y&&(e.headers={"x-user-id":c}),await (0,f.fetchJsonOrThrow)(`/api/trades/${a}/status/${d}`,e),L("success"),J(`Trade ${a.slice(0,8)}… moved to ${b}.`),await ay(c)}catch(a){a instanceof f.ApiError?x({code:a.code,details:a.details}):x({code:a instanceof Error?a.message:"transition_failed"})}finally{N(null)}}async function aA(a){let b="session"===y?A??G:G;if(!b)return void x({code:"missing_acting_user_id"});N(a),x(null);try{if("session"===y){let a=!!C;if(A!==b){if(a&&!E){if(!await aw(b))return}else if(A)return void x({code:"session_user_mismatch"})}}let c={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({opened_by_user_id:b,reason_code:"non_payment"})};"header"===y&&(c.headers={...c.headers??{},"x-user-id":b}),await (0,f.fetchJsonOrThrow)(`/api/trades/${a}/dispute`,c),L("success"),J(`Dispute opened for ${a.slice(0,8)}…`),await ay(b)}catch(a){a instanceof f.ApiError?x({code:a.code,details:a.details}):x({code:a instanceof Error?a.message:"open_dispute_failed"})}finally{N(null)}}async function aB(){try{let a=(await (0,f.fetchJsonOrThrow)("/api/dev/users",{cache:"no-store"})).users??[];r(a);let b=a[0]?.id??"",c=a[1]?.id??b;Q(a=>a||b),S(a=>a||c);let d=(0,j.readActingUserIdPreference)()||b;H(a=>a||d)}catch(a){a instanceof f.ApiError?x({code:a.code,details:a.details}):x({code:a instanceof Error?a.message:"users_failed"})}}async function aC(){x(null),v(!0);try{await (0,f.fetchJsonOrThrow)("/api/dev/users",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:"active",kyc_level:"basic",country:"US"})}),await aB()}catch(a){a instanceof f.ApiError?x({code:a.code,details:a.details}):x({code:a instanceof Error?a.message:"create_user_failed"})}finally{v(!1)}}async function aD(){if(!as)return void x({code:"missing_or_invalid_users"});x(null),v(!0);try{if("session"===y&&P&&A!==P&&!await aw(P))return;let a={buyer_user_id:P,seller_user_id:R,fiat_currency:T,crypto_asset:V,fiat_amount:X,crypto_amount:Z,price:_,payment_method_label:ab,payment_method_risk_class:ad,assess_risk:af};ah&&(a.reference_market={exchange:aj,symbol:al,persist:an,pct:ap});let b=(await (0,f.fetchJsonOrThrow)("/api/trades",{method:"POST",headers:{"Content-Type":"application/json",..."header"===y?{"x-user-id":P}:{}},body:JSON.stringify(a)})).trade.id;H(P),await ay(P),p.push(`/trades/${b}?user_id=${encodeURIComponent(P)}`),p.refresh()}catch(a){a instanceof f.ApiError?x({code:a.code,details:a.details}):x({code:a instanceof Error?a.message:"create_trade_failed"})}finally{v(!1)}}return(0,e.useEffect)(()=>{aB(),av()},[]),(0,e.useEffect)(()=>{G&&((0,j.persistActingUserIdPreference)(G),ay(G))},[G]),(0,b.jsxs)("div",{className:"mt-6 grid gap-6",children:[(0,b.jsx)(l.Toast,{message:I,kind:K,onDone:()=>J(null)}),(0,b.jsx)(g.ApiErrorBanner,{error:w}),(0,b.jsxs)(n.V2Card,{children:[(0,b.jsx)(n.V2CardHeader,{title:"Create trade",right:(0,b.jsx)(m.V2Button,{variant:"ghost",size:"sm",onClick:()=>void ay(),children:"Refresh trades"})}),(0,b.jsxs)(n.V2CardBody,{children:[(0,b.jsxs)("div",{className:"grid gap-1",children:[(0,b.jsx)("span",{className:"text-[12px] font-semibold text-[var(--v2-muted)]",children:"Acting user (scopes trade list)"}),(0,b.jsxs)("select",{className:"h-11 w-full rounded-xl border border-[var(--v2-border)] bg-[var(--v2-surface)] px-3 font-mono text-[12px] text-[var(--v2-text)] shadow-[var(--v2-shadow-sm)] outline-none focus:ring-2 focus:ring-[var(--v2-ring)]",value:G,onChange:a=>{let b=a.target.value;"session"!==y?H(b):(H(b),C&&b&&A!==b&&(async()=>{await aw(b)||H(G)})())},children:[(0,b.jsx)("option",{value:"",children:"(select user)"}),q.map(a=>(0,b.jsx)("option",{value:a.id,children:a.id},a.id))]}),(0,b.jsxs)("div",{className:"mt-2 flex flex-wrap items-center gap-3",children:[(0,b.jsxs)("label",{className:"flex items-center gap-2 text-[12px] text-[var(--v2-muted)]",children:[(0,b.jsx)("span",{className:"font-semibold",children:"Auth mode"}),(0,b.jsxs)("select",{className:"h-9 rounded-xl border border-[var(--v2-border)] bg-[var(--v2-surface)] px-3 text-[12px] font-semibold text-[var(--v2-text)] shadow-[var(--v2-shadow-sm)] outline-none focus:ring-2 focus:ring-[var(--v2-ring)]",value:y,onChange:a=>{let b=a.target.value;z(b),"session"!==b||!G||A===G||C&&aw(G)},children:[(0,b.jsx)("option",{value:"session",children:"session cookie"}),(0,b.jsx)("option",{value:"header",children:"x-user-id header"})]})]}),"session"===y?(0,b.jsxs)("div",{className:"flex flex-wrap items-center gap-2 text-[12px] text-[var(--v2-muted)]",children:[(0,b.jsx)("span",{className:"font-semibold",children:"Session"}),(0,b.jsx)("span",{className:"font-mono",children:A?`${A.slice(0,8)}…`:"(none)"}),(0,b.jsx)(m.V2Button,{size:"sm",variant:"secondary",disabled:!G||E,onClick:()=>void aw(G),children:"Sign in"}),(0,b.jsx)(m.V2Button,{size:"sm",variant:"secondary",disabled:E,onClick:()=>void ax(),children:"Sign out"}),(0,b.jsxs)("details",{children:[(0,b.jsx)("summary",{className:"cursor-pointer text-[11px] font-semibold text-[var(--v2-muted)]",children:"prod bootstrap"}),(0,b.jsx)("div",{className:"mt-2 grid gap-1",children:(0,b.jsxs)("label",{className:"grid gap-1",children:[(0,b.jsx)("span",{className:"text-[11px] font-semibold text-[var(--v2-muted)]",children:"x-session-bootstrap-key"}),(0,b.jsx)(o.V2Input,{className:"h-10 font-mono text-[12px]",value:C,type:"password",placeholder:"(only needed in production)",onChange:a=>D(a.target.value)})]})})]})]}):(0,b.jsx)("div",{className:"text-[12px] text-[var(--v2-muted)]",children:"Requests send x-user-id."})]})]}),(0,b.jsxs)("div",{className:"mt-4 grid gap-3",children:[(0,b.jsxs)("div",{className:"flex flex-wrap items-center gap-3",children:[(0,b.jsx)(m.V2Button,{variant:"secondary",disabled:u,onClick:()=>void aC(),children:"+ Dev user"}),(0,b.jsx)("div",{className:"text-[13px] text-[var(--v2-muted)]",children:"Need users? Create two, then submit."})]}),(0,b.jsxs)("div",{className:"grid gap-3 md:grid-cols-2",children:[(0,b.jsxs)("label",{className:"grid gap-1",children:[(0,b.jsx)("span",{className:"text-[12px] font-semibold text-[var(--v2-muted)]",children:"Buyer"}),(0,b.jsx)("select",{className:"h-11 w-full rounded-xl border border-[var(--v2-border)] bg-[var(--v2-surface)] px-3 font-mono text-[12px] text-[var(--v2-text)] shadow-[var(--v2-shadow-sm)] outline-none focus:ring-2 focus:ring-[var(--v2-ring)]",value:P,onChange:a=>Q(a.target.value),children:q.map(a=>(0,b.jsx)("option",{value:a.id,children:a.id},a.id))})]}),(0,b.jsxs)("label",{className:"grid gap-1",children:[(0,b.jsx)("span",{className:"text-[12px] font-semibold text-[var(--v2-muted)]",children:"Seller"}),(0,b.jsx)("select",{className:"h-11 w-full rounded-xl border border-[var(--v2-border)] bg-[var(--v2-surface)] px-3 font-mono text-[12px] text-[var(--v2-text)] shadow-[var(--v2-shadow-sm)] outline-none focus:ring-2 focus:ring-[var(--v2-ring)]",value:R,onChange:a=>S(a.target.value),children:q.map(a=>(0,b.jsx)("option",{value:a.id,children:a.id},a.id))})]})]}),(0,b.jsxs)("div",{className:"grid gap-3 md:grid-cols-3",children:[(0,b.jsxs)("label",{className:"grid gap-1",children:[(0,b.jsx)("span",{className:"text-[12px] font-semibold text-[var(--v2-muted)]",children:"Fiat"}),(0,b.jsx)(o.V2Input,{className:"font-mono",value:T,onChange:a=>U(a.target.value)})]}),(0,b.jsxs)("label",{className:"grid gap-1",children:[(0,b.jsx)("span",{className:"text-[12px] font-semibold text-[var(--v2-muted)]",children:"Asset"}),(0,b.jsx)(o.V2Input,{className:"font-mono",value:V,onChange:a=>W(a.target.value)})]}),(0,b.jsxs)("label",{className:"grid gap-1",children:[(0,b.jsx)("span",{className:"text-[12px] font-semibold text-[var(--v2-muted)]",children:"Price"}),(0,b.jsx)(o.V2Input,{className:"font-mono",value:_,onChange:a=>aa(a.target.value)})]})]}),(0,b.jsxs)("div",{className:"grid gap-3 md:grid-cols-2",children:[(0,b.jsxs)("label",{className:"grid gap-1",children:[(0,b.jsx)("span",{className:"text-[12px] font-semibold text-[var(--v2-muted)]",children:"Fiat amount"}),(0,b.jsx)(o.V2Input,{className:"font-mono",value:X,onChange:a=>Y(a.target.value)})]}),(0,b.jsxs)("label",{className:"grid gap-1",children:[(0,b.jsx)("span",{className:"text-[12px] font-semibold text-[var(--v2-muted)]",children:"Crypto amount"}),(0,b.jsx)(o.V2Input,{className:"font-mono",value:Z,onChange:a=>$(a.target.value)})]})]}),(0,b.jsxs)("div",{className:"grid gap-3 md:grid-cols-2",children:[(0,b.jsxs)("label",{className:"grid gap-1",children:[(0,b.jsx)("span",{className:"text-[12px] font-semibold text-[var(--v2-muted)]",children:"Payment label"}),(0,b.jsx)(o.V2Input,{value:ab,onChange:a=>ac(a.target.value)})]}),(0,b.jsxs)("label",{className:"grid gap-1",children:[(0,b.jsx)("span",{className:"text-[12px] font-semibold text-[var(--v2-muted)]",children:"Payment risk"}),(0,b.jsxs)("select",{className:"h-11 w-full rounded-xl border border-[var(--v2-border)] bg-[var(--v2-surface)] px-3 text-[14px] font-semibold text-[var(--v2-text)] shadow-[var(--v2-shadow-sm)] outline-none focus:ring-2 focus:ring-[var(--v2-ring)]",value:ad,onChange:a=>ae(a.target.value),children:[(0,b.jsx)("option",{value:"unknown",children:"unknown"}),(0,b.jsx)("option",{value:"irreversible",children:"irreversible"}),(0,b.jsx)("option",{value:"reversible",children:"reversible"})]})]})]}),(0,b.jsxs)("div",{className:"flex flex-wrap items-center gap-4 text-[13px] text-[var(--v2-text)]",children:[(0,b.jsxs)("label",{className:"flex items-center gap-2",children:[(0,b.jsx)("input",{type:"checkbox",checked:af,onChange:a=>ag(a.target.checked),className:"accent-[var(--v2-accent)]"}),"Assess risk (v0)"]}),(0,b.jsxs)("label",{className:"flex items-center gap-2",children:[(0,b.jsx)("input",{type:"checkbox",checked:ah,onChange:a=>ai(a.target.checked),className:"accent-[var(--v2-accent)]"}),"Attach reference market"]})]}),ah?(0,b.jsxs)("div",{className:"grid gap-3 md:grid-cols-4",children:[(0,b.jsxs)("label",{className:"grid gap-1",children:[(0,b.jsx)("span",{className:"text-[12px] font-semibold text-[var(--v2-muted)]",children:"Exchange"}),(0,b.jsxs)("select",{className:"h-11 w-full rounded-xl border border-[var(--v2-border)] bg-[var(--v2-surface)] px-3 text-[14px] font-semibold text-[var(--v2-text)] shadow-[var(--v2-shadow-sm)] outline-none focus:ring-2 focus:ring-[var(--v2-ring)]",value:aj,onChange:a=>ak(a.target.value),children:[(0,b.jsx)("option",{value:"binance",children:"binance"}),(0,b.jsx)("option",{value:"bybit",children:"bybit"})]})]}),(0,b.jsxs)("label",{className:"grid gap-1 md:col-span-2",children:[(0,b.jsx)("span",{className:"text-[12px] font-semibold text-[var(--v2-muted)]",children:"Symbol"}),(0,b.jsx)(o.V2Input,{className:"font-mono",value:al,onChange:a=>am(a.target.value)})]}),(0,b.jsxs)("label",{className:"grid gap-1",children:[(0,b.jsx)("span",{className:"text-[12px] font-semibold text-[var(--v2-muted)]",children:"Band pct"}),(0,b.jsx)(o.V2Input,{className:"font-mono",value:ap,onChange:a=>aq(a.target.value)})]}),(0,b.jsxs)("label",{className:"flex items-center gap-2 text-[13px] text-[var(--v2-text)] md:col-span-4",children:[(0,b.jsx)("input",{type:"checkbox",checked:an,onChange:a=>ao(a.target.checked),className:"accent-[var(--v2-accent)]"}),"Persist snapshot to DB"]})]}):null,(0,b.jsx)(m.V2Button,{variant:"primary",disabled:u||!as,onClick:()=>void aD(),children:u?"Working…":"Create trade"}),as?null:(0,b.jsx)("div",{className:"text-[13px] text-[var(--v2-muted)]",children:"Select two different users to submit."})]})]})]}),(0,b.jsxs)(n.V2Card,{children:[(0,b.jsx)(n.V2CardHeader,{title:"Recent trades",right:(0,b.jsx)(c.default,{className:"text-[13px] font-semibold text-[var(--v2-accent-2)] underline",href:"/",children:"Home"})}),(0,b.jsx)(n.V2CardBody,{children:(0,b.jsx)("div",{className:"overflow-x-auto rounded-2xl border border-[var(--v2-border)] bg-[var(--v2-surface)]",children:(0,b.jsxs)("table",{className:"w-full text-[13px]",children:[(0,b.jsx)("thead",{className:"bg-[var(--v2-surface-2)] text-left text-[var(--v2-muted)]",children:(0,b.jsxs)("tr",{children:[(0,b.jsx)("th",{className:"px-3 py-2",children:"ID"}),(0,b.jsx)("th",{className:"px-3 py-2",children:"Pair"}),(0,b.jsx)("th",{className:"px-3 py-2",children:"Price"}),(0,b.jsx)("th",{className:"px-3 py-2",children:"Deviation"}),(0,b.jsx)("th",{className:"px-3 py-2",children:"Status"}),(0,b.jsx)("th",{className:"px-3 py-2",children:"Actions"}),(0,b.jsx)("th",{className:"px-3 py-2",children:"Created"}),(0,b.jsx)("th",{className:"px-3 py-2",children:"Proof pack"})]})}),(0,b.jsxs)("tbody",{children:[s.map(a=>(0,b.jsxs)("tr",{className:"border-t border-[var(--v2-border)]",children:[(0,b.jsx)("td",{className:"px-3 py-2 font-mono",children:(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsxs)(c.default,{className:"font-semibold text-[var(--v2-accent-2)] underline",href:au(a.id),children:[a.id.slice(0,8),"…"]}),(0,b.jsx)(m.V2Button,{size:"sm",variant:"secondary",onClick:async()=>{try{let b=au(a.id),c=new URL(b,window.location.origin).toString(),d=await (0,k.copyToClipboard)(c);L(d?"success":"error"),J(d?"Trade link copied.":"Copy failed.")}catch{L("error"),J("Copy failed.")}},children:"Copy"})]})}),(0,b.jsxs)("td",{className:"px-3 py-2",children:[a.crypto_asset,"/",a.fiat_currency]}),(0,b.jsx)("td",{className:"px-3 py-2 font-mono",children:a.price}),(0,b.jsx)("td",{className:"px-3 py-2 font-mono",children:a.price_deviation_pct??"—"}),(0,b.jsx)("td",{className:"px-3 py-2",children:(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("span",{className:"font-semibold text-[var(--v2-text)]",children:a.status}),(a=>{if(!ar)return null;let c=ar===a.buyer_user_id?"buyer":ar===a.seller_user_id?"seller":null;if(!c)return null;let d="buyer"===c?"border-[color-mix(in_srgb,var(--up)_35%,var(--v2-border))] bg-[color-mix(in_srgb,var(--up)_10%,transparent)] text-[var(--up)]":"border-[color-mix(in_srgb,var(--v2-accent-2)_35%,var(--v2-border))] bg-[color-mix(in_srgb,var(--v2-accent-2)_10%,transparent)] text-[var(--v2-accent-2)]";return(0,b.jsx)("span",{className:`rounded-full border px-2 py-0.5 text-[11px] font-semibold ${d}`,children:c})})(a)]})}),(0,b.jsx)("td",{className:"px-3 py-2",children:(0,b.jsxs)("div",{className:"flex flex-wrap items-center gap-2",children:[(0,b.jsx)(m.V2Button,{size:"sm",variant:"secondary",disabled:M===a.id||!(0,h.canTransitionTrade)(a.status,"awaiting_payment"),onClick:()=>void az(a.id,"awaiting_payment"),title:O(a,{label:"created → awaiting_payment",to:"awaiting_payment"}),children:"Awaiting"}),(0,b.jsx)(m.V2Button,{size:"sm",variant:"secondary",disabled:M===a.id||!(0,h.canTransitionTrade)(a.status,"paid_marked")||ar!==a.buyer_user_id,onClick:()=>void az(a.id,"paid_marked"),title:O(a,{label:"awaiting_payment → paid_marked",to:"paid_marked",role:"buyer"}),children:"Paid"}),(0,b.jsx)(m.V2Button,{size:"sm",variant:"secondary",disabled:M===a.id||!(0,h.canTransitionTrade)(a.status,"released")||ar!==a.seller_user_id,onClick:()=>void az(a.id,"released"),title:O(a,{label:"paid_marked → released",to:"released",role:"seller"}),children:"Release"}),(0,b.jsx)(m.V2Button,{size:"sm",variant:"secondary",disabled:M===a.id||!(0,h.canTransitionTrade)(a.status,"resolved"),onClick:()=>void az(a.id,"resolved"),title:O(a,{label:"Resolve trade",to:"resolved"}),children:"Resolve"}),(0,b.jsx)(m.V2Button,{size:"sm",variant:"danger",disabled:M===a.id||"disputed"===a.status||!(0,h.canTransitionTrade)(a.status,"canceled"),onClick:()=>void az(a.id,"canceled"),title:O(a,{label:"Cancel trade",to:"canceled"}),children:"Cancel"}),(0,b.jsx)(m.V2Button,{size:"sm",variant:"secondary",disabled:M===a.id||!ar||!(0,h.canOpenDispute)(a.status),onClick:()=>void aA(a.id),title:O(a,{label:"Open dispute",kind:"dispute"}),children:"Dispute"})]})}),(0,b.jsx)("td",{className:"px-3 py-2 font-mono",children:a.created_at}),(0,b.jsx)("td",{className:"px-3 py-2",children:(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("a",{className:"text-[12px] font-semibold text-[var(--v2-accent-2)] underline",href:at(a.id),children:"ZIP"}),(0,b.jsx)(m.V2Button,{size:"sm",variant:"secondary",onClick:async()=>{try{let b=at(a.id),c=new URL(b,window.location.origin).toString();await (0,k.copyToClipboard)(c)?(L("success"),J("Proof pack link copied.")):(L("error"),J("Copy failed."))}catch{L("error"),J("Copy failed.")}},children:"Copy link"})]})})]},a.id)),0===s.length?(0,b.jsx)("tr",{children:(0,b.jsx)("td",{className:"px-3 py-4 text-[13px] text-[var(--v2-muted)]",colSpan:8,children:"No trades yet."})}):null]})]})})})]}),(0,b.jsx)("section",{className:"text-[12px] text-[var(--v2-muted)]",children:(0,b.jsx)("div",{children:"Pro tip: after creating a trade, open it and upload evidence, then download the Proof Pack ZIP."})})]})}a.s(["TradesClient",()=>p])}];

//# sourceMappingURL=src_app_trades_TradesClient_tsx_62b44fac._.js.map