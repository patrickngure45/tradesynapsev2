module.exports=[556704,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-async-storage.external.js",()=>require("next/dist/server/app-render/work-async-storage.external.js"))},832319,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-unit-async-storage.external.js",()=>require("next/dist/server/app-render/work-unit-async-storage.external.js"))},909270,(a,b,c)=>{"use strict";b.exports=a.r(342602).vendored.contexts.AppRouterContext},738783,(a,b,c)=>{"use strict";b.exports=a.r(342602).vendored["react-ssr"].ReactServerDOMTurbopackClient},120635,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/action-async-storage.external.js",()=>require("next/dist/server/app-render/action-async-storage.external.js"))},736313,(a,b,c)=>{"use strict";b.exports=a.r(342602).vendored.contexts.HooksClientContext},818341,(a,b,c)=>{"use strict";b.exports=a.r(342602).vendored.contexts.ServerInsertedHtml},346058,(a,b,c)=>{"use strict";function d(a){if("function"!=typeof WeakMap)return null;var b=new WeakMap,c=new WeakMap;return(d=function(a){return a?c:b})(a)}c._=function(a,b){if(!b&&a&&a.__esModule)return a;if(null===a||"object"!=typeof a&&"function"!=typeof a)return{default:a};var c=d(b);if(c&&c.has(a))return c.get(a);var e={__proto__:null},f=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var g in a)if("default"!==g&&Object.prototype.hasOwnProperty.call(a,g)){var h=f?Object.getOwnPropertyDescriptor(a,g):null;h&&(h.get||h.set)?Object.defineProperty(e,g,h):e[g]=a[g]}return e.default=a,c&&c.set(a,e),e}},739118,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0});var d={DEFAULT_SEGMENT_KEY:function(){return l},NOT_FOUND_SEGMENT_KEY:function(){return m},PAGE_SEGMENT_KEY:function(){return k},addSearchParamsIfPageSegment:function(){return i},computeSelectedLayoutSegment:function(){return j},getSegmentValue:function(){return f},getSelectedLayoutSegmentPath:function(){return function a(b,c,d=!0,e=[]){let g;if(d)g=b[1][c];else{let a=b[1];g=a.children??Object.values(a)[0]}if(!g)return e;let h=f(g[0]);return!h||h.startsWith(k)?e:(e.push(h),a(g,c,!1,e))}},isGroupSegment:function(){return g},isParallelRouteSegment:function(){return h}};for(var e in d)Object.defineProperty(c,e,{enumerable:!0,get:d[e]});function f(a){return Array.isArray(a)?a[1]:a}function g(a){return"("===a[0]&&a.endsWith(")")}function h(a){return a.startsWith("@")&&"@children"!==a}function i(a,b){if(a.includes(k)){let a=JSON.stringify(b);return"{}"!==a?k+"?"+a:k}return a}function j(a,b){if(!a||0===a.length)return null;let c="children"===b?a[0]:a[a.length-1];return c===l?null:c}let k="__PAGE__",l="__DEFAULT__",m="/_not-found"},392415,a=>{"use strict";class b extends Error{code;details;status;requestId;constructor(a,b){super(b?.requestId?`${a} (req ${b.requestId})`:a),this.name="ApiError",this.code=a,this.details=b?.details,this.status=b?.status,this.requestId=b?.requestId}}function c(a){return new Promise(b=>setTimeout(b,Math.max(0,Math.floor(a))))}async function d(a,d){let e=d?{...d,credentials:d.credentials??"same-origin"}:{credentials:"same-origin"},f=(e?.method??"GET").toUpperCase();if(["POST","PUT","PATCH","DELETE"].includes(f)){let a=function(){if("u"<typeof document)return null;let a=document.cookie.match(/(?:^|;\s*)__csrf=([^;]+)/);return a?.[1]??null}();if(a){let b=new Headers(e?.headers);b.has("x-csrf-token")||b.set("x-csrf-token",a),e.headers=b}}let g=(e?.method??"GET").toUpperCase(),h="GET"===g||"HEAD"===g,i=2*!!h,j=null;for(let d=0;d<=i;d+=1)try{let f=await fetch(a,e),g=f.headers.get("x-request-id")??void 0,j=await f.text().catch(()=>""),k=(f.headers.get("content-type")??"").includes("text/html")||function(a){let b=String(a??"").trimStart();return b.startsWith("<!DOCTYPE html")||b.startsWith("<html")||b.startsWith("<!doctype html")}(j),l=k?{_raw:"<html/>"}:function(a){try{return a?JSON.parse(a):null}catch{return{_raw:a}}}(j);if(!f.ok){if(h&&(502===f.status||503===f.status||504===f.status)&&d<i){await c(250*Math.pow(2,d));continue}if(l&&"object"==typeof l&&"error"in l){let a="string"==typeof l.error?l.error:`http_${f.status}`,c=void 0!==l.details?l.details:"string"==typeof l.message?l.message:k?{message:`Upstream error (HTTP ${f.status}). Please retry.`}:void 0;throw new b(a,{details:c,status:f.status,requestId:g})}if(l&&"object"==typeof l&&"message"in l){let a="string"==typeof l.message?l.message:l;throw new b(`http_${f.status}`,{details:a,status:f.status,requestId:g})}let a=k?{message:`Upstream error (HTTP ${f.status}). Please retry.`}:l;throw new b(`http_${f.status}`,{details:a,status:f.status,requestId:g})}return l}catch(a){if(j=a,h&&d<i){await c(250*Math.pow(2,d));continue}throw a}throw j}a.s(["ApiError",()=>b,"fetchJsonOrThrow",()=>d])},527396,a=>{"use strict";var b=a.i(187924),c=a.i(572131),d=a.i(50944),e=a.i(238246),f=a.i(392415);function g(){let a=(0,d.useSearchParams)().get("token")??"",[g,h]=(0,c.useState)(""),[i,j]=(0,c.useState)(""),[k,l]=(0,c.useState)("idle"),[m,n]=(0,c.useState)(null),o=(0,c.useMemo)(()=>g.length>=8&&g===i&&a.length>0,[g,i,a]);async function p(){l("loading"),n(null);try{await (0,f.fetchJsonOrThrow)("/api/auth/password-reset/confirm",{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({token:a,newPassword:g})}),l("success")}catch(a){if(l("idle"),a instanceof f.ApiError){if("invalid_or_expired_token"===a.code)return void n("This link is invalid or has expired.");n("string"==typeof a.details?a.details:a.code);return}n("Network error â€” please try again.")}}return a?"success"===k?(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("div",{className:"mb-3 text-3xl",children:"âœ…"}),(0,b.jsx)("h2",{className:"text-lg font-semibold text-emerald-500",children:"Password updated"}),(0,b.jsx)("p",{className:"mt-2 text-sm text-[var(--muted)]",children:"You can now log in with your new password."}),(0,b.jsx)(e.default,{href:"/login",className:"mt-6 inline-block rounded-lg bg-[var(--accent)] px-5 py-2 text-xs font-medium text-white transition hover:brightness-110",children:"Go to login"})]}):(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("div",{className:"mb-3 text-3xl",children:"ðŸ”’"}),(0,b.jsx)("h2",{className:"text-lg font-semibold",children:"Set a new password"}),(0,b.jsx)("p",{className:"mt-2 text-sm text-[var(--muted)]",children:"Choose a strong password (min 8 characters)."})]}),(0,b.jsxs)("div",{className:"mt-6 rounded-xl border border-[var(--border)] bg-[var(--card)] p-4",children:[(0,b.jsx)("label",{className:"text-[10px] font-semibold uppercase tracking-wider text-[var(--muted)]",children:"New password"}),(0,b.jsx)("input",{value:g,onChange:a=>h(a.target.value),type:"password",placeholder:"Min 8 characters",className:"mt-2 w-full rounded-lg border border-[var(--border)] bg-[var(--bg)] px-3 py-2 text-sm text-[var(--foreground)] outline-none focus:border-[var(--accent)]"}),(0,b.jsx)("label",{className:"mt-4 block text-[10px] font-semibold uppercase tracking-wider text-[var(--muted)]",children:"Confirm password"}),(0,b.jsx)("input",{value:i,onChange:a=>j(a.target.value),type:"password",placeholder:"Repeat password",className:"mt-2 w-full rounded-lg border border-[var(--border)] bg-[var(--bg)] px-3 py-2 text-sm text-[var(--foreground)] outline-none focus:border-[var(--accent)]"}),m?(0,b.jsx)("div",{className:"mt-2 text-xs text-[var(--down)]",children:m}):null,i&&g!==i?(0,b.jsx)("div",{className:"mt-2 text-xs text-[var(--warn)]",children:"Passwords do not match."}):null,(0,b.jsx)("button",{type:"button",disabled:!o||"loading"===k,onClick:()=>void p(),className:"mt-4 w-full rounded-lg bg-[var(--accent)] px-4 py-2 text-xs font-semibold text-white transition hover:brightness-110 disabled:opacity-60",children:"loading"===k?"Updatingâ€¦":"Update password"})]}),(0,b.jsx)("div",{className:"mt-4 text-center text-xs text-[var(--muted)]",children:(0,b.jsx)(e.default,{className:"underline hover:text-[var(--foreground)]",href:"/login",children:"Back to login"})})]}):(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("div",{className:"mb-3 text-3xl",children:"ðŸ”—"}),(0,b.jsx)("h2",{className:"text-lg font-semibold",children:"Missing reset token"}),(0,b.jsx)("p",{className:"mt-2 text-sm text-[var(--muted)]",children:"Please use the link from your password reset email."}),(0,b.jsx)(e.default,{href:"/forgot-password",className:"mt-4 inline-block rounded-lg bg-[var(--accent)] px-5 py-2 text-xs font-medium text-white transition hover:brightness-110",children:"Request a new link"})]})}a.s(["ResetPasswordClient",()=>g])}];

//# sourceMappingURL=%5Broot-of-the-server%5D__6823b6fa._.js.map