module.exports=[291772,a=>{"use strict";var b=a.i(187924),c=a.i(572131),d=a.i(238246),e=a.i(556836),f=a.i(214373),g=a.i(56773),h=a.i(825683),i=a.i(782691);function j(a){let b=Number(String(a??""));if(!Number.isFinite(b))return"—";if(0===b)return"0";let c=Math.abs(b);return b.toLocaleString(void 0,{maximumFractionDigits:c>=1e3?2:c>=1?4:c>=.01?6:8})}function k(a){let b=String(a||"");return b.length>18?`${b.slice(0,10)}…${b.slice(-6)}`:b}function l(){let[a,l]=(0,c.useState)(!0),[m,n]=(0,c.useState)(null),[o,p]=(0,c.useState)(null),[q,r]=(0,c.useState)(null),[s,t]=(0,c.useState)(null),[u,v]=(0,c.useState)(null),[w,x]=(0,c.useState)(null),[y,z]=(0,c.useState)([]),[A,B]=(0,c.useState)(null),[C,D]=(0,c.useState)(null),[E,F]=(0,c.useState)([]),[G,H]=(0,c.useState)([]),[I,J]=(0,c.useState)([]),[K,L]=(0,c.useState)([]),[M,N]=(0,c.useState)([]),[O,P]=(0,c.useState)(null),Q=(0,c.useRef)(0),R=(0,c.useRef)(0),S=(0,c.useRef)(null),T=(0,c.useRef)(null),U=(0,c.useRef)(0),[V,W]=(0,c.useState)(!1),[X,Y]=(0,c.useState)(""),[Z,$]=(0,c.useState)(null),[_,aa]=(0,c.useState)(!1),[ab,ac]=(0,c.useState)(!1),[ad,ae]=(0,c.useState)(null),[af,ag]=(0,c.useState)(""),[ah,ai]=(0,c.useState)(""),[aj,ak]=(0,c.useState)(""),[al,am]=(0,c.useState)(!1),[an,ao]=(0,c.useState)(null),[ap,aq]=(0,c.useState)(""),[ar,as]=(0,c.useState)(""),[at,au]=(0,c.useState)(""),[av,aw]=(0,c.useState)(!1),[ax,ay]=(0,c.useState)(null),[az,aA]=(0,c.useState)(null),[aB,aC]=(0,c.useState)(""),[aD,aE]=(0,c.useState)(!1),[aF,aG]=(0,c.useState)(null),[aH,aI]=(0,c.useState)(!1),[aJ,aK]=(0,c.useState)(null),aL=async()=>{let a=++R.current;S.current?.abort();let b=new AbortController;S.current=b,n(null),p(null),r(null),t(null),v(null),x(null);try{let[c,d]=await Promise.all([fetch("/api/exchange/deposit/address",{method:"POST",headers:{"content-type":"application/json"},credentials:"include",signal:b.signal,body:JSON.stringify({chain:"bsc"})}),fetch("/api/exchange/deposits/pending",{cache:"no-store",credentials:"include",signal:b.signal})]),[e,f,g]=await Promise.all([fetch("/api/exchange/assets",{cache:"no-store",credentials:"include",signal:b.signal}),fetch("/api/exchange/withdrawals/allowlist",{cache:"no-store",credentials:"include",signal:b.signal}),fetch("/api/exchange/withdrawals",{cache:"no-store",credentials:"include",signal:b.signal})]),h=Date.now()-Q.current>45e3?await fetch("/api/exchange/portfolio",{cache:"no-store",credentials:"include",signal:b.signal}).catch(()=>null):null,i=await fetch("/api/exchange/balances",{cache:"no-store",credentials:"include",signal:b.signal}).catch(()=>null),j=await c.json().catch(()=>null),k=await d.json().catch(()=>null),l=await e.json().catch(()=>null),m=await f.json().catch(()=>null),n=await g.json().catch(()=>null),o=h&&h.ok?await h.json().catch(()=>null):null;if(!c.ok)throw Error("string"==typeof j?.error?j.error:`http_${c.status}`);if(a!==R.current)return;B(j?.address??null);let q=j?.supported?.token_mode?String(j.supported.token_mode):null;if(D(q),F(Array.isArray(j?.supported?.token_symbols)?j.supported.token_symbols:[]),d.ok)H(Array.isArray(k?.deposits)?k.deposits:[]);else{let a=k?.error||k?.message;r("string"==typeof a&&a.length?a:`Pending deposits unavailable (HTTP ${d.status}).`),H([])}let s=Array.isArray(l?.assets)?l.assets:[];if(J(s),!Z){let a=s.find(a=>"bsc"===String(a.chain).toLowerCase());a&&$(a.id)}if(f.ok){let a=Array.isArray(m?.addresses)?m.addresses:[];if(L(a),!ad){let b=a.find(a=>"active"===a.status&&"bsc"===String(a.chain).toLowerCase());b&&ae(b.address)}}else{let a=m?.error||m?.message;v("string"==typeof a&&a.length?a:`Allowlist unavailable (HTTP ${f.status}).`),L([])}if(g.ok)N(Array.isArray(n?.withdrawals)?n.withdrawals:[]);else{let a=n?.error||n?.message;t("string"==typeof a&&a.length?a:`Withdrawals unavailable (HTTP ${g.status}).`),N([])}if(h&&(h.ok&&o?.ok?(P(o),Q.current=Date.now()):h.ok||x(`Activity unavailable (HTTP ${h.status}).`)),i&&i.ok){let a=await i.json().catch(()=>null);z(Array.isArray(a?.balances)?a.balances:[])}else{let a=i?.status;a&&p(`Balances unavailable (HTTP ${a}).`),z([])}}catch(b){if(b instanceof DOMException&&"AbortError"===b.name||a!==R.current)return;n(b instanceof Error?b.message:String(b))}finally{a===R.current&&l(!1)}};(0,c.useEffect)(()=>{aL();let a=window.setInterval(()=>{"visible"===document.visibilityState&&aL()},15e3),b=()=>{"visible"===document.visibilityState&&aL()};return document.addEventListener("visibilitychange",b),()=>{window.clearInterval(a),document.removeEventListener("visibilitychange",b)}},[]),(0,c.useEffect)(()=>{let a=()=>{try{T.current?.close()}catch{}T.current=null},b=()=>{let a=Date.now();a-U.current<900||(U.current=a,"visible"===document.visibilityState&&aL())},c=()=>{if(!("visible"!==document.visibilityState||"u"<typeof EventSource)&&!T.current)try{let a=new EventSource("/api/notifications/stream",{withCredentials:!0});a.addEventListener("notification",a=>{try{var c;let d,e=JSON.parse(String(a.data??"{}"));c=String(e?.type??""),d=String(c||""),("deposit_credited"===d||"withdrawal_approved"===d||"withdrawal_rejected"===d||"withdrawal_completed"===d||"order_filled"===d||"order_partially_filled"===d||"order_canceled"===d||"order_rejected"===d)&&b()}catch{}}),a.addEventListener("ready",()=>b()),a.onerror=()=>{},T.current=a}catch{a()}},d=()=>{"visible"===document.visibilityState?c():a()};return document.addEventListener("visibilitychange",d),c(),()=>{document.removeEventListener("visibilitychange",d),a()}},[]);let aM=(0,c.useMemo)(()=>y.filter(a=>{let b=Number(a.available),c=Number(a.posted),d=Number(a.held);return Number.isFinite(b)&&0!==b||Number.isFinite(c)&&0!==c||Number.isFinite(d)&&0!==d}),[y]),aN=async()=>{let a=aB.trim();if(a){aE(!0),aG(null);try{let b=await fetch("/api/exchange/deposits/trace",{method:"POST",credentials:"include",headers:{"content-type":"application/json"},body:JSON.stringify({chain:"bsc",tx_hash:a})}),c=await b.json().catch(()=>null);b.ok?aG(c):aG({ok:!1,error:String(c?.error??"trace_failed"),message:String(c?.message??c?.details?.message??"")})}catch(a){aG({ok:!1,error:a instanceof Error?a.message:String(a)})}finally{aE(!1)}}},aO=async()=>{let a=aB.trim();if(a){aI(!0),aK(null);try{let b=await fetch("/api/exchange/deposits/report",{method:"POST",credentials:"include",headers:{"content-type":"application/json"},body:JSON.stringify({chain:"bsc",tx_hash:a})}),c=await b.json().catch(()=>null);b.ok?aK(c):aK({ok:!1,error:String(c?.error??"post_failed"),message:String(c?.details?.message??c?.message??"")})}catch(a){aK({ok:!1,error:a instanceof Error?a.message:String(a)})}finally{aI(!1)}}},aP=(0,c.useMemo)(()=>Z?I.find(a=>a.id===Z)??null:null,[I,Z]),aQ=(0,c.useMemo)(()=>ad?K.find(a=>a.address===ad)??null:null,[K,ad]),aR=(0,c.useMemo)(()=>{let a=X.trim().toLowerCase(),b=I.filter(a=>"bsc"===String(a.chain).toLowerCase());return a?b.filter(b=>{let c=String(b.symbol??"").toLowerCase(),d=String(b.name??"").toLowerCase();return c.includes(a)||d.includes(a)}):b},[I,X]),aS=async()=>{let a=af.trim();if(a){ao(null),am(!0);try{let b=await fetch("/api/exchange/withdrawals/allowlist",{method:"POST",credentials:"include",headers:{"content-type":"application/json"},body:JSON.stringify({chain:"bsc",address:a,label:ah.trim()||void 0,totp_code:aj.trim()||void 0})}),c=await b.json().catch(()=>null);if(!b.ok){let a=c?.details?.message||c?.message||c?.error;ao("string"==typeof a&&a.length?a:`Failed (HTTP ${b.status}).`);return}let d=c?.address?.address;"string"==typeof d&&d&&ae(d),ag(""),ai(""),ak(""),ac(!1),await aL()}catch(a){ao(a instanceof Error?a.message:String(a))}finally{am(!1)}}},aT=async()=>{let a=ap.trim();if(Z&&ad&&a){aA(null),ay(null),aw(!0);try{let b=await fetch("/api/exchange/withdrawals/request",{method:"POST",credentials:"include",headers:{"content-type":"application/json"},body:JSON.stringify({asset_id:Z,amount:a,destination_address:ad,reference:ar.trim()||void 0,totp_code:at.trim()||void 0})}),c=await b.json().catch(()=>null);if(!b.ok){let a=c?.details?.message||c?.detail?.message||c?.message||c?.error;aA("string"==typeof a&&a.length?a:`Failed (HTTP ${b.status}).`);return}ay(c),aq(""),as(""),au(""),await aL()}catch(a){aA(a instanceof Error?a.message:String(a))}finally{aw(!1)}}},aU=async a=>{if(a)try{await fetch(`/api/exchange/withdrawals/${encodeURIComponent(a)}/cancel`,{method:"POST",credentials:"include",headers:{"content-type":"application/json"}})}finally{await aL()}},aV=a=>{let b=document.getElementById(a);b&&b.scrollIntoView({behavior:"smooth",block:"start"})};return(0,b.jsxs)("main",{className:"space-y-4",children:[(0,b.jsxs)("header",{className:"space-y-2",children:[(0,b.jsx)("div",{className:"text-[11px] font-bold uppercase tracking-widest text-[var(--v2-muted)]",children:"Wallet"}),(0,b.jsx)("h1",{className:"text-2xl font-extrabold tracking-tight",children:"Balances & deposits"}),(0,b.jsx)("p",{className:"text-sm text-[var(--v2-muted)]",children:"Fast deposit visibility, clear statuses, mobile-first."})]}),(0,b.jsxs)(f.V2Card,{children:[(0,b.jsx)(f.V2CardHeader,{title:"Quick actions",subtitle:"Deposit, withdraw, track"}),(0,b.jsxs)(f.V2CardBody,{children:[(0,b.jsxs)("div",{className:"grid grid-cols-3 gap-2",children:[(0,b.jsx)(e.V2Button,{variant:"secondary",fullWidth:!0,onClick:()=>aV("v2-wallet-deposit"),children:"Deposit"}),(0,b.jsx)(e.V2Button,{variant:"secondary",fullWidth:!0,onClick:()=>aV("v2-wallet-withdraw"),children:"Withdraw"}),(0,b.jsx)(d.default,{href:"/v2/orders",className:(0,e.v2ButtonClassName)({variant:"primary",fullWidth:!0}),children:"Orders"})]}),(0,b.jsxs)("div",{className:"mt-3 grid grid-cols-2 gap-2",children:[(0,b.jsxs)("div",{className:"rounded-2xl border border-[var(--v2-border)] bg-[var(--v2-surface)] px-3 py-3 shadow-[var(--v2-shadow-sm)]",children:[(0,b.jsx)("div",{className:"text-[11px] font-bold uppercase tracking-widest text-[var(--v2-muted)]",children:"Pending deposits"}),(0,b.jsx)("div",{className:"mt-1 text-[16px] font-extrabold text-[var(--v2-text)]",children:a?"…":String(G.length)})]}),(0,b.jsxs)("div",{className:"rounded-2xl border border-[var(--v2-border)] bg-[var(--v2-surface)] px-3 py-3 shadow-[var(--v2-shadow-sm)]",children:[(0,b.jsx)("div",{className:"text-[11px] font-bold uppercase tracking-widest text-[var(--v2-muted)]",children:"Open orders"}),(0,b.jsx)("div",{className:"mt-1 text-[16px] font-extrabold text-[var(--v2-text)]",children:a?"…":String(O?.stats?.openOrders??"—")})]})]}),w?(0,b.jsx)("div",{className:"mt-2 text-[12px] text-[var(--v2-muted)]",children:w}):O?.recentFills?.length?(0,b.jsxs)("div",{className:"mt-3",children:[(0,b.jsx)("div",{className:"mb-2 text-[11px] font-bold uppercase tracking-widest text-[var(--v2-muted)]",children:"Recent fills"}),(0,b.jsx)("div",{className:"grid gap-2",children:O.recentFills.slice(0,3).map(a=>(0,b.jsxs)("div",{className:"flex items-center justify-between gap-3 rounded-2xl border border-[var(--v2-border)] bg-[var(--v2-surface)] px-3 py-2 shadow-[var(--v2-shadow-sm)]",children:[(0,b.jsxs)("div",{className:"min-w-0",children:[(0,b.jsx)("div",{className:"text-[13px] font-semibold text-[var(--v2-text)]",children:a.market}),(0,b.jsxs)("div",{className:"mt-0.5 text-[11px] text-[var(--v2-muted)]",children:[String(a.side).toUpperCase()," • ",j(a.quantity)," @ ",j(a.price)]})]}),(0,b.jsxs)("div",{className:"text-right",children:[(0,b.jsx)("div",{className:"font-mono text-[12px] font-semibold text-[var(--v2-text)]",children:j(a.quoteAmount)}),(0,b.jsx)("div",{className:"mt-0.5 text-[11px] text-[var(--v2-muted)]",children:String(a.role)})]})]},a.executionId))})]}):null]})]}),m?(0,b.jsxs)(f.V2Card,{children:[(0,b.jsx)(f.V2CardHeader,{title:"Wallet unavailable",subtitle:"Sign in and try again."}),(0,b.jsxs)(f.V2CardBody,{children:[(0,b.jsx)("div",{className:"text-sm text-[var(--v2-muted)]",children:String(m)}),(0,b.jsx)("div",{className:"mt-3",children:(0,b.jsx)(e.V2Button,{variant:"primary",fullWidth:!0,onClick:()=>void aL(),children:"Retry"})})]})]}):null,(0,b.jsxs)(f.V2Card,{children:[(0,b.jsx)(f.V2CardHeader,{title:"Deposit address",subtitle:"BSC — your permanent address"}),(0,b.jsx)(f.V2CardBody,{children:a?(0,b.jsx)(i.V2Skeleton,{className:"h-14 w-full"}):A?(0,b.jsxs)("div",{className:"grid gap-2",children:[(0,b.jsx)("div",{className:"rounded-2xl border border-[var(--v2-border)] bg-[var(--v2-surface-2)] px-3 py-3",children:(0,b.jsx)("div",{className:"break-all font-mono text-[12px] text-[var(--v2-text)]",children:A})}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,b.jsx)(e.V2Button,{variant:"secondary",fullWidth:!0,onClick:()=>void navigator.clipboard.writeText(A),children:"Copy"}),(0,b.jsx)(e.V2Button,{variant:"primary",fullWidth:!0,onClick:()=>void aL(),children:"Refresh"})]}),"allowlist"===C&&E.length?(0,b.jsxs)("div",{className:"text-[12px] text-[var(--v2-muted)]",children:["Monitored tokens: ",(0,b.jsx)("span",{className:"font-semibold text-[var(--v2-text)]",children:E.slice(0,10).join(", ")}),E.length>10?"…":""]}):null]}):(0,b.jsx)("div",{className:"text-sm text-[var(--v2-muted)]",children:"No deposit address yet."})})]}),(0,b.jsxs)(f.V2Card,{children:[(0,b.jsx)(f.V2CardHeader,{title:"Pending confirmations",subtitle:"Auto-updates"}),(0,b.jsxs)(f.V2CardBody,{children:[q?(0,b.jsx)("div",{className:"mb-2 rounded-2xl border border-[var(--v2-border)] bg-[var(--v2-surface-2)] px-3 py-2 text-[12px] text-[var(--v2-muted)]",children:q}):null,a?(0,b.jsxs)("div",{className:"grid gap-2",children:[(0,b.jsx)(i.V2Skeleton,{className:"h-14"}),(0,b.jsx)(i.V2Skeleton,{className:"h-14"}),(0,b.jsx)(i.V2Skeleton,{className:"h-14"})]}):0===G.length?(0,b.jsx)("div",{className:"text-sm text-[var(--v2-muted)]",children:"No pending deposits."}):(0,b.jsx)("div",{className:"grid gap-2",children:G.slice(0,8).map(a=>{let c=0===a.confirmations_required||a.confirmations>=a.confirmations_required,d=0===a.confirmations_required?"final":`${Math.min(a.confirmations,a.confirmations_required)}/${a.confirmations_required}`;return(0,b.jsx)("div",{className:"rounded-2xl border border-[var(--v2-border)] bg-[var(--v2-surface)] px-3 py-3 shadow-[var(--v2-shadow-sm)]",children:(0,b.jsxs)("div",{className:"flex items-start justify-between gap-3",children:[(0,b.jsxs)("div",{className:"min-w-0",children:[(0,b.jsx)("div",{className:"font-mono text-[12px] font-semibold text-[var(--v2-text)]",title:a.tx_hash,children:k(a.tx_hash)}),(0,b.jsxs)("div",{className:"mt-0.5 text-[12px] text-[var(--v2-muted)]",children:[j(a.amount)," ",String(a.asset_symbol).toUpperCase()]})]}),(0,b.jsxs)("div",{className:"text-right",children:[(0,b.jsx)("div",{className:`text-[12px] font-semibold ${c?"text-[var(--up)]":"text-[var(--warn)]"}`,children:c?"Ready":`${d} confs`}),(0,b.jsxs)("div",{className:"mt-0.5 text-[11px] text-[var(--v2-muted)]",children:["block ",a.block_number]})]})]})},`${a.tx_hash}:${a.log_index}`)})})]})]}),(0,b.jsx)("div",{id:"v2-wallet-deposit",children:(0,b.jsxs)(f.V2Card,{children:[(0,b.jsx)(f.V2CardHeader,{title:"Trace / Post deposit",subtitle:"Self-serve reconciliation"}),(0,b.jsx)(f.V2CardBody,{children:(0,b.jsxs)("div",{className:"grid gap-2",children:[(0,b.jsx)(g.V2Input,{value:aB,onChange:a=>aC(a.target.value),placeholder:"0x… tx hash",spellCheck:!1,autoCapitalize:"none",autoCorrect:"off"}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,b.jsx)(e.V2Button,{variant:"secondary",fullWidth:!0,disabled:aD||!aB.trim(),onClick:()=>void aN(),children:aD?"Tracing…":"Trace"}),(0,b.jsx)(e.V2Button,{variant:"primary",fullWidth:!0,disabled:aH||!aB.trim(),onClick:()=>void aO(),children:aH?"Posting…":"Post"})]}),aF&&aF.ok?(0,b.jsxs)("div",{className:"rounded-2xl border border-[var(--v2-border)] bg-[var(--v2-surface-2)] px-3 py-2 text-[13px]",children:[(0,b.jsxs)("div",{className:"font-semibold text-[var(--v2-text)]",children:["Verdict: ",aF.verdict]}),aF.diagnostic?.message?(0,b.jsx)("div",{className:"mt-1 text-[var(--v2-muted)]",children:aF.diagnostic.message}):null]}):aF&&!aF.ok?(0,b.jsx)("div",{className:"rounded-2xl border border-[var(--v2-border)] bg-[var(--down-bg)] px-3 py-2 text-[13px] font-semibold text-[var(--down)]",children:aF.message?aF.message:aF.error}):null,aJ&&aJ.ok?(0,b.jsx)("div",{className:"rounded-2xl border border-[var(--v2-border)] bg-[var(--up-bg)] px-3 py-2 text-[13px] font-semibold text-[var(--up)]",children:0===aJ.credits.length?"Processed":1===aJ.credits.length?`${"duplicate"===aJ.credits[0].outcome?"Already credited":"Credited"}. +${aJ.credits[0].amount} ${aJ.credits[0].asset_symbol}`:`Processed ${aJ.credits.length} transfers.`}):aJ&&!aJ.ok?(0,b.jsx)("div",{className:"rounded-2xl border border-[var(--v2-border)] bg-[var(--down-bg)] px-3 py-2 text-[13px] font-semibold text-[var(--down)]",children:aJ.message?aJ.message:aJ.error}):null]})})]})}),(0,b.jsx)("div",{id:"v2-wallet-withdraw",children:(0,b.jsxs)(f.V2Card,{children:[(0,b.jsx)(f.V2CardHeader,{title:"Withdraw",subtitle:"BSC — allowlisted addresses only"}),(0,b.jsxs)(f.V2CardBody,{children:[u?(0,b.jsx)("div",{className:"mb-2 rounded-2xl border border-[var(--v2-border)] bg-[var(--v2-surface-2)] px-3 py-2 text-[12px] text-[var(--v2-muted)]",children:u}):null,az?(0,b.jsx)("div",{className:"mb-2 rounded-2xl border border-[var(--v2-border)] bg-[var(--down-bg)] px-3 py-2 text-[13px] font-semibold text-[var(--down)]",children:az}):null,ax?.withdrawal?.id?(0,b.jsxs)("div",{className:"mb-2 rounded-2xl border border-[var(--v2-border)] bg-[var(--up-bg)] px-3 py-2 text-[13px] font-semibold text-[var(--up)]",children:["Requested. ID ",String(ax.withdrawal.id).slice(0,8),"…",ax.withdrawal?.fees?.network_fee_display_amount?(0,b.jsxs)("span",{className:"ml-2 text-[12px] font-medium text-[var(--v2-muted)]",children:["Fee ",ax.withdrawal.fees.network_fee_display_amount," ",ax.withdrawal.fees.network_fee_display_symbol]}):null]}):null,(0,b.jsxs)("div",{className:"grid gap-2",children:[(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,b.jsx)("button",{type:"button",onClick:()=>W(!0),className:"h-11 rounded-xl border border-[var(--v2-border)] bg-[var(--v2-surface)] px-3 text-left text-[14px] font-semibold text-[var(--v2-text)] shadow-[var(--v2-shadow-sm)]",children:aP?String(aP.symbol).toUpperCase():"Asset"}),(0,b.jsx)("button",{type:"button",onClick:()=>aa(!0),className:"h-11 rounded-xl border border-[var(--v2-border)] bg-[var(--v2-surface)] px-3 text-left text-[14px] font-semibold text-[var(--v2-text)] shadow-[var(--v2-shadow-sm)]",title:ad??"",children:aQ?.label?aQ.label:ad?k(ad):"Destination"})]}),(0,b.jsx)(g.V2Input,{value:ap,onChange:a=>aq(a.target.value),placeholder:"Amount",inputMode:"decimal"}),(0,b.jsx)(g.V2Input,{value:ar,onChange:a=>as(a.target.value),placeholder:"Reference (optional)"}),(0,b.jsx)(g.V2Input,{value:at,onChange:a=>au(a.target.value),placeholder:"2FA code (if required)",inputMode:"numeric",maxLength:6}),(0,b.jsx)(e.V2Button,{variant:"primary",fullWidth:!0,disabled:av||!Z||!ad||!ap.trim(),onClick:()=>void aT(),children:av?"Requesting…":"Request withdrawal"}),(0,b.jsx)("div",{className:"text-[12px] text-[var(--v2-muted)]",children:"Destination must be allowlisted. Some withdrawals require passkey step-up or 2FA."})]})]})]})}),(0,b.jsxs)(f.V2Card,{children:[(0,b.jsx)(f.V2CardHeader,{title:"Withdrawals",subtitle:"Recent"}),(0,b.jsxs)(f.V2CardBody,{children:[s?(0,b.jsx)("div",{className:"mb-2 rounded-2xl border border-[var(--v2-border)] bg-[var(--v2-surface-2)] px-3 py-2 text-[12px] text-[var(--v2-muted)]",children:s}):null,a?(0,b.jsxs)("div",{className:"grid gap-2",children:[(0,b.jsx)(i.V2Skeleton,{className:"h-14"}),(0,b.jsx)(i.V2Skeleton,{className:"h-14"})]}):0===M.length?(0,b.jsx)("div",{className:"text-sm text-[var(--v2-muted)]",children:"No withdrawals yet."}):(0,b.jsx)("div",{className:"grid gap-2",children:M.slice(0,10).map(a=>{let c=String(a.status||""),d="requested"===c;return(0,b.jsx)("div",{className:"rounded-2xl border border-[var(--v2-border)] bg-[var(--v2-surface)] px-3 py-3 shadow-[var(--v2-shadow-sm)]",children:(0,b.jsxs)("div",{className:"flex items-start justify-between gap-3",children:[(0,b.jsxs)("div",{className:"min-w-0",children:[(0,b.jsxs)("div",{className:"text-[13px] font-semibold text-[var(--v2-text)]",children:[j(a.amount)," ",String(a.symbol).toUpperCase()]}),(0,b.jsxs)("div",{className:"mt-0.5 font-mono text-[11px] text-[var(--v2-muted)]",title:a.destination_address,children:["to ",k(a.destination_address)]}),a.tx_hash?(0,b.jsxs)("div",{className:"mt-0.5 font-mono text-[11px] text-[var(--v2-muted)]",title:a.tx_hash,children:["tx ",k(a.tx_hash)]}):null,a.failure_reason?(0,b.jsx)("div",{className:"mt-1 text-[12px] font-semibold text-[var(--down)]",children:a.failure_reason}):null]}),(0,b.jsxs)("div",{className:"text-right",children:[(0,b.jsx)("div",{className:"text-[12px] font-semibold text-[var(--v2-text)]",children:c}),d?(0,b.jsx)("div",{className:"mt-2",children:(0,b.jsx)(e.V2Button,{variant:"secondary",onClick:()=>void aU(a.id),children:"Cancel"})}):null]})]})},a.id)})})]})]}),(0,b.jsxs)(f.V2Card,{children:[(0,b.jsx)(f.V2CardHeader,{title:"Balances",subtitle:"Available / held"}),(0,b.jsxs)(f.V2CardBody,{children:[o?(0,b.jsx)("div",{className:"mb-2 rounded-2xl border border-[var(--v2-border)] bg-[var(--v2-surface-2)] px-3 py-2 text-[12px] text-[var(--v2-muted)]",children:o}):null,a?(0,b.jsxs)("div",{className:"grid gap-2",children:[(0,b.jsx)(i.V2Skeleton,{className:"h-14"}),(0,b.jsx)(i.V2Skeleton,{className:"h-14"})]}):0===aM.length?(0,b.jsx)("div",{className:"text-sm text-[var(--v2-muted)]",children:"No balances to display."}):(0,b.jsx)("div",{className:"grid gap-2",children:aM.slice(0,30).map(a=>(0,b.jsxs)("div",{className:"flex items-center justify-between gap-3 rounded-2xl border border-[var(--v2-border)] bg-[var(--v2-surface)] px-3 py-3 shadow-[var(--v2-shadow-sm)]",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-[15px] font-semibold text-[var(--v2-text)]",children:String(a.symbol).toUpperCase()}),(0,b.jsx)("div",{className:"mt-0.5 text-[12px] text-[var(--v2-muted)]",children:String(a.chain).toUpperCase()})]}),(0,b.jsxs)("div",{className:"text-right",children:[(0,b.jsx)("div",{className:"font-mono text-[13px] font-semibold text-[var(--v2-text)]",children:j(a.available)}),(0,b.jsxs)("div",{className:"mt-0.5 text-[11px] text-[var(--v2-muted)]",children:["held ",j(a.held)]})]})]},a.asset_id))})]})]}),(0,b.jsx)(h.V2Sheet,{open:V,title:"Select asset",onClose:()=>{W(!1),Y("")},children:(0,b.jsxs)("div",{className:"grid gap-2",children:[(0,b.jsx)(g.V2Input,{value:X,onChange:a=>Y(a.target.value),placeholder:"Search"}),(0,b.jsx)("div",{className:"grid gap-2",children:aR.slice(0,50).map(a=>{let c=a.id===Z;return(0,b.jsxs)("button",{type:"button",onClick:()=>{$(a.id),W(!1),Y("")},className:"flex items-center justify-between rounded-2xl border px-3 py-3 text-left shadow-[var(--v2-shadow-sm)] "+(c?"border-[var(--v2-border)] bg-[var(--v2-surface-2)]":"border-[var(--v2-border)] bg-[var(--v2-surface)] hover:bg-[var(--v2-surface-2)]"),children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-[14px] font-semibold text-[var(--v2-text)]",children:String(a.symbol).toUpperCase()}),(0,b.jsx)("div",{className:"mt-0.5 text-[12px] text-[var(--v2-muted)]",children:a.name??""})]}),(0,b.jsx)("div",{className:"text-[12px] font-semibold text-[var(--v2-muted)]",children:"BSC"})]},a.id)})})]})}),(0,b.jsx)(h.V2Sheet,{open:_,title:"Destination",onClose:()=>aa(!1),children:(0,b.jsxs)("div",{className:"grid gap-2",children:[(0,b.jsx)(e.V2Button,{variant:"primary",fullWidth:!0,onClick:()=>{aa(!1),ao(null),ac(!0)},children:"Add allowlisted address"}),(0,b.jsx)("div",{className:"text-[12px] text-[var(--v2-muted)]",children:"Select an active allowlisted address:"}),(0,b.jsx)("div",{className:"grid gap-2",children:K.filter(a=>"bsc"===String(a.chain).toLowerCase()&&"active"===a.status).slice(0,50).map(a=>{let c=a.address===ad;return(0,b.jsxs)("button",{type:"button",onClick:()=>{ae(a.address),aa(!1)},className:"rounded-2xl border px-3 py-3 text-left shadow-[var(--v2-shadow-sm)] "+(c?"border-[var(--v2-border)] bg-[var(--v2-surface-2)]":"border-[var(--v2-border)] bg-[var(--v2-surface)] hover:bg-[var(--v2-surface-2)]"),children:[(0,b.jsx)("div",{className:"text-[13px] font-semibold text-[var(--v2-text)]",children:a.label?a.label:k(a.address)}),(0,b.jsx)("div",{className:"mt-0.5 font-mono text-[11px] text-[var(--v2-muted)]",children:a.address})]},a.id)})})]})}),(0,b.jsx)(h.V2Sheet,{open:ab,title:"Add allowlisted address",onClose:()=>ac(!1),children:(0,b.jsxs)("div",{className:"grid gap-2",children:[an?(0,b.jsx)("div",{className:"rounded-2xl border border-[var(--v2-border)] bg-[var(--down-bg)] px-3 py-2 text-[13px] font-semibold text-[var(--down)]",children:an}):null,(0,b.jsx)(g.V2Input,{value:af,onChange:a=>ag(a.target.value),placeholder:"0x… address",spellCheck:!1,autoCapitalize:"none",autoCorrect:"off"}),(0,b.jsx)(g.V2Input,{value:ah,onChange:a=>ai(a.target.value),placeholder:"Label (optional)"}),(0,b.jsx)(g.V2Input,{value:aj,onChange:a=>ak(a.target.value),placeholder:"2FA code (if required)",inputMode:"numeric",maxLength:6}),(0,b.jsx)(e.V2Button,{variant:"primary",fullWidth:!0,disabled:al||!af.trim(),onClick:()=>void aS(),children:al?"Adding…":"Add"}),(0,b.jsx)("div",{className:"text-[12px] text-[var(--v2-muted)]",children:"May require passkey step-up or 2FA."})]})})]})}a.s(["WalletClient",()=>l])}];

//# sourceMappingURL=src_app_v2_wallet_WalletClient_tsx_f98c4812._.js.map