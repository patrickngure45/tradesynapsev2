{"version":3,"sources":["../../../../src/components/v2/Card.tsx","../../../../src/components/v2/Skeleton.tsx","../../../../src/lib/api/client.ts","../../../../src/app/admin/arcade-transparency/transparencyClient.tsx"],"sourcesContent":["import type { ReactNode } from \"react\";\r\n\r\nexport function V2Card({\r\n  children,\r\n  className = \"\",\r\n}: {\r\n  children: ReactNode;\r\n  className?: string;\r\n}) {\r\n  return (\r\n    <section\r\n      className={\r\n        \"rounded-[var(--v2-radius-lg)] border border-[var(--v2-border)] bg-[var(--v2-surface)] shadow-[var(--v2-shadow-sm)] \" +\r\n        className\r\n      }\r\n    >\r\n      {children}\r\n    </section>\r\n  );\r\n}\r\n\r\nexport function V2CardHeader({\r\n  title,\r\n  subtitle,\r\n  right,\r\n}: {\r\n  title: ReactNode;\r\n  subtitle?: ReactNode;\r\n  right?: ReactNode;\r\n}) {\r\n  return (\r\n    <header className=\"flex items-start justify-between gap-3 px-4 pt-4\">\r\n      <div className=\"min-w-0\">\r\n        <div className=\"text-[15px] font-semibold text-[var(--v2-text)]\">{title}</div>\r\n        {subtitle ? <div className=\"mt-0.5 text-[13px] text-[var(--v2-muted)]\">{subtitle}</div> : null}\r\n      </div>\r\n      {right ? <div className=\"shrink-0\">{right}</div> : null}\r\n    </header>\r\n  );\r\n}\r\n\r\nexport function V2CardBody({ children }: { children: ReactNode }) {\r\n  return <div className=\"px-4 pb-4 pt-3\">{children}</div>;\r\n}\r\n","export function V2Skeleton({ className = \"\" }: { className?: string }) {\r\n  return (\r\n    <div\r\n      className={\r\n        \"animate-pulse rounded-xl border border-[var(--v2-border)] bg-[var(--v2-surface-2)] \" + className\r\n      }\r\n      aria-hidden=\"true\"\r\n    />\r\n  );\r\n}\r\n","export type ApiErrorPayload = {\r\n  error?: string;\r\n  message?: string;\r\n  details?: unknown;\r\n  _raw?: unknown;\r\n};\r\n\r\nexport class ApiError extends Error {\r\n  code: string;\r\n  details?: unknown;\r\n  status?: number;\r\n  requestId?: string;\r\n\r\n  constructor(code: string, opts?: { details?: unknown; status?: number; requestId?: string }) {\r\n    const msg = opts?.requestId ? `${code} (req ${opts.requestId})` : code;\r\n    super(msg);\r\n    this.name = \"ApiError\";\r\n    this.code = code;\r\n    this.details = opts?.details;\r\n    this.status = opts?.status;\r\n    this.requestId = opts?.requestId;\r\n  }\r\n}\r\n\r\nfunction safeJsonParse(text: string): unknown {\r\n  try {\r\n    return text ? JSON.parse(text) : null;\r\n  } catch {\r\n    return { _raw: text };\r\n  }\r\n}\r\n\r\nfunction looksLikeHtml(text: string): boolean {\r\n  const s = String(text ?? \"\").trimStart();\r\n  return s.startsWith(\"<!DOCTYPE html\") || s.startsWith(\"<html\") || s.startsWith(\"<!doctype html\");\r\n}\r\n\r\nfunction sleep(ms: number): Promise<void> {\r\n  return new Promise((r) => setTimeout(r, Math.max(0, Math.floor(ms))));\r\n}\r\n\r\nfunction getImpersonateUserIdFromLocation(): string | null {\r\n  if (typeof window === \"undefined\") return null;\r\n  try {\r\n    const v = new URL(window.location.href).searchParams.get(\"user_id\") ?? \"\";\r\n    const trimmed = v.trim();\r\n    return trimmed ? trimmed : null;\r\n  } catch {\r\n    return null;\r\n  }\r\n}\r\n\r\nfunction shouldAttachImpersonationHeader(input: RequestInfo | URL): boolean {\r\n  if (typeof window === \"undefined\") return false;\r\n\r\n  try {\r\n    const origin = window.location.origin;\r\n    const url =\r\n      typeof input === \"string\"\r\n        ? new URL(input, origin)\r\n        : input instanceof URL\r\n          ? input\r\n          : input instanceof Request\r\n            ? new URL(input.url)\r\n            : null;\r\n\r\n    if (!url) return false;\r\n    if (url.origin !== origin) return false;\r\n    return url.pathname.startsWith(\"/api/\");\r\n  } catch {\r\n    return false;\r\n  }\r\n}\r\n\r\nfunction getCsrfToken(): string | null {\r\n  if (typeof document === \"undefined\") return null;\r\n  const match = document.cookie.match(/(?:^|;\\s*)__csrf=([^;]+)/);\r\n  return match?.[1] ?? null;\r\n}\r\n\r\nexport async function fetchJsonOrThrow<T>(\r\n  input: RequestInfo | URL,\r\n  init?: RequestInit\r\n): Promise<T> {\r\n  const mergedInit: RequestInit | undefined = init\r\n    ? ({\r\n        ...init,\r\n        credentials: init.credentials ?? \"same-origin\",\r\n      } as RequestInit)\r\n    : ({ credentials: \"same-origin\" } as RequestInit);\r\n\r\n  // Attach CSRF double-submit token on mutating requests\r\n  const method = (mergedInit?.method ?? \"GET\").toUpperCase();\r\n\r\n  // Read-only admin view-as: on GET/HEAD requests to our own API, forward the\r\n  // `user_id` from the current page URL as `x-impersonate-user-id`.\r\n  if ((method === \"GET\" || method === \"HEAD\") && shouldAttachImpersonationHeader(input)) {\r\n    const desired = getImpersonateUserIdFromLocation();\r\n    if (desired) {\r\n      const headers = new Headers(mergedInit?.headers);\r\n      if (!headers.has(\"x-impersonate-user-id\")) {\r\n        headers.set(\"x-impersonate-user-id\", desired);\r\n      }\r\n      mergedInit!.headers = headers;\r\n    }\r\n  }\r\n\r\n  if ([\"POST\", \"PUT\", \"PATCH\", \"DELETE\"].includes(method)) {\r\n    const csrf = getCsrfToken();\r\n    if (csrf) {\r\n      const headers = new Headers(mergedInit?.headers);\r\n      if (!headers.has(\"x-csrf-token\")) {\r\n        headers.set(\"x-csrf-token\", csrf);\r\n      }\r\n      mergedInit!.headers = headers;\r\n    }\r\n  }\r\n\r\n  const method0 = (mergedInit?.method ?? \"GET\").toUpperCase();\r\n  const canRetry = method0 === \"GET\" || method0 === \"HEAD\";\r\n  const maxRetries = canRetry ? 2 : 0;\r\n\r\n  let lastErr: unknown = null;\r\n  for (let attempt = 0; attempt <= maxRetries; attempt += 1) {\r\n    try {\r\n      const res = await fetch(input, mergedInit);\r\n      const requestId = res.headers.get(\"x-request-id\") ?? undefined;\r\n\r\n      // Best-effort: remember the last request id so UI/support flows can display it.\r\n      try {\r\n        if (typeof window !== \"undefined\" && requestId) {\r\n          window.sessionStorage.setItem(\"ts.last_request_id\", requestId);\r\n        }\r\n      } catch {\r\n        // ignore\r\n      }\r\n\r\n      const text = await res.text().catch(() => \"\");\r\n      const contentType = res.headers.get(\"content-type\") ?? \"\";\r\n      const isHtml = contentType.includes(\"text/html\") || looksLikeHtml(text);\r\n      const json = (isHtml ? { _raw: \"<html/>\" } : safeJsonParse(text)) as ApiErrorPayload | unknown;\r\n\r\n      if (!res.ok) {\r\n        // Retry transient upstream errors for idempotent requests.\r\n        if (canRetry && (res.status === 502 || res.status === 503 || res.status === 504) && attempt < maxRetries) {\r\n          await sleep(250 * Math.pow(2, attempt));\r\n          continue;\r\n        }\r\n\r\n        if (json && typeof json === \"object\" && \"error\" in (json as ApiErrorPayload)) {\r\n          const payload = json as ApiErrorPayload;\r\n          const code = typeof payload.error === \"string\" ? payload.error : `http_${res.status}`;\r\n          const details =\r\n            payload.details !== undefined\r\n              ? payload.details\r\n              : typeof payload.message === \"string\"\r\n                ? payload.message\r\n                : isHtml\r\n                  ? { message: `Upstream error (HTTP ${res.status}). Please retry.` }\r\n                  : undefined;\r\n          throw new ApiError(code, { details, status: res.status, requestId });\r\n        }\r\n\r\n        if (json && typeof json === \"object\" && \"message\" in (json as ApiErrorPayload)) {\r\n          const payload = json as ApiErrorPayload;\r\n          const details = typeof payload.message === \"string\" ? payload.message : json;\r\n          throw new ApiError(`http_${res.status}`, { details, status: res.status, requestId });\r\n        }\r\n\r\n        const details = isHtml ? { message: `Upstream error (HTTP ${res.status}). Please retry.` } : json;\r\n        throw new ApiError(`http_${res.status}`, { details, status: res.status, requestId });\r\n      }\r\n\r\n      return json as T;\r\n    } catch (e) {\r\n      lastErr = e;\r\n      // Retry network errors on idempotent requests.\r\n      if (canRetry && attempt < maxRetries) {\r\n        await sleep(250 * Math.pow(2, attempt));\r\n        continue;\r\n      }\r\n      throw e;\r\n    }\r\n  }\r\n\r\n  throw lastErr;\r\n}\r\n","\"use client\";\r\n\r\nimport { useEffect, useMemo, useState } from \"react\";\r\n\r\nimport { ApiError, fetchJsonOrThrow } from \"@/lib/api/client\";\r\nimport { V2Card } from \"@/components/v2/Card\";\r\nimport { V2Skeleton } from \"@/components/v2/Skeleton\";\r\n\r\ntype TransparencyResponse = {\r\n  ok: true;\r\n  counts: {\r\n    actions_total: number;\r\n    actions_resolved: number;\r\n    inventory_rows: number;\r\n    inventory_quantity: number;\r\n  };\r\n  daily_drop: {\r\n    distribution_all_time: Array<{ rarity: string; count: number }>;\r\n    distribution_7d: Array<{ day: string; rarity: string; count: number }>;\r\n  };\r\n  calendar_daily: {\r\n    distribution_all_time: Array<{ rarity: string; count: number }>;\r\n    distribution_7d: Array<{ day: string; rarity: string; count: number }>;\r\n  };\r\n  time_vault: {\r\n    distribution_all_time: Array<{ rarity: string; count: number }>;\r\n    distribution_7d: Array<{ day: string; rarity: string; count: number }>;\r\n  };\r\n  boost_draft: {\r\n    distribution_all_time: Array<{ rarity: string; count: number }>;\r\n    distribution_7d: Array<{ day: string; rarity: string; count: number }>;\r\n  };\r\n  ai_oracle: {\r\n    distribution_all_time: Array<{ rarity: string; count: number }>;\r\n    distribution_7d: Array<{ day: string; rarity: string; count: number }>;\r\n  };\r\n  latency_7d: Array<{ module: string; n: number; p50_s: number; p95_s: number; avg_s: number }>;\r\n  overdue: Array<{ module: string; count: number }>;\r\n  boost_consumption_7d: Array<{ day: string; code: string; count: number }>;\r\n  crafting_7d: {\r\n    items_salvaged: number;\r\n    shards_spent: number;\r\n    salvage_events: number;\r\n    craft_events: number;\r\n  };\r\n};\r\n\r\nfunction fmtSeconds(s: number) {\r\n  if (!Number.isFinite(s) || s <= 0) return \"0s\";\r\n  if (s < 1) return `${Math.round(s * 1000)}ms`;\r\n  if (s < 60) return `${Math.round(s * 10) / 10}s`;\r\n  const m = Math.floor(s / 60);\r\n  const rem = Math.round(s - m * 60);\r\n  if (m < 60) return `${m}m ${rem}s`;\r\n  const h = Math.floor(m / 60);\r\n  const mm = m - h * 60;\r\n  return `${h}h ${mm}m`;\r\n}\r\n\r\nfunction toneForRarity(rarity: string): { dot: string; bg: string; text: string } {\r\n  const r = String(rarity ?? \"\").toLowerCase();\r\n  if (r === \"legendary\") return { dot: \"bg-[var(--warn)]\", bg: \"bg-[var(--warn-bg)]\", text: \"text-[var(--warn)]\" };\r\n  if (r === \"epic\") {\r\n    return {\r\n      dot: \"bg-[var(--v2-accent-2)]\",\r\n      bg: \"bg-[color-mix(in_srgb,var(--v2-accent-2)_12%,transparent)]\",\r\n      text: \"text-[var(--v2-accent-2)]\",\r\n    };\r\n  }\r\n  if (r === \"rare\") {\r\n    return {\r\n      dot: \"bg-[var(--v2-accent)]\",\r\n      bg: \"bg-[color-mix(in_srgb,var(--v2-accent)_10%,transparent)]\",\r\n      text: \"text-[var(--v2-accent)]\",\r\n    };\r\n  }\r\n  return { dot: \"bg-[var(--v2-border)]\", bg: \"bg-[var(--v2-surface-2)]\", text: \"text-[var(--v2-muted)]\" };\r\n}\r\n\r\nexport function AdminArcadeTransparencyClient() {\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState<string | null>(null);\r\n  const [data, setData] = useState<TransparencyResponse | null>(null);\r\n\r\n  useEffect(() => {\r\n    let cancelled = false;\r\n    (async () => {\r\n      setLoading(true);\r\n      setError(null);\r\n      try {\r\n        const res = await fetchJsonOrThrow<TransparencyResponse>(\"/api/admin/arcade/transparency\", { cache: \"no-store\" });\r\n        if (!cancelled) setData(res);\r\n      } catch (e) {\r\n        if (cancelled) return;\r\n        if (e instanceof ApiError) setError(e.code);\r\n        else setError(\"Network error\");\r\n      } finally {\r\n        if (!cancelled) setLoading(false);\r\n      }\r\n    })();\r\n    return () => {\r\n      cancelled = true;\r\n    };\r\n  }, []);\r\n\r\n  function distFor(key: \"daily_drop\" | \"calendar_daily\" | \"time_vault\" | \"boost_draft\" | \"ai_oracle\") {\r\n    const rows = (data as any)?.[key]?.distribution_all_time ?? [];\r\n    const total = rows.reduce((acc: number, r: any) => acc + (Number.isFinite(r.count) ? r.count : 0), 0);\r\n    return { rows: rows as Array<{ rarity: string; count: number }>, total };\r\n  }\r\n\r\n  const dailyDist = useMemo(() => distFor(\"daily_drop\"), [data]);\r\n  const calDist = useMemo(() => distFor(\"calendar_daily\"), [data]);\r\n  const vaultDist = useMemo(() => distFor(\"time_vault\"), [data]);\r\n  const draftDist = useMemo(() => distFor(\"boost_draft\"), [data]);\r\n  const oracleDist = useMemo(() => distFor(\"ai_oracle\"), [data]);\r\n\r\n  const latency = useMemo(() => {\r\n    const rows = data?.latency_7d ?? [];\r\n    const list = rows\r\n      .map((r) => ({\r\n        module: r.module,\r\n        n: Number(r.n) || 0,\r\n        p50_s: Number(r.p50_s) || 0,\r\n        p95_s: Number(r.p95_s) || 0,\r\n        avg_s: Number(r.avg_s) || 0,\r\n      }))\r\n      .filter((r) => r.n > 0);\r\n    list.sort((a, b) => b.p95_s - a.p95_s);\r\n    return list;\r\n  }, [data]);\r\n\r\n  const overdue = useMemo(() => {\r\n    const rows = data?.overdue ?? [];\r\n    const list = rows.map((r) => ({ module: r.module, count: Number(r.count) || 0 })).filter((r) => r.count > 0);\r\n    list.sort((a, b) => b.count - a.count);\r\n    return list;\r\n  }, [data]);\r\n\r\n  if (loading) {\r\n    return <V2Skeleton className=\"h-40\" />;\r\n  }\r\n\r\n  if (error) {\r\n    return (\r\n      <div className=\"rounded-2xl border border-[var(--v2-border)] bg-[var(--warn-bg)] px-6 py-5 text-[13px] font-semibold text-[var(--v2-text)]\">\r\n        Error: <span className=\"font-extrabold\">{error}</span>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (!data) {\r\n    return (\r\n      <div className=\"rounded-2xl border border-[var(--v2-border)] bg-[var(--v2-surface)] px-6 py-10 text-center text-[13px] text-[var(--v2-muted)] shadow-[var(--v2-shadow-sm)]\">\r\n        No data yet.\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"grid gap-6\">\r\n      <section className=\"grid gap-4 md:grid-cols-4\">\r\n        {[{\r\n          k: \"Actions\",\r\n          v: data.counts.actions_total,\r\n          sub: \"Total commits\",\r\n        }, {\r\n          k: \"Resolved\",\r\n          v: data.counts.actions_resolved,\r\n          sub: \"Reveals completed\",\r\n        }, {\r\n          k: \"Inventory\",\r\n          v: data.counts.inventory_quantity,\r\n          sub: \"Total items\",\r\n        }, {\r\n          k: \"Stacks\",\r\n          v: data.counts.inventory_rows,\r\n          sub: \"Unique items\",\r\n        }].map((x) => (\r\n          <V2Card key={x.k} className=\"p-4\">\r\n            <div className=\"text-[11px] font-extrabold uppercase tracking-widest text-[var(--v2-muted)]\">{x.k}</div>\r\n            <div className=\"mt-2 text-2xl font-extrabold tracking-tight text-[var(--v2-text)]\">{x.v}</div>\r\n            <div className=\"mt-1 text-[12px] text-[var(--v2-muted)]\">{x.sub}</div>\r\n          </V2Card>\r\n        ))}\r\n      </section>\r\n\r\n      {([\r\n        { key: \"daily_drop\" as const, title: \"Daily drop distribution\", dist: dailyDist },\r\n        { key: \"calendar_daily\" as const, title: \"Calendar distribution\", dist: calDist },\r\n        { key: \"time_vault\" as const, title: \"Time vault distribution\", dist: vaultDist },\r\n        { key: \"boost_draft\" as const, title: \"Boost draft distribution\", dist: draftDist },\r\n        { key: \"ai_oracle\" as const, title: \"AI Oracle tier distribution\", dist: oracleDist },\r\n      ] as const).map((s) => (\r\n        <V2Card key={s.key} className=\"p-5\">\r\n          <div className=\"flex items-center gap-3\">\r\n            <span className=\"relative inline-flex h-2.5 w-2.5 shrink-0 items-center justify-center\">\r\n              <span className=\"absolute inline-flex h-2.5 w-2.5 rounded-full bg-[var(--v2-accent)]\" />\r\n              <span className=\"absolute inline-flex h-4.5 w-4.5 rounded-full bg-[var(--v2-ring)]\" />\r\n            </span>\r\n            <div className=\"text-[11px] font-extrabold uppercase tracking-widest text-[var(--v2-muted)]\">{s.title}</div>\r\n            <div className=\"h-px flex-1 bg-[var(--v2-border)]\" />\r\n          </div>\r\n\r\n          {s.dist.total === 0 ? (\r\n            <div className=\"mt-5 text-[13px] text-[var(--v2-muted)]\">No resolved actions yet.</div>\r\n          ) : (\r\n            <div className=\"mt-5 grid gap-3\">\r\n              {s.dist.rows.map((r) => {\r\n                const pct = Math.round((r.count * 10_000) / Math.max(1, s.dist.total)) / 100;\r\n                const tone = toneForRarity(r.rarity);\r\n                return (\r\n                  <div key={r.rarity} className=\"rounded-xl border border-[var(--v2-border)] bg-[var(--v2-surface-2)] p-4\">\r\n                    <div className=\"flex items-center justify-between gap-3\">\r\n                      <div className=\"flex items-center gap-2\">\r\n                        <span className={`h-2.5 w-2.5 rounded-full ${tone.dot}`} aria-hidden />\r\n                        <div className=\"text-[13px] font-semibold text-[var(--v2-text)]\">{r.rarity}</div>\r\n                      </div>\r\n                      <div className=\"text-[12px] text-[var(--v2-muted)]\">\r\n                        {r.count} · {pct}%\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"mt-3 h-2 w-full overflow-hidden rounded-full bg-[var(--v2-surface)]\">\r\n                      <div className={`h-full ${tone.bg}`} style={{ width: `${Math.min(100, Math.max(0, pct))}%` }} />\r\n                    </div>\r\n                  </div>\r\n                );\r\n              })}\r\n            </div>\r\n          )}\r\n        </V2Card>\r\n      ))}\r\n\r\n      <V2Card className=\"p-5\">\r\n        <div className=\"flex items-center gap-3\">\r\n          <span className=\"relative inline-flex h-2.5 w-2.5 shrink-0 items-center justify-center\">\r\n            <span className=\"absolute inline-flex h-2.5 w-2.5 rounded-full bg-[var(--v2-accent)]\" />\r\n            <span className=\"absolute inline-flex h-4.5 w-4.5 rounded-full bg-[var(--v2-ring)]\" />\r\n          </span>\r\n          <div className=\"text-[11px] font-extrabold uppercase tracking-widest text-[var(--v2-muted)]\">Resolution latency (7d)</div>\r\n          <div className=\"h-px flex-1 bg-[var(--v2-border)]\" />\r\n        </div>\r\n\r\n        {latency.length === 0 ? (\r\n          <div className=\"mt-5 text-[13px] text-[var(--v2-muted)]\">No resolved actions in the last 7 days.</div>\r\n        ) : (\r\n          <div className=\"mt-5 grid gap-2\">\r\n            {latency.map((r) => (\r\n              <div key={r.module} className=\"grid gap-2 rounded-xl border border-[var(--v2-border)] bg-[var(--v2-surface-2)] p-4 md:grid-cols-4\">\r\n                <div>\r\n                  <div className=\"text-[12px] font-semibold text-[var(--v2-text)]\">{r.module}</div>\r\n                  <div className=\"mt-1 text-[12px] text-[var(--v2-muted)]\">n={r.n}</div>\r\n                </div>\r\n                <div className=\"text-[12px] text-[var(--v2-muted)]\">\r\n                  <span className=\"font-semibold text-[var(--v2-text)]\">p50</span> {fmtSeconds(r.p50_s)}\r\n                </div>\r\n                <div className=\"text-[12px] text-[var(--v2-muted)]\">\r\n                  <span className=\"font-semibold text-[var(--v2-text)]\">p95</span> {fmtSeconds(r.p95_s)}\r\n                </div>\r\n                <div className=\"text-[12px] text-[var(--v2-muted)]\">\r\n                  <span className=\"font-semibold text-[var(--v2-text)]\">avg</span> {fmtSeconds(r.avg_s)}\r\n                </div>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        )}\r\n      </V2Card>\r\n\r\n      <V2Card className=\"p-5\">\r\n        <div className=\"flex items-center gap-3\">\r\n          <span className=\"relative inline-flex h-2.5 w-2.5 shrink-0 items-center justify-center\">\r\n            <span className=\"absolute inline-flex h-2.5 w-2.5 rounded-full bg-[var(--warn)]\" />\r\n            <span className=\"absolute inline-flex h-4.5 w-4.5 rounded-full bg-[var(--v2-ring)]\" />\r\n          </span>\r\n          <div className=\"text-[11px] font-extrabold uppercase tracking-widest text-[var(--v2-muted)]\">Overdue actions</div>\r\n          <div className=\"h-px flex-1 bg-[var(--v2-border)]\" />\r\n        </div>\r\n\r\n        {overdue.length === 0 ? (\r\n          <div className=\"mt-5 text-[13px] text-[var(--v2-muted)]\">No overdue actions right now.</div>\r\n        ) : (\r\n          <div className=\"mt-5 grid gap-2\">\r\n            {overdue.map((r) => (\r\n              <div key={r.module} className=\"flex items-center justify-between gap-3 rounded-xl border border-[var(--v2-border)] bg-[var(--v2-surface-2)] px-4 py-3\">\r\n                <div className=\"text-[13px] font-semibold text-[var(--v2-text)]\">{r.module}</div>\r\n                <div className=\"text-[12px] font-extrabold text-[var(--v2-muted)]\">×{r.count}</div>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        )}\r\n      </V2Card>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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"}